import{d as Zp,t as Ke,c as Yn,o as As,r as jr,a as za,b as Oa,w as u8,e as Oi,f as ra,n as qu,u as $r,F as FP,g as l8,h as f8,i as w1,j as c8,k as h8,v as v8,l as p8,m as ps,p as ix,q as lu,s as g8,x as d8,y as y8}from"./index.df8aa46a.js";var Qp=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return $i},get Circle(){return aat},get Ellipse(){return sat},get Image(){return lat},get Line(){return cat},get Marker(){return pat},get Path(){return Y2},get Polygon(){return Mat},get Polyline(){return Sat},get Rect(){return bat},get Text(){return Oat}},Symbol.toStringTag,{value:"Module"})),Jp=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return di},get Circle(){return zat},get Dom(){return Wat},get Ellipse(){return Hat},get Image(){return Vat},get Line(){return Kat},get Marker(){return jat},get Path(){return Qat},get Polygon(){return tot},get Polyline(){return rot},get Rect(){return aot},get Text(){return fot}},Symbol.toStringTag,{value:"Module"}));const kP=()=>"canvas",$P=()=>"dashboard",Ps=Zp("canvasOffset",{state:()=>({x:0,y:0}),persist:{enabled:!0},actions:{set(e){this.x=e.x,this.y=e.y}}}),bs=Zp("canvasZoom",{state:()=>({zoom:1}),persist:{enabled:!0},actions:{set(e){this.zoom=e}}}),Ls=Zp("panels",{state:()=>({panels:[]}),persist:{enabled:!0},actions:{clear(e){e?this.panels=this.panels.filter(r=>!e.includes(r.id)):this.panels=[]},set(e){this.panels=e}}}),Ro=Zp("selectedPanels",{state:()=>({panelsID:[]}),getters:{panels(e){return Ls().panels.filter(t=>e.panelsID.includes(t.id))}},persist:{enabled:!0},actions:{clear(){this.panelsID=[]},set(e){this.panelsID=e.map(r=>r.id)}}}),m8=(e,r)=>{const t=Ls(),n=bs(),i=Ro(),{panels:a}=Ke(t),{zoom:o}=Ke(n),{panels:s}=Ke(i),u=Yn(()=>s.value.map(d=>d.id)),l=Yn(()=>u.value.find(d=>d===e)),f={x:0,y:0},c={x:0,y:0},h=d=>{const m=d.x,x=d.y;if(Math.abs(m-f.x)<5&&Math.abs(x-f.y)<5)return;const E=(m-c.x)/o.value,_=(x-c.y)/o.value;c.x=m,c.y=x,t.set(a.value.map(M=>M.id===e||l.value&&u.value.includes(M.id)?{...M,x:M.x+E,y:M.y+_}:M))},v=()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",v)},g=d=>{d.button===0&&(d.ctrlKey||d.metaKey||(window.addEventListener("mouseup",v),window.addEventListener("mousemove",h),c.x=d.x,c.y=d.y,f.x=d.x,f.y=d.y))};r.addEventListener("mousedown",g),As(()=>{window.removeEventListener("mouseup",v),window.removeEventListener("mousemove",h),r.removeEventListener("mousedown",g)})};var ui=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function oa(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}function NP(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var So={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,r){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",c=1,h=2,v=4,g=1,d=2,m=1,x=2,E=4,_=8,M=16,A=32,b=64,I=128,L=256,F=512,$=30,Y="...",k=800,z=16,S=1,T=2,O=3,D=1/0,H=9007199254740991,it=17976931348623157e292,pt=0/0,yt=4294967295,mt=yt-1,Dt=yt>>>1,oe=[["ary",I],["bind",m],["bindKey",x],["curry",_],["curryRight",M],["flip",F],["partial",A],["partialRight",b],["rearg",L]],Ot="[object Arguments]",Oe="[object Array]",Er="[object AsyncFunction]",Mr="[object Boolean]",yr="[object Date]",fa="[object DOMException]",mr="[object Error]",en="[object Function]",ca="[object GeneratorFunction]",Ne="[object Map]",Pn="[object Number]",R="[object Null]",G="[object Object]",X="[object Promise]",K="[object Proxy]",et="[object RegExp]",ft="[object Set]",Mt="[object String]",xt="[object Symbol]",Ct="[object Undefined]",Yt="[object WeakMap]",Ae="[object WeakSet]",se="[object ArrayBuffer]",Ce="[object DataView]",Lr="[object Float32Array]",Wo="[object Float64Array]",yi="[object Int8Array]",mi="[object Int16Array]",Wr="[object Int32Array]",xi="[object Uint8Array]",ll="[object Uint8ClampedArray]",fl="[object Uint16Array]",cl="[object Uint32Array]",ud=/\b__p \+= '';/g,ld=/\b(__p \+=) '' \+/g,fd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cc=/&(?:amp|lt|gt|quot|#39);/g,Sc=/[&<>"']/g,cd=RegExp(Cc.source),hd=RegExp(Sc.source),vd=/<%-([\s\S]+?)%>/g,pd=/<%([\s\S]+?)%>/g,Tc=/<%=([\s\S]+?)%>/g,gd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dd=/^\w*$/,yd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hl=/[\\^$.*+?()[\]{}|]/g,md=RegExp(hl.source),vl=/^\s+/,xd=/\s/,wd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_d=/\{\n\/\* \[wrapped with (.+)\] \*/,Ed=/,? & /,Md=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cd=/[()=,{}\[\]\/\s]/,Sd=/\\(\\)?/g,Td=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pl=/\w*$/,Ad=/^[-+]0x[0-9a-f]+$/i,Pd=/^0b[01]+$/i,bd=/^\[object .+?Constructor\]$/,Ld=/^0o[0-7]+$/i,Od=/^(?:0|[1-9]\d*)$/,Id=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$s=/($^)/,Dd=/['\n\r\u2028\u2029\\]/g,Ns="\\ud800-\\udfff",Bd="\\u0300-\\u036f",Rd="\\ufe20-\\ufe2f",nB="\\u20d0-\\u20ff",s_=Bd+Rd+nB,u_="\\u2700-\\u27bf",l_="a-z\\xdf-\\xf6\\xf8-\\xff",iB="\\xac\\xb1\\xd7\\xf7",aB="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oB="\\u2000-\\u206f",sB=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f_="A-Z\\xc0-\\xd6\\xd8-\\xde",c_="\\ufe0e\\ufe0f",h_=iB+aB+oB+sB,Fd="['\u2019]",uB="["+Ns+"]",v_="["+h_+"]",Ac="["+s_+"]",p_="\\d+",lB="["+u_+"]",g_="["+l_+"]",d_="[^"+Ns+h_+p_+u_+l_+f_+"]",kd="\\ud83c[\\udffb-\\udfff]",fB="(?:"+Ac+"|"+kd+")",y_="[^"+Ns+"]",$d="(?:\\ud83c[\\udde6-\\uddff]){2}",Nd="[\\ud800-\\udbff][\\udc00-\\udfff]",zs="["+f_+"]",m_="\\u200d",x_="(?:"+g_+"|"+d_+")",cB="(?:"+zs+"|"+d_+")",w_="(?:"+Fd+"(?:d|ll|m|re|s|t|ve))?",__="(?:"+Fd+"(?:D|LL|M|RE|S|T|VE))?",E_=fB+"?",M_="["+c_+"]?",hB="(?:"+m_+"(?:"+[y_,$d,Nd].join("|")+")"+M_+E_+")*",vB="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pB="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",C_=M_+E_+hB,gB="(?:"+[lB,$d,Nd].join("|")+")"+C_,dB="(?:"+[y_+Ac+"?",Ac,$d,Nd,uB].join("|")+")",yB=RegExp(Fd,"g"),mB=RegExp(Ac,"g"),zd=RegExp(kd+"(?="+kd+")|"+dB+C_,"g"),xB=RegExp([zs+"?"+g_+"+"+w_+"(?="+[v_,zs,"$"].join("|")+")",cB+"+"+__+"(?="+[v_,zs+x_,"$"].join("|")+")",zs+"?"+x_+"+"+w_,zs+"+"+__,pB,vB,p_,gB].join("|"),"g"),wB=RegExp("["+m_+Ns+s_+c_+"]"),_B=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,EB=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],MB=-1,ze={};ze[Lr]=ze[Wo]=ze[yi]=ze[mi]=ze[Wr]=ze[xi]=ze[ll]=ze[fl]=ze[cl]=!0,ze[Ot]=ze[Oe]=ze[se]=ze[Mr]=ze[Ce]=ze[yr]=ze[mr]=ze[en]=ze[Ne]=ze[Pn]=ze[G]=ze[et]=ze[ft]=ze[Mt]=ze[Yt]=!1;var Re={};Re[Ot]=Re[Oe]=Re[se]=Re[Ce]=Re[Mr]=Re[yr]=Re[Lr]=Re[Wo]=Re[yi]=Re[mi]=Re[Wr]=Re[Ne]=Re[Pn]=Re[G]=Re[et]=Re[ft]=Re[Mt]=Re[xt]=Re[xi]=Re[ll]=Re[fl]=Re[cl]=!0,Re[mr]=Re[en]=Re[Yt]=!1;var CB={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},SB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},TB={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},AB={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},PB=parseFloat,bB=parseInt,S_=typeof ui=="object"&&ui&&ui.Object===Object&&ui,LB=typeof self=="object"&&self&&self.Object===Object&&self,Cr=S_||LB||Function("return this")(),Gd=r&&!r.nodeType&&r,Yo=Gd&&!0&&e&&!e.nodeType&&e,T_=Yo&&Yo.exports===Gd,Wd=T_&&S_.process,qn=function(){try{var Z=Yo&&Yo.require&&Yo.require("util").types;return Z||Wd&&Wd.binding&&Wd.binding("util")}catch{}}(),A_=qn&&qn.isArrayBuffer,P_=qn&&qn.isDate,b_=qn&&qn.isMap,L_=qn&&qn.isRegExp,O_=qn&&qn.isSet,I_=qn&&qn.isTypedArray;function bn(Z,lt,at){switch(at.length){case 0:return Z.call(lt);case 1:return Z.call(lt,at[0]);case 2:return Z.call(lt,at[0],at[1]);case 3:return Z.call(lt,at[0],at[1],at[2])}return Z.apply(lt,at)}function OB(Z,lt,at,Tt){for(var Vt=-1,me=Z==null?0:Z.length;++Vt<me;){var lr=Z[Vt];lt(Tt,lr,at(lr),Z)}return Tt}function jn(Z,lt){for(var at=-1,Tt=Z==null?0:Z.length;++at<Tt&&lt(Z[at],at,Z)!==!1;);return Z}function IB(Z,lt){for(var at=Z==null?0:Z.length;at--&&lt(Z[at],at,Z)!==!1;);return Z}function D_(Z,lt){for(var at=-1,Tt=Z==null?0:Z.length;++at<Tt;)if(!lt(Z[at],at,Z))return!1;return!0}function Xa(Z,lt){for(var at=-1,Tt=Z==null?0:Z.length,Vt=0,me=[];++at<Tt;){var lr=Z[at];lt(lr,at,Z)&&(me[Vt++]=lr)}return me}function Pc(Z,lt){var at=Z==null?0:Z.length;return!!at&&Gs(Z,lt,0)>-1}function Yd(Z,lt,at){for(var Tt=-1,Vt=Z==null?0:Z.length;++Tt<Vt;)if(at(lt,Z[Tt]))return!0;return!1}function Ye(Z,lt){for(var at=-1,Tt=Z==null?0:Z.length,Vt=Array(Tt);++at<Tt;)Vt[at]=lt(Z[at],at,Z);return Vt}function Va(Z,lt){for(var at=-1,Tt=lt.length,Vt=Z.length;++at<Tt;)Z[Vt+at]=lt[at];return Z}function Hd(Z,lt,at,Tt){var Vt=-1,me=Z==null?0:Z.length;for(Tt&&me&&(at=Z[++Vt]);++Vt<me;)at=lt(at,Z[Vt],Vt,Z);return at}function DB(Z,lt,at,Tt){var Vt=Z==null?0:Z.length;for(Tt&&Vt&&(at=Z[--Vt]);Vt--;)at=lt(at,Z[Vt],Vt,Z);return at}function Xd(Z,lt){for(var at=-1,Tt=Z==null?0:Z.length;++at<Tt;)if(lt(Z[at],at,Z))return!0;return!1}var BB=Vd("length");function RB(Z){return Z.split("")}function FB(Z){return Z.match(Md)||[]}function B_(Z,lt,at){var Tt;return at(Z,function(Vt,me,lr){if(lt(Vt,me,lr))return Tt=me,!1}),Tt}function bc(Z,lt,at,Tt){for(var Vt=Z.length,me=at+(Tt?1:-1);Tt?me--:++me<Vt;)if(lt(Z[me],me,Z))return me;return-1}function Gs(Z,lt,at){return lt===lt?KB(Z,lt,at):bc(Z,R_,at)}function kB(Z,lt,at,Tt){for(var Vt=at-1,me=Z.length;++Vt<me;)if(Tt(Z[Vt],lt))return Vt;return-1}function R_(Z){return Z!==Z}function F_(Z,lt){var at=Z==null?0:Z.length;return at?Kd(Z,lt)/at:pt}function Vd(Z){return function(lt){return lt==null?t:lt[Z]}}function Ud(Z){return function(lt){return Z==null?t:Z[lt]}}function k_(Z,lt,at,Tt,Vt){return Vt(Z,function(me,lr,Ie){at=Tt?(Tt=!1,me):lt(at,me,lr,Ie)}),at}function $B(Z,lt){var at=Z.length;for(Z.sort(lt);at--;)Z[at]=Z[at].value;return Z}function Kd(Z,lt){for(var at,Tt=-1,Vt=Z.length;++Tt<Vt;){var me=lt(Z[Tt]);me!==t&&(at=at===t?me:at+me)}return at}function qd(Z,lt){for(var at=-1,Tt=Array(Z);++at<Z;)Tt[at]=lt(at);return Tt}function NB(Z,lt){return Ye(lt,function(at){return[at,Z[at]]})}function $_(Z){return Z&&Z.slice(0,W_(Z)+1).replace(vl,"")}function Ln(Z){return function(lt){return Z(lt)}}function jd(Z,lt){return Ye(lt,function(at){return Z[at]})}function gl(Z,lt){return Z.has(lt)}function N_(Z,lt){for(var at=-1,Tt=Z.length;++at<Tt&&Gs(lt,Z[at],0)>-1;);return at}function z_(Z,lt){for(var at=Z.length;at--&&Gs(lt,Z[at],0)>-1;);return at}function zB(Z,lt){for(var at=Z.length,Tt=0;at--;)Z[at]===lt&&++Tt;return Tt}var GB=Ud(CB),WB=Ud(SB);function YB(Z){return"\\"+AB[Z]}function HB(Z,lt){return Z==null?t:Z[lt]}function Ws(Z){return wB.test(Z)}function XB(Z){return _B.test(Z)}function VB(Z){for(var lt,at=[];!(lt=Z.next()).done;)at.push(lt.value);return at}function Zd(Z){var lt=-1,at=Array(Z.size);return Z.forEach(function(Tt,Vt){at[++lt]=[Vt,Tt]}),at}function G_(Z,lt){return function(at){return Z(lt(at))}}function Ua(Z,lt){for(var at=-1,Tt=Z.length,Vt=0,me=[];++at<Tt;){var lr=Z[at];(lr===lt||lr===f)&&(Z[at]=f,me[Vt++]=at)}return me}function Lc(Z){var lt=-1,at=Array(Z.size);return Z.forEach(function(Tt){at[++lt]=Tt}),at}function UB(Z){var lt=-1,at=Array(Z.size);return Z.forEach(function(Tt){at[++lt]=[Tt,Tt]}),at}function KB(Z,lt,at){for(var Tt=at-1,Vt=Z.length;++Tt<Vt;)if(Z[Tt]===lt)return Tt;return-1}function qB(Z,lt,at){for(var Tt=at+1;Tt--;)if(Z[Tt]===lt)return Tt;return Tt}function Ys(Z){return Ws(Z)?ZB(Z):BB(Z)}function wi(Z){return Ws(Z)?QB(Z):RB(Z)}function W_(Z){for(var lt=Z.length;lt--&&xd.test(Z.charAt(lt)););return lt}var jB=Ud(TB);function ZB(Z){for(var lt=zd.lastIndex=0;zd.test(Z);)++lt;return lt}function QB(Z){return Z.match(zd)||[]}function JB(Z){return Z.match(xB)||[]}var tR=function Z(lt){lt=lt==null?Cr:Hs.defaults(Cr.Object(),lt,Hs.pick(Cr,EB));var at=lt.Array,Tt=lt.Date,Vt=lt.Error,me=lt.Function,lr=lt.Math,Ie=lt.Object,Qd=lt.RegExp,eR=lt.String,Zn=lt.TypeError,Oc=at.prototype,rR=me.prototype,Xs=Ie.prototype,Ic=lt["__core-js_shared__"],Dc=rR.toString,Se=Xs.hasOwnProperty,nR=0,Y_=function(){var p=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Bc=Xs.toString,iR=Dc.call(Ie),aR=Cr._,oR=Qd("^"+Dc.call(Se).replace(hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rc=T_?lt.Buffer:t,Ka=lt.Symbol,Fc=lt.Uint8Array,H_=Rc?Rc.allocUnsafe:t,kc=G_(Ie.getPrototypeOf,Ie),X_=Ie.create,V_=Xs.propertyIsEnumerable,$c=Oc.splice,U_=Ka?Ka.isConcatSpreadable:t,dl=Ka?Ka.iterator:t,Ho=Ka?Ka.toStringTag:t,Nc=function(){try{var p=qo(Ie,"defineProperty");return p({},"",{}),p}catch{}}(),sR=lt.clearTimeout!==Cr.clearTimeout&&lt.clearTimeout,uR=Tt&&Tt.now!==Cr.Date.now&&Tt.now,lR=lt.setTimeout!==Cr.setTimeout&&lt.setTimeout,zc=lr.ceil,Gc=lr.floor,Jd=Ie.getOwnPropertySymbols,fR=Rc?Rc.isBuffer:t,K_=lt.isFinite,cR=Oc.join,hR=G_(Ie.keys,Ie),fr=lr.max,Or=lr.min,vR=Tt.now,pR=lt.parseInt,q_=lr.random,gR=Oc.reverse,t0=qo(lt,"DataView"),yl=qo(lt,"Map"),e0=qo(lt,"Promise"),Vs=qo(lt,"Set"),ml=qo(lt,"WeakMap"),xl=qo(Ie,"create"),Wc=ml&&new ml,Us={},dR=jo(t0),yR=jo(yl),mR=jo(e0),xR=jo(Vs),wR=jo(ml),Yc=Ka?Ka.prototype:t,wl=Yc?Yc.valueOf:t,j_=Yc?Yc.toString:t;function N(p){if(Ze(p)&&!qt(p)&&!(p instanceof ue)){if(p instanceof Qn)return p;if(Se.call(p,"__wrapped__"))return ZE(p)}return new Qn(p)}var Ks=function(){function p(){}return function(y){if(!Xe(y))return{};if(X_)return X_(y);p.prototype=y;var w=new p;return p.prototype=t,w}}();function Hc(){}function Qn(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=t}N.templateSettings={escape:vd,evaluate:pd,interpolate:Tc,variable:"",imports:{_:N}},N.prototype=Hc.prototype,N.prototype.constructor=N,Qn.prototype=Ks(Hc.prototype),Qn.prototype.constructor=Qn;function ue(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yt,this.__views__=[]}function _R(){var p=new ue(this.__wrapped__);return p.__actions__=rn(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=rn(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=rn(this.__views__),p}function ER(){if(this.__filtered__){var p=new ue(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function MR(){var p=this.__wrapped__.value(),y=this.__dir__,w=qt(p),P=y<0,B=w?p.length:0,W=R4(0,B,this.__views__),U=W.start,q=W.end,Q=q-U,ct=P?q:U-1,ht=this.__iteratees__,gt=ht.length,St=0,bt=Or(Q,this.__takeCount__);if(!w||!P&&B==Q&&bt==Q)return wE(p,this.__actions__);var zt=[];t:for(;Q--&&St<bt;){ct+=y;for(var Qt=-1,Gt=p[ct];++Qt<gt;){var re=ht[Qt],le=re.iteratee,Dn=re.type,Xr=le(Gt);if(Dn==T)Gt=Xr;else if(!Xr){if(Dn==S)continue t;break t}}zt[St++]=Gt}return zt}ue.prototype=Ks(Hc.prototype),ue.prototype.constructor=ue;function Xo(p){var y=-1,w=p==null?0:p.length;for(this.clear();++y<w;){var P=p[y];this.set(P[0],P[1])}}function CR(){this.__data__=xl?xl(null):{},this.size=0}function SR(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function TR(p){var y=this.__data__;if(xl){var w=y[p];return w===u?t:w}return Se.call(y,p)?y[p]:t}function AR(p){var y=this.__data__;return xl?y[p]!==t:Se.call(y,p)}function PR(p,y){var w=this.__data__;return this.size+=this.has(p)?0:1,w[p]=xl&&y===t?u:y,this}Xo.prototype.clear=CR,Xo.prototype.delete=SR,Xo.prototype.get=TR,Xo.prototype.has=AR,Xo.prototype.set=PR;function ha(p){var y=-1,w=p==null?0:p.length;for(this.clear();++y<w;){var P=p[y];this.set(P[0],P[1])}}function bR(){this.__data__=[],this.size=0}function LR(p){var y=this.__data__,w=Xc(y,p);if(w<0)return!1;var P=y.length-1;return w==P?y.pop():$c.call(y,w,1),--this.size,!0}function OR(p){var y=this.__data__,w=Xc(y,p);return w<0?t:y[w][1]}function IR(p){return Xc(this.__data__,p)>-1}function DR(p,y){var w=this.__data__,P=Xc(w,p);return P<0?(++this.size,w.push([p,y])):w[P][1]=y,this}ha.prototype.clear=bR,ha.prototype.delete=LR,ha.prototype.get=OR,ha.prototype.has=IR,ha.prototype.set=DR;function va(p){var y=-1,w=p==null?0:p.length;for(this.clear();++y<w;){var P=p[y];this.set(P[0],P[1])}}function BR(){this.size=0,this.__data__={hash:new Xo,map:new(yl||ha),string:new Xo}}function RR(p){var y=nh(this,p).delete(p);return this.size-=y?1:0,y}function FR(p){return nh(this,p).get(p)}function kR(p){return nh(this,p).has(p)}function $R(p,y){var w=nh(this,p),P=w.size;return w.set(p,y),this.size+=w.size==P?0:1,this}va.prototype.clear=BR,va.prototype.delete=RR,va.prototype.get=FR,va.prototype.has=kR,va.prototype.set=$R;function Vo(p){var y=-1,w=p==null?0:p.length;for(this.__data__=new va;++y<w;)this.add(p[y])}function NR(p){return this.__data__.set(p,u),this}function zR(p){return this.__data__.has(p)}Vo.prototype.add=Vo.prototype.push=NR,Vo.prototype.has=zR;function _i(p){var y=this.__data__=new ha(p);this.size=y.size}function GR(){this.__data__=new ha,this.size=0}function WR(p){var y=this.__data__,w=y.delete(p);return this.size=y.size,w}function YR(p){return this.__data__.get(p)}function HR(p){return this.__data__.has(p)}function XR(p,y){var w=this.__data__;if(w instanceof ha){var P=w.__data__;if(!yl||P.length<i-1)return P.push([p,y]),this.size=++w.size,this;w=this.__data__=new va(P)}return w.set(p,y),this.size=w.size,this}_i.prototype.clear=GR,_i.prototype.delete=WR,_i.prototype.get=YR,_i.prototype.has=HR,_i.prototype.set=XR;function Z_(p,y){var w=qt(p),P=!w&&Zo(p),B=!w&&!P&&Ja(p),W=!w&&!P&&!B&&Qs(p),U=w||P||B||W,q=U?qd(p.length,eR):[],Q=q.length;for(var ct in p)(y||Se.call(p,ct))&&!(U&&(ct=="length"||B&&(ct=="offset"||ct=="parent")||W&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||ya(ct,Q)))&&q.push(ct);return q}function Q_(p){var y=p.length;return y?p[h0(0,y-1)]:t}function VR(p,y){return ih(rn(p),Uo(y,0,p.length))}function UR(p){return ih(rn(p))}function r0(p,y,w){(w!==t&&!Ei(p[y],w)||w===t&&!(y in p))&&pa(p,y,w)}function _l(p,y,w){var P=p[y];(!(Se.call(p,y)&&Ei(P,w))||w===t&&!(y in p))&&pa(p,y,w)}function Xc(p,y){for(var w=p.length;w--;)if(Ei(p[w][0],y))return w;return-1}function KR(p,y,w,P){return qa(p,function(B,W,U){y(P,B,w(B),U)}),P}function J_(p,y){return p&&zi(y,xr(y),p)}function qR(p,y){return p&&zi(y,an(y),p)}function pa(p,y,w){y=="__proto__"&&Nc?Nc(p,y,{configurable:!0,enumerable:!0,value:w,writable:!0}):p[y]=w}function n0(p,y){for(var w=-1,P=y.length,B=at(P),W=p==null;++w<P;)B[w]=W?t:k0(p,y[w]);return B}function Uo(p,y,w){return p===p&&(w!==t&&(p=p<=w?p:w),y!==t&&(p=p>=y?p:y)),p}function Jn(p,y,w,P,B,W){var U,q=y&c,Q=y&h,ct=y&v;if(w&&(U=B?w(p,P,B,W):w(p)),U!==t)return U;if(!Xe(p))return p;var ht=qt(p);if(ht){if(U=k4(p),!q)return rn(p,U)}else{var gt=Ir(p),St=gt==en||gt==ca;if(Ja(p))return ME(p,q);if(gt==G||gt==Ot||St&&!B){if(U=Q||St?{}:WE(p),!q)return Q?T4(p,qR(U,p)):S4(p,J_(U,p))}else{if(!Re[gt])return B?p:{};U=$4(p,gt,q)}}W||(W=new _i);var bt=W.get(p);if(bt)return bt;W.set(p,U),yM(p)?p.forEach(function(Gt){U.add(Jn(Gt,y,w,Gt,p,W))}):gM(p)&&p.forEach(function(Gt,re){U.set(re,Jn(Gt,y,w,re,p,W))});var zt=ct?Q?M0:E0:Q?an:xr,Qt=ht?t:zt(p);return jn(Qt||p,function(Gt,re){Qt&&(re=Gt,Gt=p[re]),_l(U,re,Jn(Gt,y,w,re,p,W))}),U}function jR(p){var y=xr(p);return function(w){return tE(w,p,y)}}function tE(p,y,w){var P=w.length;if(p==null)return!P;for(p=Ie(p);P--;){var B=w[P],W=y[B],U=p[B];if(U===t&&!(B in p)||!W(U))return!1}return!0}function eE(p,y,w){if(typeof p!="function")throw new Zn(o);return Pl(function(){p.apply(t,w)},y)}function El(p,y,w,P){var B=-1,W=Pc,U=!0,q=p.length,Q=[],ct=y.length;if(!q)return Q;w&&(y=Ye(y,Ln(w))),P?(W=Yd,U=!1):y.length>=i&&(W=gl,U=!1,y=new Vo(y));t:for(;++B<q;){var ht=p[B],gt=w==null?ht:w(ht);if(ht=P||ht!==0?ht:0,U&&gt===gt){for(var St=ct;St--;)if(y[St]===gt)continue t;Q.push(ht)}else W(y,gt,P)||Q.push(ht)}return Q}var qa=PE(Ni),rE=PE(a0,!0);function ZR(p,y){var w=!0;return qa(p,function(P,B,W){return w=!!y(P,B,W),w}),w}function Vc(p,y,w){for(var P=-1,B=p.length;++P<B;){var W=p[P],U=y(W);if(U!=null&&(q===t?U===U&&!In(U):w(U,q)))var q=U,Q=W}return Q}function QR(p,y,w,P){var B=p.length;for(w=jt(w),w<0&&(w=-w>B?0:B+w),P=P===t||P>B?B:jt(P),P<0&&(P+=B),P=w>P?0:xM(P);w<P;)p[w++]=y;return p}function nE(p,y){var w=[];return qa(p,function(P,B,W){y(P,B,W)&&w.push(P)}),w}function Sr(p,y,w,P,B){var W=-1,U=p.length;for(w||(w=z4),B||(B=[]);++W<U;){var q=p[W];y>0&&w(q)?y>1?Sr(q,y-1,w,P,B):Va(B,q):P||(B[B.length]=q)}return B}var i0=bE(),iE=bE(!0);function Ni(p,y){return p&&i0(p,y,xr)}function a0(p,y){return p&&iE(p,y,xr)}function Uc(p,y){return Xa(y,function(w){return ma(p[w])})}function Ko(p,y){y=Za(y,p);for(var w=0,P=y.length;p!=null&&w<P;)p=p[Gi(y[w++])];return w&&w==P?p:t}function aE(p,y,w){var P=y(p);return qt(p)?P:Va(P,w(p))}function Yr(p){return p==null?p===t?Ct:R:Ho&&Ho in Ie(p)?B4(p):U4(p)}function o0(p,y){return p>y}function JR(p,y){return p!=null&&Se.call(p,y)}function t4(p,y){return p!=null&&y in Ie(p)}function e4(p,y,w){return p>=Or(y,w)&&p<fr(y,w)}function s0(p,y,w){for(var P=w?Yd:Pc,B=p[0].length,W=p.length,U=W,q=at(W),Q=1/0,ct=[];U--;){var ht=p[U];U&&y&&(ht=Ye(ht,Ln(y))),Q=Or(ht.length,Q),q[U]=!w&&(y||B>=120&&ht.length>=120)?new Vo(U&&ht):t}ht=p[0];var gt=-1,St=q[0];t:for(;++gt<B&&ct.length<Q;){var bt=ht[gt],zt=y?y(bt):bt;if(bt=w||bt!==0?bt:0,!(St?gl(St,zt):P(ct,zt,w))){for(U=W;--U;){var Qt=q[U];if(!(Qt?gl(Qt,zt):P(p[U],zt,w)))continue t}St&&St.push(zt),ct.push(bt)}}return ct}function r4(p,y,w,P){return Ni(p,function(B,W,U){y(P,w(B),W,U)}),P}function Ml(p,y,w){y=Za(y,p),p=VE(p,y);var P=p==null?p:p[Gi(ei(y))];return P==null?t:bn(P,p,w)}function oE(p){return Ze(p)&&Yr(p)==Ot}function n4(p){return Ze(p)&&Yr(p)==se}function i4(p){return Ze(p)&&Yr(p)==yr}function Cl(p,y,w,P,B){return p===y?!0:p==null||y==null||!Ze(p)&&!Ze(y)?p!==p&&y!==y:a4(p,y,w,P,Cl,B)}function a4(p,y,w,P,B,W){var U=qt(p),q=qt(y),Q=U?Oe:Ir(p),ct=q?Oe:Ir(y);Q=Q==Ot?G:Q,ct=ct==Ot?G:ct;var ht=Q==G,gt=ct==G,St=Q==ct;if(St&&Ja(p)){if(!Ja(y))return!1;U=!0,ht=!1}if(St&&!ht)return W||(W=new _i),U||Qs(p)?NE(p,y,w,P,B,W):I4(p,y,Q,w,P,B,W);if(!(w&g)){var bt=ht&&Se.call(p,"__wrapped__"),zt=gt&&Se.call(y,"__wrapped__");if(bt||zt){var Qt=bt?p.value():p,Gt=zt?y.value():y;return W||(W=new _i),B(Qt,Gt,w,P,W)}}return St?(W||(W=new _i),D4(p,y,w,P,B,W)):!1}function o4(p){return Ze(p)&&Ir(p)==Ne}function u0(p,y,w,P){var B=w.length,W=B,U=!P;if(p==null)return!W;for(p=Ie(p);B--;){var q=w[B];if(U&&q[2]?q[1]!==p[q[0]]:!(q[0]in p))return!1}for(;++B<W;){q=w[B];var Q=q[0],ct=p[Q],ht=q[1];if(U&&q[2]){if(ct===t&&!(Q in p))return!1}else{var gt=new _i;if(P)var St=P(ct,ht,Q,p,y,gt);if(!(St===t?Cl(ht,ct,g|d,P,gt):St))return!1}}return!0}function sE(p){if(!Xe(p)||W4(p))return!1;var y=ma(p)?oR:bd;return y.test(jo(p))}function s4(p){return Ze(p)&&Yr(p)==et}function u4(p){return Ze(p)&&Ir(p)==ft}function l4(p){return Ze(p)&&fh(p.length)&&!!ze[Yr(p)]}function uE(p){return typeof p=="function"?p:p==null?on:typeof p=="object"?qt(p)?cE(p[0],p[1]):fE(p):LM(p)}function l0(p){if(!Al(p))return hR(p);var y=[];for(var w in Ie(p))Se.call(p,w)&&w!="constructor"&&y.push(w);return y}function f4(p){if(!Xe(p))return V4(p);var y=Al(p),w=[];for(var P in p)P=="constructor"&&(y||!Se.call(p,P))||w.push(P);return w}function f0(p,y){return p<y}function lE(p,y){var w=-1,P=nn(p)?at(p.length):[];return qa(p,function(B,W,U){P[++w]=y(B,W,U)}),P}function fE(p){var y=S0(p);return y.length==1&&y[0][2]?HE(y[0][0],y[0][1]):function(w){return w===p||u0(w,p,y)}}function cE(p,y){return A0(p)&&YE(y)?HE(Gi(p),y):function(w){var P=k0(w,p);return P===t&&P===y?$0(w,p):Cl(y,P,g|d)}}function Kc(p,y,w,P,B){p!==y&&i0(y,function(W,U){if(B||(B=new _i),Xe(W))c4(p,y,U,w,Kc,P,B);else{var q=P?P(b0(p,U),W,U+"",p,y,B):t;q===t&&(q=W),r0(p,U,q)}},an)}function c4(p,y,w,P,B,W,U){var q=b0(p,w),Q=b0(y,w),ct=U.get(Q);if(ct){r0(p,w,ct);return}var ht=W?W(q,Q,w+"",p,y,U):t,gt=ht===t;if(gt){var St=qt(Q),bt=!St&&Ja(Q),zt=!St&&!bt&&Qs(Q);ht=Q,St||bt||zt?qt(q)?ht=q:rr(q)?ht=rn(q):bt?(gt=!1,ht=ME(Q,!0)):zt?(gt=!1,ht=CE(Q,!0)):ht=[]:bl(Q)||Zo(Q)?(ht=q,Zo(q)?ht=wM(q):(!Xe(q)||ma(q))&&(ht=WE(Q))):gt=!1}gt&&(U.set(Q,ht),B(ht,Q,P,W,U),U.delete(Q)),r0(p,w,ht)}function hE(p,y){var w=p.length;if(!!w)return y+=y<0?w:0,ya(y,w)?p[y]:t}function vE(p,y,w){y.length?y=Ye(y,function(W){return qt(W)?function(U){return Ko(U,W.length===1?W[0]:W)}:W}):y=[on];var P=-1;y=Ye(y,Ln(kt()));var B=lE(p,function(W,U,q){var Q=Ye(y,function(ct){return ct(W)});return{criteria:Q,index:++P,value:W}});return $B(B,function(W,U){return C4(W,U,w)})}function h4(p,y){return pE(p,y,function(w,P){return $0(p,P)})}function pE(p,y,w){for(var P=-1,B=y.length,W={};++P<B;){var U=y[P],q=Ko(p,U);w(q,U)&&Sl(W,Za(U,p),q)}return W}function v4(p){return function(y){return Ko(y,p)}}function c0(p,y,w,P){var B=P?kB:Gs,W=-1,U=y.length,q=p;for(p===y&&(y=rn(y)),w&&(q=Ye(p,Ln(w)));++W<U;)for(var Q=0,ct=y[W],ht=w?w(ct):ct;(Q=B(q,ht,Q,P))>-1;)q!==p&&$c.call(q,Q,1),$c.call(p,Q,1);return p}function gE(p,y){for(var w=p?y.length:0,P=w-1;w--;){var B=y[w];if(w==P||B!==W){var W=B;ya(B)?$c.call(p,B,1):g0(p,B)}}return p}function h0(p,y){return p+Gc(q_()*(y-p+1))}function p4(p,y,w,P){for(var B=-1,W=fr(zc((y-p)/(w||1)),0),U=at(W);W--;)U[P?W:++B]=p,p+=w;return U}function v0(p,y){var w="";if(!p||y<1||y>H)return w;do y%2&&(w+=p),y=Gc(y/2),y&&(p+=p);while(y);return w}function Jt(p,y){return L0(XE(p,y,on),p+"")}function g4(p){return Q_(Js(p))}function d4(p,y){var w=Js(p);return ih(w,Uo(y,0,w.length))}function Sl(p,y,w,P){if(!Xe(p))return p;y=Za(y,p);for(var B=-1,W=y.length,U=W-1,q=p;q!=null&&++B<W;){var Q=Gi(y[B]),ct=w;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return p;if(B!=U){var ht=q[Q];ct=P?P(ht,Q,q):t,ct===t&&(ct=Xe(ht)?ht:ya(y[B+1])?[]:{})}_l(q,Q,ct),q=q[Q]}return p}var dE=Wc?function(p,y){return Wc.set(p,y),p}:on,y4=Nc?function(p,y){return Nc(p,"toString",{configurable:!0,enumerable:!1,value:z0(y),writable:!0})}:on;function m4(p){return ih(Js(p))}function ti(p,y,w){var P=-1,B=p.length;y<0&&(y=-y>B?0:B+y),w=w>B?B:w,w<0&&(w+=B),B=y>w?0:w-y>>>0,y>>>=0;for(var W=at(B);++P<B;)W[P]=p[P+y];return W}function x4(p,y){var w;return qa(p,function(P,B,W){return w=y(P,B,W),!w}),!!w}function qc(p,y,w){var P=0,B=p==null?P:p.length;if(typeof y=="number"&&y===y&&B<=Dt){for(;P<B;){var W=P+B>>>1,U=p[W];U!==null&&!In(U)&&(w?U<=y:U<y)?P=W+1:B=W}return B}return p0(p,y,on,w)}function p0(p,y,w,P){var B=0,W=p==null?0:p.length;if(W===0)return 0;y=w(y);for(var U=y!==y,q=y===null,Q=In(y),ct=y===t;B<W;){var ht=Gc((B+W)/2),gt=w(p[ht]),St=gt!==t,bt=gt===null,zt=gt===gt,Qt=In(gt);if(U)var Gt=P||zt;else ct?Gt=zt&&(P||St):q?Gt=zt&&St&&(P||!bt):Q?Gt=zt&&St&&!bt&&(P||!Qt):bt||Qt?Gt=!1:Gt=P?gt<=y:gt<y;Gt?B=ht+1:W=ht}return Or(W,mt)}function yE(p,y){for(var w=-1,P=p.length,B=0,W=[];++w<P;){var U=p[w],q=y?y(U):U;if(!w||!Ei(q,Q)){var Q=q;W[B++]=U===0?0:U}}return W}function mE(p){return typeof p=="number"?p:In(p)?pt:+p}function On(p){if(typeof p=="string")return p;if(qt(p))return Ye(p,On)+"";if(In(p))return j_?j_.call(p):"";var y=p+"";return y=="0"&&1/p==-D?"-0":y}function ja(p,y,w){var P=-1,B=Pc,W=p.length,U=!0,q=[],Q=q;if(w)U=!1,B=Yd;else if(W>=i){var ct=y?null:L4(p);if(ct)return Lc(ct);U=!1,B=gl,Q=new Vo}else Q=y?[]:q;t:for(;++P<W;){var ht=p[P],gt=y?y(ht):ht;if(ht=w||ht!==0?ht:0,U&&gt===gt){for(var St=Q.length;St--;)if(Q[St]===gt)continue t;y&&Q.push(gt),q.push(ht)}else B(Q,gt,w)||(Q!==q&&Q.push(gt),q.push(ht))}return q}function g0(p,y){return y=Za(y,p),p=VE(p,y),p==null||delete p[Gi(ei(y))]}function xE(p,y,w,P){return Sl(p,y,w(Ko(p,y)),P)}function jc(p,y,w,P){for(var B=p.length,W=P?B:-1;(P?W--:++W<B)&&y(p[W],W,p););return w?ti(p,P?0:W,P?W+1:B):ti(p,P?W+1:0,P?B:W)}function wE(p,y){var w=p;return w instanceof ue&&(w=w.value()),Hd(y,function(P,B){return B.func.apply(B.thisArg,Va([P],B.args))},w)}function d0(p,y,w){var P=p.length;if(P<2)return P?ja(p[0]):[];for(var B=-1,W=at(P);++B<P;)for(var U=p[B],q=-1;++q<P;)q!=B&&(W[B]=El(W[B]||U,p[q],y,w));return ja(Sr(W,1),y,w)}function _E(p,y,w){for(var P=-1,B=p.length,W=y.length,U={};++P<B;){var q=P<W?y[P]:t;w(U,p[P],q)}return U}function y0(p){return rr(p)?p:[]}function m0(p){return typeof p=="function"?p:on}function Za(p,y){return qt(p)?p:A0(p,y)?[p]:jE(Ee(p))}var w4=Jt;function Qa(p,y,w){var P=p.length;return w=w===t?P:w,!y&&w>=P?p:ti(p,y,w)}var EE=sR||function(p){return Cr.clearTimeout(p)};function ME(p,y){if(y)return p.slice();var w=p.length,P=H_?H_(w):new p.constructor(w);return p.copy(P),P}function x0(p){var y=new p.constructor(p.byteLength);return new Fc(y).set(new Fc(p)),y}function _4(p,y){var w=y?x0(p.buffer):p.buffer;return new p.constructor(w,p.byteOffset,p.byteLength)}function E4(p){var y=new p.constructor(p.source,pl.exec(p));return y.lastIndex=p.lastIndex,y}function M4(p){return wl?Ie(wl.call(p)):{}}function CE(p,y){var w=y?x0(p.buffer):p.buffer;return new p.constructor(w,p.byteOffset,p.length)}function SE(p,y){if(p!==y){var w=p!==t,P=p===null,B=p===p,W=In(p),U=y!==t,q=y===null,Q=y===y,ct=In(y);if(!q&&!ct&&!W&&p>y||W&&U&&Q&&!q&&!ct||P&&U&&Q||!w&&Q||!B)return 1;if(!P&&!W&&!ct&&p<y||ct&&w&&B&&!P&&!W||q&&w&&B||!U&&B||!Q)return-1}return 0}function C4(p,y,w){for(var P=-1,B=p.criteria,W=y.criteria,U=B.length,q=w.length;++P<U;){var Q=SE(B[P],W[P]);if(Q){if(P>=q)return Q;var ct=w[P];return Q*(ct=="desc"?-1:1)}}return p.index-y.index}function TE(p,y,w,P){for(var B=-1,W=p.length,U=w.length,q=-1,Q=y.length,ct=fr(W-U,0),ht=at(Q+ct),gt=!P;++q<Q;)ht[q]=y[q];for(;++B<U;)(gt||B<W)&&(ht[w[B]]=p[B]);for(;ct--;)ht[q++]=p[B++];return ht}function AE(p,y,w,P){for(var B=-1,W=p.length,U=-1,q=w.length,Q=-1,ct=y.length,ht=fr(W-q,0),gt=at(ht+ct),St=!P;++B<ht;)gt[B]=p[B];for(var bt=B;++Q<ct;)gt[bt+Q]=y[Q];for(;++U<q;)(St||B<W)&&(gt[bt+w[U]]=p[B++]);return gt}function rn(p,y){var w=-1,P=p.length;for(y||(y=at(P));++w<P;)y[w]=p[w];return y}function zi(p,y,w,P){var B=!w;w||(w={});for(var W=-1,U=y.length;++W<U;){var q=y[W],Q=P?P(w[q],p[q],q,w,p):t;Q===t&&(Q=p[q]),B?pa(w,q,Q):_l(w,q,Q)}return w}function S4(p,y){return zi(p,T0(p),y)}function T4(p,y){return zi(p,zE(p),y)}function Zc(p,y){return function(w,P){var B=qt(w)?OB:KR,W=y?y():{};return B(w,p,kt(P,2),W)}}function qs(p){return Jt(function(y,w){var P=-1,B=w.length,W=B>1?w[B-1]:t,U=B>2?w[2]:t;for(W=p.length>3&&typeof W=="function"?(B--,W):t,U&&Hr(w[0],w[1],U)&&(W=B<3?t:W,B=1),y=Ie(y);++P<B;){var q=w[P];q&&p(y,q,P,W)}return y})}function PE(p,y){return function(w,P){if(w==null)return w;if(!nn(w))return p(w,P);for(var B=w.length,W=y?B:-1,U=Ie(w);(y?W--:++W<B)&&P(U[W],W,U)!==!1;);return w}}function bE(p){return function(y,w,P){for(var B=-1,W=Ie(y),U=P(y),q=U.length;q--;){var Q=U[p?q:++B];if(w(W[Q],Q,W)===!1)break}return y}}function A4(p,y,w){var P=y&m,B=Tl(p);function W(){var U=this&&this!==Cr&&this instanceof W?B:p;return U.apply(P?w:this,arguments)}return W}function LE(p){return function(y){y=Ee(y);var w=Ws(y)?wi(y):t,P=w?w[0]:y.charAt(0),B=w?Qa(w,1).join(""):y.slice(1);return P[p]()+B}}function js(p){return function(y){return Hd(PM(AM(y).replace(yB,"")),p,"")}}function Tl(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var w=Ks(p.prototype),P=p.apply(w,y);return Xe(P)?P:w}}function P4(p,y,w){var P=Tl(p);function B(){for(var W=arguments.length,U=at(W),q=W,Q=Zs(B);q--;)U[q]=arguments[q];var ct=W<3&&U[0]!==Q&&U[W-1]!==Q?[]:Ua(U,Q);if(W-=ct.length,W<w)return RE(p,y,Qc,B.placeholder,t,U,ct,t,t,w-W);var ht=this&&this!==Cr&&this instanceof B?P:p;return bn(ht,this,U)}return B}function OE(p){return function(y,w,P){var B=Ie(y);if(!nn(y)){var W=kt(w,3);y=xr(y),w=function(q){return W(B[q],q,B)}}var U=p(y,w,P);return U>-1?B[W?y[U]:U]:t}}function IE(p){return da(function(y){var w=y.length,P=w,B=Qn.prototype.thru;for(p&&y.reverse();P--;){var W=y[P];if(typeof W!="function")throw new Zn(o);if(B&&!U&&rh(W)=="wrapper")var U=new Qn([],!0)}for(P=U?P:w;++P<w;){W=y[P];var q=rh(W),Q=q=="wrapper"?C0(W):t;Q&&P0(Q[0])&&Q[1]==(I|_|A|L)&&!Q[4].length&&Q[9]==1?U=U[rh(Q[0])].apply(U,Q[3]):U=W.length==1&&P0(W)?U[q]():U.thru(W)}return function(){var ct=arguments,ht=ct[0];if(U&&ct.length==1&&qt(ht))return U.plant(ht).value();for(var gt=0,St=w?y[gt].apply(this,ct):ht;++gt<w;)St=y[gt].call(this,St);return St}})}function Qc(p,y,w,P,B,W,U,q,Q,ct){var ht=y&I,gt=y&m,St=y&x,bt=y&(_|M),zt=y&F,Qt=St?t:Tl(p);function Gt(){for(var re=arguments.length,le=at(re),Dn=re;Dn--;)le[Dn]=arguments[Dn];if(bt)var Xr=Zs(Gt),Bn=zB(le,Xr);if(P&&(le=TE(le,P,B,bt)),W&&(le=AE(le,W,U,bt)),re-=Bn,bt&&re<ct){var nr=Ua(le,Xr);return RE(p,y,Qc,Gt.placeholder,w,le,nr,q,Q,ct-re)}var Mi=gt?w:this,wa=St?Mi[p]:p;return re=le.length,q?le=K4(le,q):zt&&re>1&&le.reverse(),ht&&Q<re&&(le.length=Q),this&&this!==Cr&&this instanceof Gt&&(wa=Qt||Tl(wa)),wa.apply(Mi,le)}return Gt}function DE(p,y){return function(w,P){return r4(w,p,y(P),{})}}function Jc(p,y){return function(w,P){var B;if(w===t&&P===t)return y;if(w!==t&&(B=w),P!==t){if(B===t)return P;typeof w=="string"||typeof P=="string"?(w=On(w),P=On(P)):(w=mE(w),P=mE(P)),B=p(w,P)}return B}}function w0(p){return da(function(y){return y=Ye(y,Ln(kt())),Jt(function(w){var P=this;return p(y,function(B){return bn(B,P,w)})})})}function th(p,y){y=y===t?" ":On(y);var w=y.length;if(w<2)return w?v0(y,p):y;var P=v0(y,zc(p/Ys(y)));return Ws(y)?Qa(wi(P),0,p).join(""):P.slice(0,p)}function b4(p,y,w,P){var B=y&m,W=Tl(p);function U(){for(var q=-1,Q=arguments.length,ct=-1,ht=P.length,gt=at(ht+Q),St=this&&this!==Cr&&this instanceof U?W:p;++ct<ht;)gt[ct]=P[ct];for(;Q--;)gt[ct++]=arguments[++q];return bn(St,B?w:this,gt)}return U}function BE(p){return function(y,w,P){return P&&typeof P!="number"&&Hr(y,w,P)&&(w=P=t),y=xa(y),w===t?(w=y,y=0):w=xa(w),P=P===t?y<w?1:-1:xa(P),p4(y,w,P,p)}}function eh(p){return function(y,w){return typeof y=="string"&&typeof w=="string"||(y=ri(y),w=ri(w)),p(y,w)}}function RE(p,y,w,P,B,W,U,q,Q,ct){var ht=y&_,gt=ht?U:t,St=ht?t:U,bt=ht?W:t,zt=ht?t:W;y|=ht?A:b,y&=~(ht?b:A),y&E||(y&=~(m|x));var Qt=[p,y,B,bt,gt,zt,St,q,Q,ct],Gt=w.apply(t,Qt);return P0(p)&&UE(Gt,Qt),Gt.placeholder=P,KE(Gt,p,y)}function _0(p){var y=lr[p];return function(w,P){if(w=ri(w),P=P==null?0:Or(jt(P),292),P&&K_(w)){var B=(Ee(w)+"e").split("e"),W=y(B[0]+"e"+(+B[1]+P));return B=(Ee(W)+"e").split("e"),+(B[0]+"e"+(+B[1]-P))}return y(w)}}var L4=Vs&&1/Lc(new Vs([,-0]))[1]==D?function(p){return new Vs(p)}:Y0;function FE(p){return function(y){var w=Ir(y);return w==Ne?Zd(y):w==ft?UB(y):NB(y,p(y))}}function ga(p,y,w,P,B,W,U,q){var Q=y&x;if(!Q&&typeof p!="function")throw new Zn(o);var ct=P?P.length:0;if(ct||(y&=~(A|b),P=B=t),U=U===t?U:fr(jt(U),0),q=q===t?q:jt(q),ct-=B?B.length:0,y&b){var ht=P,gt=B;P=B=t}var St=Q?t:C0(p),bt=[p,y,w,P,B,ht,gt,W,U,q];if(St&&X4(bt,St),p=bt[0],y=bt[1],w=bt[2],P=bt[3],B=bt[4],q=bt[9]=bt[9]===t?Q?0:p.length:fr(bt[9]-ct,0),!q&&y&(_|M)&&(y&=~(_|M)),!y||y==m)var zt=A4(p,y,w);else y==_||y==M?zt=P4(p,y,q):(y==A||y==(m|A))&&!B.length?zt=b4(p,y,w,P):zt=Qc.apply(t,bt);var Qt=St?dE:UE;return KE(Qt(zt,bt),p,y)}function kE(p,y,w,P){return p===t||Ei(p,Xs[w])&&!Se.call(P,w)?y:p}function $E(p,y,w,P,B,W){return Xe(p)&&Xe(y)&&(W.set(y,p),Kc(p,y,t,$E,W),W.delete(y)),p}function O4(p){return bl(p)?t:p}function NE(p,y,w,P,B,W){var U=w&g,q=p.length,Q=y.length;if(q!=Q&&!(U&&Q>q))return!1;var ct=W.get(p),ht=W.get(y);if(ct&&ht)return ct==y&&ht==p;var gt=-1,St=!0,bt=w&d?new Vo:t;for(W.set(p,y),W.set(y,p);++gt<q;){var zt=p[gt],Qt=y[gt];if(P)var Gt=U?P(Qt,zt,gt,y,p,W):P(zt,Qt,gt,p,y,W);if(Gt!==t){if(Gt)continue;St=!1;break}if(bt){if(!Xd(y,function(re,le){if(!gl(bt,le)&&(zt===re||B(zt,re,w,P,W)))return bt.push(le)})){St=!1;break}}else if(!(zt===Qt||B(zt,Qt,w,P,W))){St=!1;break}}return W.delete(p),W.delete(y),St}function I4(p,y,w,P,B,W,U){switch(w){case Ce:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case se:return!(p.byteLength!=y.byteLength||!W(new Fc(p),new Fc(y)));case Mr:case yr:case Pn:return Ei(+p,+y);case mr:return p.name==y.name&&p.message==y.message;case et:case Mt:return p==y+"";case Ne:var q=Zd;case ft:var Q=P&g;if(q||(q=Lc),p.size!=y.size&&!Q)return!1;var ct=U.get(p);if(ct)return ct==y;P|=d,U.set(p,y);var ht=NE(q(p),q(y),P,B,W,U);return U.delete(p),ht;case xt:if(wl)return wl.call(p)==wl.call(y)}return!1}function D4(p,y,w,P,B,W){var U=w&g,q=E0(p),Q=q.length,ct=E0(y),ht=ct.length;if(Q!=ht&&!U)return!1;for(var gt=Q;gt--;){var St=q[gt];if(!(U?St in y:Se.call(y,St)))return!1}var bt=W.get(p),zt=W.get(y);if(bt&&zt)return bt==y&&zt==p;var Qt=!0;W.set(p,y),W.set(y,p);for(var Gt=U;++gt<Q;){St=q[gt];var re=p[St],le=y[St];if(P)var Dn=U?P(le,re,St,y,p,W):P(re,le,St,p,y,W);if(!(Dn===t?re===le||B(re,le,w,P,W):Dn)){Qt=!1;break}Gt||(Gt=St=="constructor")}if(Qt&&!Gt){var Xr=p.constructor,Bn=y.constructor;Xr!=Bn&&"constructor"in p&&"constructor"in y&&!(typeof Xr=="function"&&Xr instanceof Xr&&typeof Bn=="function"&&Bn instanceof Bn)&&(Qt=!1)}return W.delete(p),W.delete(y),Qt}function da(p){return L0(XE(p,t,tM),p+"")}function E0(p){return aE(p,xr,T0)}function M0(p){return aE(p,an,zE)}var C0=Wc?function(p){return Wc.get(p)}:Y0;function rh(p){for(var y=p.name+"",w=Us[y],P=Se.call(Us,y)?w.length:0;P--;){var B=w[P],W=B.func;if(W==null||W==p)return B.name}return y}function Zs(p){var y=Se.call(N,"placeholder")?N:p;return y.placeholder}function kt(){var p=N.iteratee||G0;return p=p===G0?uE:p,arguments.length?p(arguments[0],arguments[1]):p}function nh(p,y){var w=p.__data__;return G4(y)?w[typeof y=="string"?"string":"hash"]:w.map}function S0(p){for(var y=xr(p),w=y.length;w--;){var P=y[w],B=p[P];y[w]=[P,B,YE(B)]}return y}function qo(p,y){var w=HB(p,y);return sE(w)?w:t}function B4(p){var y=Se.call(p,Ho),w=p[Ho];try{p[Ho]=t;var P=!0}catch{}var B=Bc.call(p);return P&&(y?p[Ho]=w:delete p[Ho]),B}var T0=Jd?function(p){return p==null?[]:(p=Ie(p),Xa(Jd(p),function(y){return V_.call(p,y)}))}:H0,zE=Jd?function(p){for(var y=[];p;)Va(y,T0(p)),p=kc(p);return y}:H0,Ir=Yr;(t0&&Ir(new t0(new ArrayBuffer(1)))!=Ce||yl&&Ir(new yl)!=Ne||e0&&Ir(e0.resolve())!=X||Vs&&Ir(new Vs)!=ft||ml&&Ir(new ml)!=Yt)&&(Ir=function(p){var y=Yr(p),w=y==G?p.constructor:t,P=w?jo(w):"";if(P)switch(P){case dR:return Ce;case yR:return Ne;case mR:return X;case xR:return ft;case wR:return Yt}return y});function R4(p,y,w){for(var P=-1,B=w.length;++P<B;){var W=w[P],U=W.size;switch(W.type){case"drop":p+=U;break;case"dropRight":y-=U;break;case"take":y=Or(y,p+U);break;case"takeRight":p=fr(p,y-U);break}}return{start:p,end:y}}function F4(p){var y=p.match(_d);return y?y[1].split(Ed):[]}function GE(p,y,w){y=Za(y,p);for(var P=-1,B=y.length,W=!1;++P<B;){var U=Gi(y[P]);if(!(W=p!=null&&w(p,U)))break;p=p[U]}return W||++P!=B?W:(B=p==null?0:p.length,!!B&&fh(B)&&ya(U,B)&&(qt(p)||Zo(p)))}function k4(p){var y=p.length,w=new p.constructor(y);return y&&typeof p[0]=="string"&&Se.call(p,"index")&&(w.index=p.index,w.input=p.input),w}function WE(p){return typeof p.constructor=="function"&&!Al(p)?Ks(kc(p)):{}}function $4(p,y,w){var P=p.constructor;switch(y){case se:return x0(p);case Mr:case yr:return new P(+p);case Ce:return _4(p,w);case Lr:case Wo:case yi:case mi:case Wr:case xi:case ll:case fl:case cl:return CE(p,w);case Ne:return new P;case Pn:case Mt:return new P(p);case et:return E4(p);case ft:return new P;case xt:return M4(p)}}function N4(p,y){var w=y.length;if(!w)return p;var P=w-1;return y[P]=(w>1?"& ":"")+y[P],y=y.join(w>2?", ":" "),p.replace(wd,`{
/* [wrapped with `+y+`] */
`)}function z4(p){return qt(p)||Zo(p)||!!(U_&&p&&p[U_])}function ya(p,y){var w=typeof p;return y=y==null?H:y,!!y&&(w=="number"||w!="symbol"&&Od.test(p))&&p>-1&&p%1==0&&p<y}function Hr(p,y,w){if(!Xe(w))return!1;var P=typeof y;return(P=="number"?nn(w)&&ya(y,w.length):P=="string"&&y in w)?Ei(w[y],p):!1}function A0(p,y){if(qt(p))return!1;var w=typeof p;return w=="number"||w=="symbol"||w=="boolean"||p==null||In(p)?!0:dd.test(p)||!gd.test(p)||y!=null&&p in Ie(y)}function G4(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function P0(p){var y=rh(p),w=N[y];if(typeof w!="function"||!(y in ue.prototype))return!1;if(p===w)return!0;var P=C0(w);return!!P&&p===P[0]}function W4(p){return!!Y_&&Y_ in p}var Y4=Ic?ma:X0;function Al(p){var y=p&&p.constructor,w=typeof y=="function"&&y.prototype||Xs;return p===w}function YE(p){return p===p&&!Xe(p)}function HE(p,y){return function(w){return w==null?!1:w[p]===y&&(y!==t||p in Ie(w))}}function H4(p){var y=uh(p,function(P){return w.size===l&&w.clear(),P}),w=y.cache;return y}function X4(p,y){var w=p[1],P=y[1],B=w|P,W=B<(m|x|I),U=P==I&&w==_||P==I&&w==L&&p[7].length<=y[8]||P==(I|L)&&y[7].length<=y[8]&&w==_;if(!(W||U))return p;P&m&&(p[2]=y[2],B|=w&m?0:E);var q=y[3];if(q){var Q=p[3];p[3]=Q?TE(Q,q,y[4]):q,p[4]=Q?Ua(p[3],f):y[4]}return q=y[5],q&&(Q=p[5],p[5]=Q?AE(Q,q,y[6]):q,p[6]=Q?Ua(p[5],f):y[6]),q=y[7],q&&(p[7]=q),P&I&&(p[8]=p[8]==null?y[8]:Or(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=B,p}function V4(p){var y=[];if(p!=null)for(var w in Ie(p))y.push(w);return y}function U4(p){return Bc.call(p)}function XE(p,y,w){return y=fr(y===t?p.length-1:y,0),function(){for(var P=arguments,B=-1,W=fr(P.length-y,0),U=at(W);++B<W;)U[B]=P[y+B];B=-1;for(var q=at(y+1);++B<y;)q[B]=P[B];return q[y]=w(U),bn(p,this,q)}}function VE(p,y){return y.length<2?p:Ko(p,ti(y,0,-1))}function K4(p,y){for(var w=p.length,P=Or(y.length,w),B=rn(p);P--;){var W=y[P];p[P]=ya(W,w)?B[W]:t}return p}function b0(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var UE=qE(dE),Pl=lR||function(p,y){return Cr.setTimeout(p,y)},L0=qE(y4);function KE(p,y,w){var P=y+"";return L0(p,N4(P,q4(F4(P),w)))}function qE(p){var y=0,w=0;return function(){var P=vR(),B=z-(P-w);if(w=P,B>0){if(++y>=k)return arguments[0]}else y=0;return p.apply(t,arguments)}}function ih(p,y){var w=-1,P=p.length,B=P-1;for(y=y===t?P:y;++w<y;){var W=h0(w,B),U=p[W];p[W]=p[w],p[w]=U}return p.length=y,p}var jE=H4(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(yd,function(w,P,B,W){y.push(B?W.replace(Sd,"$1"):P||w)}),y});function Gi(p){if(typeof p=="string"||In(p))return p;var y=p+"";return y=="0"&&1/p==-D?"-0":y}function jo(p){if(p!=null){try{return Dc.call(p)}catch{}try{return p+""}catch{}}return""}function q4(p,y){return jn(oe,function(w){var P="_."+w[0];y&w[1]&&!Pc(p,P)&&p.push(P)}),p.sort()}function ZE(p){if(p instanceof ue)return p.clone();var y=new Qn(p.__wrapped__,p.__chain__);return y.__actions__=rn(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function j4(p,y,w){(w?Hr(p,y,w):y===t)?y=1:y=fr(jt(y),0);var P=p==null?0:p.length;if(!P||y<1)return[];for(var B=0,W=0,U=at(zc(P/y));B<P;)U[W++]=ti(p,B,B+=y);return U}function Z4(p){for(var y=-1,w=p==null?0:p.length,P=0,B=[];++y<w;){var W=p[y];W&&(B[P++]=W)}return B}function Q4(){var p=arguments.length;if(!p)return[];for(var y=at(p-1),w=arguments[0],P=p;P--;)y[P-1]=arguments[P];return Va(qt(w)?rn(w):[w],Sr(y,1))}var J4=Jt(function(p,y){return rr(p)?El(p,Sr(y,1,rr,!0)):[]}),t9=Jt(function(p,y){var w=ei(y);return rr(w)&&(w=t),rr(p)?El(p,Sr(y,1,rr,!0),kt(w,2)):[]}),e9=Jt(function(p,y){var w=ei(y);return rr(w)&&(w=t),rr(p)?El(p,Sr(y,1,rr,!0),t,w):[]});function r9(p,y,w){var P=p==null?0:p.length;return P?(y=w||y===t?1:jt(y),ti(p,y<0?0:y,P)):[]}function n9(p,y,w){var P=p==null?0:p.length;return P?(y=w||y===t?1:jt(y),y=P-y,ti(p,0,y<0?0:y)):[]}function i9(p,y){return p&&p.length?jc(p,kt(y,3),!0,!0):[]}function a9(p,y){return p&&p.length?jc(p,kt(y,3),!0):[]}function o9(p,y,w,P){var B=p==null?0:p.length;return B?(w&&typeof w!="number"&&Hr(p,y,w)&&(w=0,P=B),QR(p,y,w,P)):[]}function QE(p,y,w){var P=p==null?0:p.length;if(!P)return-1;var B=w==null?0:jt(w);return B<0&&(B=fr(P+B,0)),bc(p,kt(y,3),B)}function JE(p,y,w){var P=p==null?0:p.length;if(!P)return-1;var B=P-1;return w!==t&&(B=jt(w),B=w<0?fr(P+B,0):Or(B,P-1)),bc(p,kt(y,3),B,!0)}function tM(p){var y=p==null?0:p.length;return y?Sr(p,1):[]}function s9(p){var y=p==null?0:p.length;return y?Sr(p,D):[]}function u9(p,y){var w=p==null?0:p.length;return w?(y=y===t?1:jt(y),Sr(p,y)):[]}function l9(p){for(var y=-1,w=p==null?0:p.length,P={};++y<w;){var B=p[y];P[B[0]]=B[1]}return P}function eM(p){return p&&p.length?p[0]:t}function f9(p,y,w){var P=p==null?0:p.length;if(!P)return-1;var B=w==null?0:jt(w);return B<0&&(B=fr(P+B,0)),Gs(p,y,B)}function c9(p){var y=p==null?0:p.length;return y?ti(p,0,-1):[]}var h9=Jt(function(p){var y=Ye(p,y0);return y.length&&y[0]===p[0]?s0(y):[]}),v9=Jt(function(p){var y=ei(p),w=Ye(p,y0);return y===ei(w)?y=t:w.pop(),w.length&&w[0]===p[0]?s0(w,kt(y,2)):[]}),p9=Jt(function(p){var y=ei(p),w=Ye(p,y0);return y=typeof y=="function"?y:t,y&&w.pop(),w.length&&w[0]===p[0]?s0(w,t,y):[]});function g9(p,y){return p==null?"":cR.call(p,y)}function ei(p){var y=p==null?0:p.length;return y?p[y-1]:t}function d9(p,y,w){var P=p==null?0:p.length;if(!P)return-1;var B=P;return w!==t&&(B=jt(w),B=B<0?fr(P+B,0):Or(B,P-1)),y===y?qB(p,y,B):bc(p,R_,B,!0)}function y9(p,y){return p&&p.length?hE(p,jt(y)):t}var m9=Jt(rM);function rM(p,y){return p&&p.length&&y&&y.length?c0(p,y):p}function x9(p,y,w){return p&&p.length&&y&&y.length?c0(p,y,kt(w,2)):p}function w9(p,y,w){return p&&p.length&&y&&y.length?c0(p,y,t,w):p}var _9=da(function(p,y){var w=p==null?0:p.length,P=n0(p,y);return gE(p,Ye(y,function(B){return ya(B,w)?+B:B}).sort(SE)),P});function E9(p,y){var w=[];if(!(p&&p.length))return w;var P=-1,B=[],W=p.length;for(y=kt(y,3);++P<W;){var U=p[P];y(U,P,p)&&(w.push(U),B.push(P))}return gE(p,B),w}function O0(p){return p==null?p:gR.call(p)}function M9(p,y,w){var P=p==null?0:p.length;return P?(w&&typeof w!="number"&&Hr(p,y,w)?(y=0,w=P):(y=y==null?0:jt(y),w=w===t?P:jt(w)),ti(p,y,w)):[]}function C9(p,y){return qc(p,y)}function S9(p,y,w){return p0(p,y,kt(w,2))}function T9(p,y){var w=p==null?0:p.length;if(w){var P=qc(p,y);if(P<w&&Ei(p[P],y))return P}return-1}function A9(p,y){return qc(p,y,!0)}function P9(p,y,w){return p0(p,y,kt(w,2),!0)}function b9(p,y){var w=p==null?0:p.length;if(w){var P=qc(p,y,!0)-1;if(Ei(p[P],y))return P}return-1}function L9(p){return p&&p.length?yE(p):[]}function O9(p,y){return p&&p.length?yE(p,kt(y,2)):[]}function I9(p){var y=p==null?0:p.length;return y?ti(p,1,y):[]}function D9(p,y,w){return p&&p.length?(y=w||y===t?1:jt(y),ti(p,0,y<0?0:y)):[]}function B9(p,y,w){var P=p==null?0:p.length;return P?(y=w||y===t?1:jt(y),y=P-y,ti(p,y<0?0:y,P)):[]}function R9(p,y){return p&&p.length?jc(p,kt(y,3),!1,!0):[]}function F9(p,y){return p&&p.length?jc(p,kt(y,3)):[]}var k9=Jt(function(p){return ja(Sr(p,1,rr,!0))}),$9=Jt(function(p){var y=ei(p);return rr(y)&&(y=t),ja(Sr(p,1,rr,!0),kt(y,2))}),N9=Jt(function(p){var y=ei(p);return y=typeof y=="function"?y:t,ja(Sr(p,1,rr,!0),t,y)});function z9(p){return p&&p.length?ja(p):[]}function G9(p,y){return p&&p.length?ja(p,kt(y,2)):[]}function W9(p,y){return y=typeof y=="function"?y:t,p&&p.length?ja(p,t,y):[]}function I0(p){if(!(p&&p.length))return[];var y=0;return p=Xa(p,function(w){if(rr(w))return y=fr(w.length,y),!0}),qd(y,function(w){return Ye(p,Vd(w))})}function nM(p,y){if(!(p&&p.length))return[];var w=I0(p);return y==null?w:Ye(w,function(P){return bn(y,t,P)})}var Y9=Jt(function(p,y){return rr(p)?El(p,y):[]}),H9=Jt(function(p){return d0(Xa(p,rr))}),X9=Jt(function(p){var y=ei(p);return rr(y)&&(y=t),d0(Xa(p,rr),kt(y,2))}),V9=Jt(function(p){var y=ei(p);return y=typeof y=="function"?y:t,d0(Xa(p,rr),t,y)}),U9=Jt(I0);function K9(p,y){return _E(p||[],y||[],_l)}function q9(p,y){return _E(p||[],y||[],Sl)}var j9=Jt(function(p){var y=p.length,w=y>1?p[y-1]:t;return w=typeof w=="function"?(p.pop(),w):t,nM(p,w)});function iM(p){var y=N(p);return y.__chain__=!0,y}function Z9(p,y){return y(p),p}function ah(p,y){return y(p)}var Q9=da(function(p){var y=p.length,w=y?p[0]:0,P=this.__wrapped__,B=function(W){return n0(W,p)};return y>1||this.__actions__.length||!(P instanceof ue)||!ya(w)?this.thru(B):(P=P.slice(w,+w+(y?1:0)),P.__actions__.push({func:ah,args:[B],thisArg:t}),new Qn(P,this.__chain__).thru(function(W){return y&&!W.length&&W.push(t),W}))});function J9(){return iM(this)}function tF(){return new Qn(this.value(),this.__chain__)}function eF(){this.__values__===t&&(this.__values__=mM(this.value()));var p=this.__index__>=this.__values__.length,y=p?t:this.__values__[this.__index__++];return{done:p,value:y}}function rF(){return this}function nF(p){for(var y,w=this;w instanceof Hc;){var P=ZE(w);P.__index__=0,P.__values__=t,y?B.__wrapped__=P:y=P;var B=P;w=w.__wrapped__}return B.__wrapped__=p,y}function iF(){var p=this.__wrapped__;if(p instanceof ue){var y=p;return this.__actions__.length&&(y=new ue(this)),y=y.reverse(),y.__actions__.push({func:ah,args:[O0],thisArg:t}),new Qn(y,this.__chain__)}return this.thru(O0)}function aF(){return wE(this.__wrapped__,this.__actions__)}var oF=Zc(function(p,y,w){Se.call(p,w)?++p[w]:pa(p,w,1)});function sF(p,y,w){var P=qt(p)?D_:ZR;return w&&Hr(p,y,w)&&(y=t),P(p,kt(y,3))}function uF(p,y){var w=qt(p)?Xa:nE;return w(p,kt(y,3))}var lF=OE(QE),fF=OE(JE);function cF(p,y){return Sr(oh(p,y),1)}function hF(p,y){return Sr(oh(p,y),D)}function vF(p,y,w){return w=w===t?1:jt(w),Sr(oh(p,y),w)}function aM(p,y){var w=qt(p)?jn:qa;return w(p,kt(y,3))}function oM(p,y){var w=qt(p)?IB:rE;return w(p,kt(y,3))}var pF=Zc(function(p,y,w){Se.call(p,w)?p[w].push(y):pa(p,w,[y])});function gF(p,y,w,P){p=nn(p)?p:Js(p),w=w&&!P?jt(w):0;var B=p.length;return w<0&&(w=fr(B+w,0)),ch(p)?w<=B&&p.indexOf(y,w)>-1:!!B&&Gs(p,y,w)>-1}var dF=Jt(function(p,y,w){var P=-1,B=typeof y=="function",W=nn(p)?at(p.length):[];return qa(p,function(U){W[++P]=B?bn(y,U,w):Ml(U,y,w)}),W}),yF=Zc(function(p,y,w){pa(p,w,y)});function oh(p,y){var w=qt(p)?Ye:lE;return w(p,kt(y,3))}function mF(p,y,w,P){return p==null?[]:(qt(y)||(y=y==null?[]:[y]),w=P?t:w,qt(w)||(w=w==null?[]:[w]),vE(p,y,w))}var xF=Zc(function(p,y,w){p[w?0:1].push(y)},function(){return[[],[]]});function wF(p,y,w){var P=qt(p)?Hd:k_,B=arguments.length<3;return P(p,kt(y,4),w,B,qa)}function _F(p,y,w){var P=qt(p)?DB:k_,B=arguments.length<3;return P(p,kt(y,4),w,B,rE)}function EF(p,y){var w=qt(p)?Xa:nE;return w(p,lh(kt(y,3)))}function MF(p){var y=qt(p)?Q_:g4;return y(p)}function CF(p,y,w){(w?Hr(p,y,w):y===t)?y=1:y=jt(y);var P=qt(p)?VR:d4;return P(p,y)}function SF(p){var y=qt(p)?UR:m4;return y(p)}function TF(p){if(p==null)return 0;if(nn(p))return ch(p)?Ys(p):p.length;var y=Ir(p);return y==Ne||y==ft?p.size:l0(p).length}function AF(p,y,w){var P=qt(p)?Xd:x4;return w&&Hr(p,y,w)&&(y=t),P(p,kt(y,3))}var PF=Jt(function(p,y){if(p==null)return[];var w=y.length;return w>1&&Hr(p,y[0],y[1])?y=[]:w>2&&Hr(y[0],y[1],y[2])&&(y=[y[0]]),vE(p,Sr(y,1),[])}),sh=uR||function(){return Cr.Date.now()};function bF(p,y){if(typeof y!="function")throw new Zn(o);return p=jt(p),function(){if(--p<1)return y.apply(this,arguments)}}function sM(p,y,w){return y=w?t:y,y=p&&y==null?p.length:y,ga(p,I,t,t,t,t,y)}function uM(p,y){var w;if(typeof y!="function")throw new Zn(o);return p=jt(p),function(){return--p>0&&(w=y.apply(this,arguments)),p<=1&&(y=t),w}}var D0=Jt(function(p,y,w){var P=m;if(w.length){var B=Ua(w,Zs(D0));P|=A}return ga(p,P,y,w,B)}),lM=Jt(function(p,y,w){var P=m|x;if(w.length){var B=Ua(w,Zs(lM));P|=A}return ga(y,P,p,w,B)});function fM(p,y,w){y=w?t:y;var P=ga(p,_,t,t,t,t,t,y);return P.placeholder=fM.placeholder,P}function cM(p,y,w){y=w?t:y;var P=ga(p,M,t,t,t,t,t,y);return P.placeholder=cM.placeholder,P}function hM(p,y,w){var P,B,W,U,q,Q,ct=0,ht=!1,gt=!1,St=!0;if(typeof p!="function")throw new Zn(o);y=ri(y)||0,Xe(w)&&(ht=!!w.leading,gt="maxWait"in w,W=gt?fr(ri(w.maxWait)||0,y):W,St="trailing"in w?!!w.trailing:St);function bt(nr){var Mi=P,wa=B;return P=B=t,ct=nr,U=p.apply(wa,Mi),U}function zt(nr){return ct=nr,q=Pl(re,y),ht?bt(nr):U}function Qt(nr){var Mi=nr-Q,wa=nr-ct,OM=y-Mi;return gt?Or(OM,W-wa):OM}function Gt(nr){var Mi=nr-Q,wa=nr-ct;return Q===t||Mi>=y||Mi<0||gt&&wa>=W}function re(){var nr=sh();if(Gt(nr))return le(nr);q=Pl(re,Qt(nr))}function le(nr){return q=t,St&&P?bt(nr):(P=B=t,U)}function Dn(){q!==t&&EE(q),ct=0,P=Q=B=q=t}function Xr(){return q===t?U:le(sh())}function Bn(){var nr=sh(),Mi=Gt(nr);if(P=arguments,B=this,Q=nr,Mi){if(q===t)return zt(Q);if(gt)return EE(q),q=Pl(re,y),bt(Q)}return q===t&&(q=Pl(re,y)),U}return Bn.cancel=Dn,Bn.flush=Xr,Bn}var LF=Jt(function(p,y){return eE(p,1,y)}),OF=Jt(function(p,y,w){return eE(p,ri(y)||0,w)});function IF(p){return ga(p,F)}function uh(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new Zn(o);var w=function(){var P=arguments,B=y?y.apply(this,P):P[0],W=w.cache;if(W.has(B))return W.get(B);var U=p.apply(this,P);return w.cache=W.set(B,U)||W,U};return w.cache=new(uh.Cache||va),w}uh.Cache=va;function lh(p){if(typeof p!="function")throw new Zn(o);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function DF(p){return uM(2,p)}var BF=w4(function(p,y){y=y.length==1&&qt(y[0])?Ye(y[0],Ln(kt())):Ye(Sr(y,1),Ln(kt()));var w=y.length;return Jt(function(P){for(var B=-1,W=Or(P.length,w);++B<W;)P[B]=y[B].call(this,P[B]);return bn(p,this,P)})}),B0=Jt(function(p,y){var w=Ua(y,Zs(B0));return ga(p,A,t,y,w)}),vM=Jt(function(p,y){var w=Ua(y,Zs(vM));return ga(p,b,t,y,w)}),RF=da(function(p,y){return ga(p,L,t,t,t,y)});function FF(p,y){if(typeof p!="function")throw new Zn(o);return y=y===t?y:jt(y),Jt(p,y)}function kF(p,y){if(typeof p!="function")throw new Zn(o);return y=y==null?0:fr(jt(y),0),Jt(function(w){var P=w[y],B=Qa(w,0,y);return P&&Va(B,P),bn(p,this,B)})}function $F(p,y,w){var P=!0,B=!0;if(typeof p!="function")throw new Zn(o);return Xe(w)&&(P="leading"in w?!!w.leading:P,B="trailing"in w?!!w.trailing:B),hM(p,y,{leading:P,maxWait:y,trailing:B})}function NF(p){return sM(p,1)}function zF(p,y){return B0(m0(y),p)}function GF(){if(!arguments.length)return[];var p=arguments[0];return qt(p)?p:[p]}function WF(p){return Jn(p,v)}function YF(p,y){return y=typeof y=="function"?y:t,Jn(p,v,y)}function HF(p){return Jn(p,c|v)}function XF(p,y){return y=typeof y=="function"?y:t,Jn(p,c|v,y)}function VF(p,y){return y==null||tE(p,y,xr(y))}function Ei(p,y){return p===y||p!==p&&y!==y}var UF=eh(o0),KF=eh(function(p,y){return p>=y}),Zo=oE(function(){return arguments}())?oE:function(p){return Ze(p)&&Se.call(p,"callee")&&!V_.call(p,"callee")},qt=at.isArray,qF=A_?Ln(A_):n4;function nn(p){return p!=null&&fh(p.length)&&!ma(p)}function rr(p){return Ze(p)&&nn(p)}function jF(p){return p===!0||p===!1||Ze(p)&&Yr(p)==Mr}var Ja=fR||X0,ZF=P_?Ln(P_):i4;function QF(p){return Ze(p)&&p.nodeType===1&&!bl(p)}function JF(p){if(p==null)return!0;if(nn(p)&&(qt(p)||typeof p=="string"||typeof p.splice=="function"||Ja(p)||Qs(p)||Zo(p)))return!p.length;var y=Ir(p);if(y==Ne||y==ft)return!p.size;if(Al(p))return!l0(p).length;for(var w in p)if(Se.call(p,w))return!1;return!0}function t6(p,y){return Cl(p,y)}function e6(p,y,w){w=typeof w=="function"?w:t;var P=w?w(p,y):t;return P===t?Cl(p,y,t,w):!!P}function R0(p){if(!Ze(p))return!1;var y=Yr(p);return y==mr||y==fa||typeof p.message=="string"&&typeof p.name=="string"&&!bl(p)}function r6(p){return typeof p=="number"&&K_(p)}function ma(p){if(!Xe(p))return!1;var y=Yr(p);return y==en||y==ca||y==Er||y==K}function pM(p){return typeof p=="number"&&p==jt(p)}function fh(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=H}function Xe(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function Ze(p){return p!=null&&typeof p=="object"}var gM=b_?Ln(b_):o4;function n6(p,y){return p===y||u0(p,y,S0(y))}function i6(p,y,w){return w=typeof w=="function"?w:t,u0(p,y,S0(y),w)}function a6(p){return dM(p)&&p!=+p}function o6(p){if(Y4(p))throw new Vt(a);return sE(p)}function s6(p){return p===null}function u6(p){return p==null}function dM(p){return typeof p=="number"||Ze(p)&&Yr(p)==Pn}function bl(p){if(!Ze(p)||Yr(p)!=G)return!1;var y=kc(p);if(y===null)return!0;var w=Se.call(y,"constructor")&&y.constructor;return typeof w=="function"&&w instanceof w&&Dc.call(w)==iR}var F0=L_?Ln(L_):s4;function l6(p){return pM(p)&&p>=-H&&p<=H}var yM=O_?Ln(O_):u4;function ch(p){return typeof p=="string"||!qt(p)&&Ze(p)&&Yr(p)==Mt}function In(p){return typeof p=="symbol"||Ze(p)&&Yr(p)==xt}var Qs=I_?Ln(I_):l4;function f6(p){return p===t}function c6(p){return Ze(p)&&Ir(p)==Yt}function h6(p){return Ze(p)&&Yr(p)==Ae}var v6=eh(f0),p6=eh(function(p,y){return p<=y});function mM(p){if(!p)return[];if(nn(p))return ch(p)?wi(p):rn(p);if(dl&&p[dl])return VB(p[dl]());var y=Ir(p),w=y==Ne?Zd:y==ft?Lc:Js;return w(p)}function xa(p){if(!p)return p===0?p:0;if(p=ri(p),p===D||p===-D){var y=p<0?-1:1;return y*it}return p===p?p:0}function jt(p){var y=xa(p),w=y%1;return y===y?w?y-w:y:0}function xM(p){return p?Uo(jt(p),0,yt):0}function ri(p){if(typeof p=="number")return p;if(In(p))return pt;if(Xe(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=Xe(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=$_(p);var w=Pd.test(p);return w||Ld.test(p)?bB(p.slice(2),w?2:8):Ad.test(p)?pt:+p}function wM(p){return zi(p,an(p))}function g6(p){return p?Uo(jt(p),-H,H):p===0?p:0}function Ee(p){return p==null?"":On(p)}var d6=qs(function(p,y){if(Al(y)||nn(y)){zi(y,xr(y),p);return}for(var w in y)Se.call(y,w)&&_l(p,w,y[w])}),_M=qs(function(p,y){zi(y,an(y),p)}),hh=qs(function(p,y,w,P){zi(y,an(y),p,P)}),y6=qs(function(p,y,w,P){zi(y,xr(y),p,P)}),m6=da(n0);function x6(p,y){var w=Ks(p);return y==null?w:J_(w,y)}var w6=Jt(function(p,y){p=Ie(p);var w=-1,P=y.length,B=P>2?y[2]:t;for(B&&Hr(y[0],y[1],B)&&(P=1);++w<P;)for(var W=y[w],U=an(W),q=-1,Q=U.length;++q<Q;){var ct=U[q],ht=p[ct];(ht===t||Ei(ht,Xs[ct])&&!Se.call(p,ct))&&(p[ct]=W[ct])}return p}),_6=Jt(function(p){return p.push(t,$E),bn(EM,t,p)});function E6(p,y){return B_(p,kt(y,3),Ni)}function M6(p,y){return B_(p,kt(y,3),a0)}function C6(p,y){return p==null?p:i0(p,kt(y,3),an)}function S6(p,y){return p==null?p:iE(p,kt(y,3),an)}function T6(p,y){return p&&Ni(p,kt(y,3))}function A6(p,y){return p&&a0(p,kt(y,3))}function P6(p){return p==null?[]:Uc(p,xr(p))}function b6(p){return p==null?[]:Uc(p,an(p))}function k0(p,y,w){var P=p==null?t:Ko(p,y);return P===t?w:P}function L6(p,y){return p!=null&&GE(p,y,JR)}function $0(p,y){return p!=null&&GE(p,y,t4)}var O6=DE(function(p,y,w){y!=null&&typeof y.toString!="function"&&(y=Bc.call(y)),p[y]=w},z0(on)),I6=DE(function(p,y,w){y!=null&&typeof y.toString!="function"&&(y=Bc.call(y)),Se.call(p,y)?p[y].push(w):p[y]=[w]},kt),D6=Jt(Ml);function xr(p){return nn(p)?Z_(p):l0(p)}function an(p){return nn(p)?Z_(p,!0):f4(p)}function B6(p,y){var w={};return y=kt(y,3),Ni(p,function(P,B,W){pa(w,y(P,B,W),P)}),w}function R6(p,y){var w={};return y=kt(y,3),Ni(p,function(P,B,W){pa(w,B,y(P,B,W))}),w}var F6=qs(function(p,y,w){Kc(p,y,w)}),EM=qs(function(p,y,w,P){Kc(p,y,w,P)}),k6=da(function(p,y){var w={};if(p==null)return w;var P=!1;y=Ye(y,function(W){return W=Za(W,p),P||(P=W.length>1),W}),zi(p,M0(p),w),P&&(w=Jn(w,c|h|v,O4));for(var B=y.length;B--;)g0(w,y[B]);return w});function $6(p,y){return MM(p,lh(kt(y)))}var N6=da(function(p,y){return p==null?{}:h4(p,y)});function MM(p,y){if(p==null)return{};var w=Ye(M0(p),function(P){return[P]});return y=kt(y),pE(p,w,function(P,B){return y(P,B[0])})}function z6(p,y,w){y=Za(y,p);var P=-1,B=y.length;for(B||(B=1,p=t);++P<B;){var W=p==null?t:p[Gi(y[P])];W===t&&(P=B,W=w),p=ma(W)?W.call(p):W}return p}function G6(p,y,w){return p==null?p:Sl(p,y,w)}function W6(p,y,w,P){return P=typeof P=="function"?P:t,p==null?p:Sl(p,y,w,P)}var CM=FE(xr),SM=FE(an);function Y6(p,y,w){var P=qt(p),B=P||Ja(p)||Qs(p);if(y=kt(y,4),w==null){var W=p&&p.constructor;B?w=P?new W:[]:Xe(p)?w=ma(W)?Ks(kc(p)):{}:w={}}return(B?jn:Ni)(p,function(U,q,Q){return y(w,U,q,Q)}),w}function H6(p,y){return p==null?!0:g0(p,y)}function X6(p,y,w){return p==null?p:xE(p,y,m0(w))}function V6(p,y,w,P){return P=typeof P=="function"?P:t,p==null?p:xE(p,y,m0(w),P)}function Js(p){return p==null?[]:jd(p,xr(p))}function U6(p){return p==null?[]:jd(p,an(p))}function K6(p,y,w){return w===t&&(w=y,y=t),w!==t&&(w=ri(w),w=w===w?w:0),y!==t&&(y=ri(y),y=y===y?y:0),Uo(ri(p),y,w)}function q6(p,y,w){return y=xa(y),w===t?(w=y,y=0):w=xa(w),p=ri(p),e4(p,y,w)}function j6(p,y,w){if(w&&typeof w!="boolean"&&Hr(p,y,w)&&(y=w=t),w===t&&(typeof y=="boolean"?(w=y,y=t):typeof p=="boolean"&&(w=p,p=t)),p===t&&y===t?(p=0,y=1):(p=xa(p),y===t?(y=p,p=0):y=xa(y)),p>y){var P=p;p=y,y=P}if(w||p%1||y%1){var B=q_();return Or(p+B*(y-p+PB("1e-"+((B+"").length-1))),y)}return h0(p,y)}var Z6=js(function(p,y,w){return y=y.toLowerCase(),p+(w?TM(y):y)});function TM(p){return N0(Ee(p).toLowerCase())}function AM(p){return p=Ee(p),p&&p.replace(Id,GB).replace(mB,"")}function Q6(p,y,w){p=Ee(p),y=On(y);var P=p.length;w=w===t?P:Uo(jt(w),0,P);var B=w;return w-=y.length,w>=0&&p.slice(w,B)==y}function J6(p){return p=Ee(p),p&&hd.test(p)?p.replace(Sc,WB):p}function tk(p){return p=Ee(p),p&&md.test(p)?p.replace(hl,"\\$&"):p}var ek=js(function(p,y,w){return p+(w?"-":"")+y.toLowerCase()}),rk=js(function(p,y,w){return p+(w?" ":"")+y.toLowerCase()}),nk=LE("toLowerCase");function ik(p,y,w){p=Ee(p),y=jt(y);var P=y?Ys(p):0;if(!y||P>=y)return p;var B=(y-P)/2;return th(Gc(B),w)+p+th(zc(B),w)}function ak(p,y,w){p=Ee(p),y=jt(y);var P=y?Ys(p):0;return y&&P<y?p+th(y-P,w):p}function ok(p,y,w){p=Ee(p),y=jt(y);var P=y?Ys(p):0;return y&&P<y?th(y-P,w)+p:p}function sk(p,y,w){return w||y==null?y=0:y&&(y=+y),pR(Ee(p).replace(vl,""),y||0)}function uk(p,y,w){return(w?Hr(p,y,w):y===t)?y=1:y=jt(y),v0(Ee(p),y)}function lk(){var p=arguments,y=Ee(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var fk=js(function(p,y,w){return p+(w?"_":"")+y.toLowerCase()});function ck(p,y,w){return w&&typeof w!="number"&&Hr(p,y,w)&&(y=w=t),w=w===t?yt:w>>>0,w?(p=Ee(p),p&&(typeof y=="string"||y!=null&&!F0(y))&&(y=On(y),!y&&Ws(p))?Qa(wi(p),0,w):p.split(y,w)):[]}var hk=js(function(p,y,w){return p+(w?" ":"")+N0(y)});function vk(p,y,w){return p=Ee(p),w=w==null?0:Uo(jt(w),0,p.length),y=On(y),p.slice(w,w+y.length)==y}function pk(p,y,w){var P=N.templateSettings;w&&Hr(p,y,w)&&(y=t),p=Ee(p),y=hh({},y,P,kE);var B=hh({},y.imports,P.imports,kE),W=xr(B),U=jd(B,W),q,Q,ct=0,ht=y.interpolate||$s,gt="__p += '",St=Qd((y.escape||$s).source+"|"+ht.source+"|"+(ht===Tc?Td:$s).source+"|"+(y.evaluate||$s).source+"|$","g"),bt="//# sourceURL="+(Se.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++MB+"]")+`
`;p.replace(St,function(Gt,re,le,Dn,Xr,Bn){return le||(le=Dn),gt+=p.slice(ct,Bn).replace(Dd,YB),re&&(q=!0,gt+=`' +
__e(`+re+`) +
'`),Xr&&(Q=!0,gt+=`';
`+Xr+`;
__p += '`),le&&(gt+=`' +
((__t = (`+le+`)) == null ? '' : __t) +
'`),ct=Bn+Gt.length,Gt}),gt+=`';
`;var zt=Se.call(y,"variable")&&y.variable;if(!zt)gt=`with (obj) {
`+gt+`
}
`;else if(Cd.test(zt))throw new Vt(s);gt=(Q?gt.replace(ud,""):gt).replace(ld,"$1").replace(fd,"$1;"),gt="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+gt+`return __p
}`;var Qt=bM(function(){return me(W,bt+"return "+gt).apply(t,U)});if(Qt.source=gt,R0(Qt))throw Qt;return Qt}function gk(p){return Ee(p).toLowerCase()}function dk(p){return Ee(p).toUpperCase()}function yk(p,y,w){if(p=Ee(p),p&&(w||y===t))return $_(p);if(!p||!(y=On(y)))return p;var P=wi(p),B=wi(y),W=N_(P,B),U=z_(P,B)+1;return Qa(P,W,U).join("")}function mk(p,y,w){if(p=Ee(p),p&&(w||y===t))return p.slice(0,W_(p)+1);if(!p||!(y=On(y)))return p;var P=wi(p),B=z_(P,wi(y))+1;return Qa(P,0,B).join("")}function xk(p,y,w){if(p=Ee(p),p&&(w||y===t))return p.replace(vl,"");if(!p||!(y=On(y)))return p;var P=wi(p),B=N_(P,wi(y));return Qa(P,B).join("")}function wk(p,y){var w=$,P=Y;if(Xe(y)){var B="separator"in y?y.separator:B;w="length"in y?jt(y.length):w,P="omission"in y?On(y.omission):P}p=Ee(p);var W=p.length;if(Ws(p)){var U=wi(p);W=U.length}if(w>=W)return p;var q=w-Ys(P);if(q<1)return P;var Q=U?Qa(U,0,q).join(""):p.slice(0,q);if(B===t)return Q+P;if(U&&(q+=Q.length-q),F0(B)){if(p.slice(q).search(B)){var ct,ht=Q;for(B.global||(B=Qd(B.source,Ee(pl.exec(B))+"g")),B.lastIndex=0;ct=B.exec(ht);)var gt=ct.index;Q=Q.slice(0,gt===t?q:gt)}}else if(p.indexOf(On(B),q)!=q){var St=Q.lastIndexOf(B);St>-1&&(Q=Q.slice(0,St))}return Q+P}function _k(p){return p=Ee(p),p&&cd.test(p)?p.replace(Cc,jB):p}var Ek=js(function(p,y,w){return p+(w?" ":"")+y.toUpperCase()}),N0=LE("toUpperCase");function PM(p,y,w){return p=Ee(p),y=w?t:y,y===t?XB(p)?JB(p):FB(p):p.match(y)||[]}var bM=Jt(function(p,y){try{return bn(p,t,y)}catch(w){return R0(w)?w:new Vt(w)}}),Mk=da(function(p,y){return jn(y,function(w){w=Gi(w),pa(p,w,D0(p[w],p))}),p});function Ck(p){var y=p==null?0:p.length,w=kt();return p=y?Ye(p,function(P){if(typeof P[1]!="function")throw new Zn(o);return[w(P[0]),P[1]]}):[],Jt(function(P){for(var B=-1;++B<y;){var W=p[B];if(bn(W[0],this,P))return bn(W[1],this,P)}})}function Sk(p){return jR(Jn(p,c))}function z0(p){return function(){return p}}function Tk(p,y){return p==null||p!==p?y:p}var Ak=IE(),Pk=IE(!0);function on(p){return p}function G0(p){return uE(typeof p=="function"?p:Jn(p,c))}function bk(p){return fE(Jn(p,c))}function Lk(p,y){return cE(p,Jn(y,c))}var Ok=Jt(function(p,y){return function(w){return Ml(w,p,y)}}),Ik=Jt(function(p,y){return function(w){return Ml(p,w,y)}});function W0(p,y,w){var P=xr(y),B=Uc(y,P);w==null&&!(Xe(y)&&(B.length||!P.length))&&(w=y,y=p,p=this,B=Uc(y,xr(y)));var W=!(Xe(w)&&"chain"in w)||!!w.chain,U=ma(p);return jn(B,function(q){var Q=y[q];p[q]=Q,U&&(p.prototype[q]=function(){var ct=this.__chain__;if(W||ct){var ht=p(this.__wrapped__),gt=ht.__actions__=rn(this.__actions__);return gt.push({func:Q,args:arguments,thisArg:p}),ht.__chain__=ct,ht}return Q.apply(p,Va([this.value()],arguments))})}),p}function Dk(){return Cr._===this&&(Cr._=aR),this}function Y0(){}function Bk(p){return p=jt(p),Jt(function(y){return hE(y,p)})}var Rk=w0(Ye),Fk=w0(D_),kk=w0(Xd);function LM(p){return A0(p)?Vd(Gi(p)):v4(p)}function $k(p){return function(y){return p==null?t:Ko(p,y)}}var Nk=BE(),zk=BE(!0);function H0(){return[]}function X0(){return!1}function Gk(){return{}}function Wk(){return""}function Yk(){return!0}function Hk(p,y){if(p=jt(p),p<1||p>H)return[];var w=yt,P=Or(p,yt);y=kt(y),p-=yt;for(var B=qd(P,y);++w<p;)y(w);return B}function Xk(p){return qt(p)?Ye(p,Gi):In(p)?[p]:rn(jE(Ee(p)))}function Vk(p){var y=++nR;return Ee(p)+y}var Uk=Jc(function(p,y){return p+y},0),Kk=_0("ceil"),qk=Jc(function(p,y){return p/y},1),jk=_0("floor");function Zk(p){return p&&p.length?Vc(p,on,o0):t}function Qk(p,y){return p&&p.length?Vc(p,kt(y,2),o0):t}function Jk(p){return F_(p,on)}function t8(p,y){return F_(p,kt(y,2))}function e8(p){return p&&p.length?Vc(p,on,f0):t}function r8(p,y){return p&&p.length?Vc(p,kt(y,2),f0):t}var n8=Jc(function(p,y){return p*y},1),i8=_0("round"),a8=Jc(function(p,y){return p-y},0);function o8(p){return p&&p.length?Kd(p,on):0}function s8(p,y){return p&&p.length?Kd(p,kt(y,2)):0}return N.after=bF,N.ary=sM,N.assign=d6,N.assignIn=_M,N.assignInWith=hh,N.assignWith=y6,N.at=m6,N.before=uM,N.bind=D0,N.bindAll=Mk,N.bindKey=lM,N.castArray=GF,N.chain=iM,N.chunk=j4,N.compact=Z4,N.concat=Q4,N.cond=Ck,N.conforms=Sk,N.constant=z0,N.countBy=oF,N.create=x6,N.curry=fM,N.curryRight=cM,N.debounce=hM,N.defaults=w6,N.defaultsDeep=_6,N.defer=LF,N.delay=OF,N.difference=J4,N.differenceBy=t9,N.differenceWith=e9,N.drop=r9,N.dropRight=n9,N.dropRightWhile=i9,N.dropWhile=a9,N.fill=o9,N.filter=uF,N.flatMap=cF,N.flatMapDeep=hF,N.flatMapDepth=vF,N.flatten=tM,N.flattenDeep=s9,N.flattenDepth=u9,N.flip=IF,N.flow=Ak,N.flowRight=Pk,N.fromPairs=l9,N.functions=P6,N.functionsIn=b6,N.groupBy=pF,N.initial=c9,N.intersection=h9,N.intersectionBy=v9,N.intersectionWith=p9,N.invert=O6,N.invertBy=I6,N.invokeMap=dF,N.iteratee=G0,N.keyBy=yF,N.keys=xr,N.keysIn=an,N.map=oh,N.mapKeys=B6,N.mapValues=R6,N.matches=bk,N.matchesProperty=Lk,N.memoize=uh,N.merge=F6,N.mergeWith=EM,N.method=Ok,N.methodOf=Ik,N.mixin=W0,N.negate=lh,N.nthArg=Bk,N.omit=k6,N.omitBy=$6,N.once=DF,N.orderBy=mF,N.over=Rk,N.overArgs=BF,N.overEvery=Fk,N.overSome=kk,N.partial=B0,N.partialRight=vM,N.partition=xF,N.pick=N6,N.pickBy=MM,N.property=LM,N.propertyOf=$k,N.pull=m9,N.pullAll=rM,N.pullAllBy=x9,N.pullAllWith=w9,N.pullAt=_9,N.range=Nk,N.rangeRight=zk,N.rearg=RF,N.reject=EF,N.remove=E9,N.rest=FF,N.reverse=O0,N.sampleSize=CF,N.set=G6,N.setWith=W6,N.shuffle=SF,N.slice=M9,N.sortBy=PF,N.sortedUniq=L9,N.sortedUniqBy=O9,N.split=ck,N.spread=kF,N.tail=I9,N.take=D9,N.takeRight=B9,N.takeRightWhile=R9,N.takeWhile=F9,N.tap=Z9,N.throttle=$F,N.thru=ah,N.toArray=mM,N.toPairs=CM,N.toPairsIn=SM,N.toPath=Xk,N.toPlainObject=wM,N.transform=Y6,N.unary=NF,N.union=k9,N.unionBy=$9,N.unionWith=N9,N.uniq=z9,N.uniqBy=G9,N.uniqWith=W9,N.unset=H6,N.unzip=I0,N.unzipWith=nM,N.update=X6,N.updateWith=V6,N.values=Js,N.valuesIn=U6,N.without=Y9,N.words=PM,N.wrap=zF,N.xor=H9,N.xorBy=X9,N.xorWith=V9,N.zip=U9,N.zipObject=K9,N.zipObjectDeep=q9,N.zipWith=j9,N.entries=CM,N.entriesIn=SM,N.extend=_M,N.extendWith=hh,W0(N,N),N.add=Uk,N.attempt=bM,N.camelCase=Z6,N.capitalize=TM,N.ceil=Kk,N.clamp=K6,N.clone=WF,N.cloneDeep=HF,N.cloneDeepWith=XF,N.cloneWith=YF,N.conformsTo=VF,N.deburr=AM,N.defaultTo=Tk,N.divide=qk,N.endsWith=Q6,N.eq=Ei,N.escape=J6,N.escapeRegExp=tk,N.every=sF,N.find=lF,N.findIndex=QE,N.findKey=E6,N.findLast=fF,N.findLastIndex=JE,N.findLastKey=M6,N.floor=jk,N.forEach=aM,N.forEachRight=oM,N.forIn=C6,N.forInRight=S6,N.forOwn=T6,N.forOwnRight=A6,N.get=k0,N.gt=UF,N.gte=KF,N.has=L6,N.hasIn=$0,N.head=eM,N.identity=on,N.includes=gF,N.indexOf=f9,N.inRange=q6,N.invoke=D6,N.isArguments=Zo,N.isArray=qt,N.isArrayBuffer=qF,N.isArrayLike=nn,N.isArrayLikeObject=rr,N.isBoolean=jF,N.isBuffer=Ja,N.isDate=ZF,N.isElement=QF,N.isEmpty=JF,N.isEqual=t6,N.isEqualWith=e6,N.isError=R0,N.isFinite=r6,N.isFunction=ma,N.isInteger=pM,N.isLength=fh,N.isMap=gM,N.isMatch=n6,N.isMatchWith=i6,N.isNaN=a6,N.isNative=o6,N.isNil=u6,N.isNull=s6,N.isNumber=dM,N.isObject=Xe,N.isObjectLike=Ze,N.isPlainObject=bl,N.isRegExp=F0,N.isSafeInteger=l6,N.isSet=yM,N.isString=ch,N.isSymbol=In,N.isTypedArray=Qs,N.isUndefined=f6,N.isWeakMap=c6,N.isWeakSet=h6,N.join=g9,N.kebabCase=ek,N.last=ei,N.lastIndexOf=d9,N.lowerCase=rk,N.lowerFirst=nk,N.lt=v6,N.lte=p6,N.max=Zk,N.maxBy=Qk,N.mean=Jk,N.meanBy=t8,N.min=e8,N.minBy=r8,N.stubArray=H0,N.stubFalse=X0,N.stubObject=Gk,N.stubString=Wk,N.stubTrue=Yk,N.multiply=n8,N.nth=y9,N.noConflict=Dk,N.noop=Y0,N.now=sh,N.pad=ik,N.padEnd=ak,N.padStart=ok,N.parseInt=sk,N.random=j6,N.reduce=wF,N.reduceRight=_F,N.repeat=uk,N.replace=lk,N.result=z6,N.round=i8,N.runInContext=Z,N.sample=MF,N.size=TF,N.snakeCase=fk,N.some=AF,N.sortedIndex=C9,N.sortedIndexBy=S9,N.sortedIndexOf=T9,N.sortedLastIndex=A9,N.sortedLastIndexBy=P9,N.sortedLastIndexOf=b9,N.startCase=hk,N.startsWith=vk,N.subtract=a8,N.sum=o8,N.sumBy=s8,N.template=pk,N.times=Hk,N.toFinite=xa,N.toInteger=jt,N.toLength=xM,N.toLower=gk,N.toNumber=ri,N.toSafeInteger=g6,N.toString=Ee,N.toUpper=dk,N.trim=yk,N.trimEnd=mk,N.trimStart=xk,N.truncate=wk,N.unescape=_k,N.uniqueId=Vk,N.upperCase=Ek,N.upperFirst=N0,N.each=aM,N.eachRight=oM,N.first=eM,W0(N,function(){var p={};return Ni(N,function(y,w){Se.call(N.prototype,w)||(p[w]=y)}),p}(),{chain:!1}),N.VERSION=n,jn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){N[p].placeholder=N}),jn(["drop","take"],function(p,y){ue.prototype[p]=function(w){w=w===t?1:fr(jt(w),0);var P=this.__filtered__&&!y?new ue(this):this.clone();return P.__filtered__?P.__takeCount__=Or(w,P.__takeCount__):P.__views__.push({size:Or(w,yt),type:p+(P.__dir__<0?"Right":"")}),P},ue.prototype[p+"Right"]=function(w){return this.reverse()[p](w).reverse()}}),jn(["filter","map","takeWhile"],function(p,y){var w=y+1,P=w==S||w==O;ue.prototype[p]=function(B){var W=this.clone();return W.__iteratees__.push({iteratee:kt(B,3),type:w}),W.__filtered__=W.__filtered__||P,W}}),jn(["head","last"],function(p,y){var w="take"+(y?"Right":"");ue.prototype[p]=function(){return this[w](1).value()[0]}}),jn(["initial","tail"],function(p,y){var w="drop"+(y?"":"Right");ue.prototype[p]=function(){return this.__filtered__?new ue(this):this[w](1)}}),ue.prototype.compact=function(){return this.filter(on)},ue.prototype.find=function(p){return this.filter(p).head()},ue.prototype.findLast=function(p){return this.reverse().find(p)},ue.prototype.invokeMap=Jt(function(p,y){return typeof p=="function"?new ue(this):this.map(function(w){return Ml(w,p,y)})}),ue.prototype.reject=function(p){return this.filter(lh(kt(p)))},ue.prototype.slice=function(p,y){p=jt(p);var w=this;return w.__filtered__&&(p>0||y<0)?new ue(w):(p<0?w=w.takeRight(-p):p&&(w=w.drop(p)),y!==t&&(y=jt(y),w=y<0?w.dropRight(-y):w.take(y-p)),w)},ue.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},ue.prototype.toArray=function(){return this.take(yt)},Ni(ue.prototype,function(p,y){var w=/^(?:filter|find|map|reject)|While$/.test(y),P=/^(?:head|last)$/.test(y),B=N[P?"take"+(y=="last"?"Right":""):y],W=P||/^find/.test(y);!B||(N.prototype[y]=function(){var U=this.__wrapped__,q=P?[1]:arguments,Q=U instanceof ue,ct=q[0],ht=Q||qt(U),gt=function(re){var le=B.apply(N,Va([re],q));return P&&St?le[0]:le};ht&&w&&typeof ct=="function"&&ct.length!=1&&(Q=ht=!1);var St=this.__chain__,bt=!!this.__actions__.length,zt=W&&!St,Qt=Q&&!bt;if(!W&&ht){U=Qt?U:new ue(this);var Gt=p.apply(U,q);return Gt.__actions__.push({func:ah,args:[gt],thisArg:t}),new Qn(Gt,St)}return zt&&Qt?p.apply(this,q):(Gt=this.thru(gt),zt?P?Gt.value()[0]:Gt.value():Gt)})}),jn(["pop","push","shift","sort","splice","unshift"],function(p){var y=Oc[p],w=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",P=/^(?:pop|shift)$/.test(p);N.prototype[p]=function(){var B=arguments;if(P&&!this.__chain__){var W=this.value();return y.apply(qt(W)?W:[],B)}return this[w](function(U){return y.apply(qt(U)?U:[],B)})}}),Ni(ue.prototype,function(p,y){var w=N[y];if(w){var P=w.name+"";Se.call(Us,P)||(Us[P]=[]),Us[P].push({name:y,func:w})}}),Us[Qc(t,x).name]=[{name:"wrapper",func:t}],ue.prototype.clone=_R,ue.prototype.reverse=ER,ue.prototype.value=MR,N.prototype.at=Q9,N.prototype.chain=J9,N.prototype.commit=tF,N.prototype.next=eF,N.prototype.plant=nF,N.prototype.reverse=iF,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=aF,N.prototype.first=N.prototype.head,dl&&(N.prototype[dl]=rF),N},Hs=tR();Yo?((Yo.exports=Hs)._=Hs,Gd._=Hs):Cr._=Hs}).call(ui)})(So,So.exports);var C={exports:{}};(function(e){var r,t,n,i,a,o,s,u,l,f,c,h,v,g,d,m,x,E,_,M,A,b,I,L,F;(function($){var Y=typeof ui=="object"?ui:typeof self=="object"?self:typeof this=="object"?this:{};$(k(Y,k(e.exports)));function k(z,S){return z!==Y&&(typeof Object.create=="function"?Object.defineProperty(z,"__esModule",{value:!0}):z.__esModule=!0),function(T,O){return z[T]=S?S(T,O):O}}})(function($){var Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,S){z.__proto__=S}||function(z,S){for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(z[T]=S[T])};r=function(z,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");Y(z,S);function T(){this.constructor=z}z.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)},t=Object.assign||function(z){for(var S,T=1,O=arguments.length;T<O;T++){S=arguments[T];for(var D in S)Object.prototype.hasOwnProperty.call(S,D)&&(z[D]=S[D])}return z},n=function(z,S){var T={};for(var O in z)Object.prototype.hasOwnProperty.call(z,O)&&S.indexOf(O)<0&&(T[O]=z[O]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,O=Object.getOwnPropertySymbols(z);D<O.length;D++)S.indexOf(O[D])<0&&Object.prototype.propertyIsEnumerable.call(z,O[D])&&(T[O[D]]=z[O[D]]);return T},i=function(z,S,T,O){var D=arguments.length,H=D<3?S:O===null?O=Object.getOwnPropertyDescriptor(S,T):O,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(z,S,T,O);else for(var pt=z.length-1;pt>=0;pt--)(it=z[pt])&&(H=(D<3?it(H):D>3?it(S,T,H):it(S,T))||H);return D>3&&H&&Object.defineProperty(S,T,H),H},a=function(z,S){return function(T,O){S(T,O,z)}},o=function(z,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,S)},s=function(z,S,T,O){function D(H){return H instanceof T?H:new T(function(it){it(H)})}return new(T||(T=Promise))(function(H,it){function pt(Dt){try{mt(O.next(Dt))}catch(oe){it(oe)}}function yt(Dt){try{mt(O.throw(Dt))}catch(oe){it(oe)}}function mt(Dt){Dt.done?H(Dt.value):D(Dt.value).then(pt,yt)}mt((O=O.apply(z,S||[])).next())})},u=function(z,S){var T={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},O,D,H,it;return it={next:pt(0),throw:pt(1),return:pt(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function pt(mt){return function(Dt){return yt([mt,Dt])}}function yt(mt){if(O)throw new TypeError("Generator is already executing.");for(;T;)try{if(O=1,D&&(H=mt[0]&2?D.return:mt[0]?D.throw||((H=D.return)&&H.call(D),0):D.next)&&!(H=H.call(D,mt[1])).done)return H;switch(D=0,H&&(mt=[mt[0]&2,H.value]),mt[0]){case 0:case 1:H=mt;break;case 4:return T.label++,{value:mt[1],done:!1};case 5:T.label++,D=mt[1],mt=[0];continue;case 7:mt=T.ops.pop(),T.trys.pop();continue;default:if(H=T.trys,!(H=H.length>0&&H[H.length-1])&&(mt[0]===6||mt[0]===2)){T=0;continue}if(mt[0]===3&&(!H||mt[1]>H[0]&&mt[1]<H[3])){T.label=mt[1];break}if(mt[0]===6&&T.label<H[1]){T.label=H[1],H=mt;break}if(H&&T.label<H[2]){T.label=H[2],T.ops.push(mt);break}H[2]&&T.ops.pop(),T.trys.pop();continue}mt=S.call(z,T)}catch(Dt){mt=[6,Dt],D=0}finally{O=H=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}},l=function(z,S){for(var T in z)T!=="default"&&!Object.prototype.hasOwnProperty.call(S,T)&&F(S,z,T)},F=Object.create?function(z,S,T,O){O===void 0&&(O=T);var D=Object.getOwnPropertyDescriptor(S,T);(!D||("get"in D?!S.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(z,O,D)}:function(z,S,T,O){O===void 0&&(O=T),z[O]=S[T]},f=function(z){var S=typeof Symbol=="function"&&Symbol.iterator,T=S&&z[S],O=0;if(T)return T.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&O>=z.length&&(z=void 0),{value:z&&z[O++],done:!z}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(z,S){var T=typeof Symbol=="function"&&z[Symbol.iterator];if(!T)return z;var O=T.call(z),D,H=[],it;try{for(;(S===void 0||S-- >0)&&!(D=O.next()).done;)H.push(D.value)}catch(pt){it={error:pt}}finally{try{D&&!D.done&&(T=O.return)&&T.call(O)}finally{if(it)throw it.error}}return H},h=function(){for(var z=[],S=0;S<arguments.length;S++)z=z.concat(c(arguments[S]));return z},v=function(){for(var z=0,S=0,T=arguments.length;S<T;S++)z+=arguments[S].length;for(var O=Array(z),D=0,S=0;S<T;S++)for(var H=arguments[S],it=0,pt=H.length;it<pt;it++,D++)O[D]=H[it];return O},g=function(z,S,T){if(T||arguments.length===2)for(var O=0,D=S.length,H;O<D;O++)(H||!(O in S))&&(H||(H=Array.prototype.slice.call(S,0,O)),H[O]=S[O]);return z.concat(H||Array.prototype.slice.call(S))},d=function(z){return this instanceof d?(this.v=z,this):new d(z)},m=function(z,S,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=T.apply(z,S||[]),D,H=[];return D={},it("next"),it("throw"),it("return"),D[Symbol.asyncIterator]=function(){return this},D;function it(Ot){O[Ot]&&(D[Ot]=function(Oe){return new Promise(function(Er,Mr){H.push([Ot,Oe,Er,Mr])>1||pt(Ot,Oe)})})}function pt(Ot,Oe){try{yt(O[Ot](Oe))}catch(Er){oe(H[0][3],Er)}}function yt(Ot){Ot.value instanceof d?Promise.resolve(Ot.value.v).then(mt,Dt):oe(H[0][2],Ot)}function mt(Ot){pt("next",Ot)}function Dt(Ot){pt("throw",Ot)}function oe(Ot,Oe){Ot(Oe),H.shift(),H.length&&pt(H[0][0],H[0][1])}},x=function(z){var S,T;return S={},O("next"),O("throw",function(D){throw D}),O("return"),S[Symbol.iterator]=function(){return this},S;function O(D,H){S[D]=z[D]?function(it){return(T=!T)?{value:d(z[D](it)),done:D==="return"}:H?H(it):it}:H}},E=function(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=z[Symbol.asyncIterator],T;return S?S.call(z):(z=typeof f=="function"?f(z):z[Symbol.iterator](),T={},O("next"),O("throw"),O("return"),T[Symbol.asyncIterator]=function(){return this},T);function O(H){T[H]=z[H]&&function(it){return new Promise(function(pt,yt){it=z[H](it),D(pt,yt,it.done,it.value)})}}function D(H,it,pt,yt){Promise.resolve(yt).then(function(mt){H({value:mt,done:pt})},it)}},_=function(z,S){return Object.defineProperty?Object.defineProperty(z,"raw",{value:S}):z.raw=S,z};var k=Object.create?function(z,S){Object.defineProperty(z,"default",{enumerable:!0,value:S})}:function(z,S){z.default=S};M=function(z){if(z&&z.__esModule)return z;var S={};if(z!=null)for(var T in z)T!=="default"&&Object.prototype.hasOwnProperty.call(z,T)&&F(S,z,T);return k(S,z),S},A=function(z){return z&&z.__esModule?z:{default:z}},b=function(z,S,T,O){if(T==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof S=="function"?z!==S||!O:!S.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return T==="m"?O:T==="a"?O.call(z):O?O.value:S.get(z)},I=function(z,S,T,O,D){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!D)throw new TypeError("Private accessor was defined without a setter");if(typeof S=="function"?z!==S||!D:!S.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?D.call(z,T):D?D.value=T:S.set(z,T),T},L=function(z,S){if(S===null||typeof S!="object"&&typeof S!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z=="function"?S===z:z.has(S)},$("__extends",r),$("__assign",t),$("__rest",n),$("__decorate",i),$("__param",a),$("__metadata",o),$("__awaiter",s),$("__generator",u),$("__exportStar",l),$("__createBinding",F),$("__values",f),$("__read",c),$("__spread",h),$("__spreadArrays",v),$("__spreadArray",g),$("__await",d),$("__asyncGenerator",m),$("__asyncDelegator",x),$("__asyncValues",E),$("__makeTemplateObject",_),$("__importStar",M),$("__importDefault",A),$("__classPrivateFieldGet",b),$("__classPrivateFieldSet",I),$("__classPrivateFieldIn",L)})})(C);var _n=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},Vi=function(e,r){return _n(e)?e.indexOf(r)>-1:!1},Xn=function(e,r){if(!_n(e))return e;for(var t=[],n=0;n<e.length;n++){var i=e[n];r(i,n)&&t.push(i)}return t},zP=function(e,r){return r===void 0&&(r=[]),Xn(e,function(t){return!Vi(r,t)})},x8={}.toString,Fi=function(e,r){return x8.call(e)==="[object "+r+"]"},Lt=function(e){return Fi(e,"Function")},st=function(e){return e==null},vt=function(e){return Array.isArray?Array.isArray(e):Fi(e,"Array")},be=function(e){var r=typeof e;return e!==null&&r==="object"||r==="function"};function V(e,r){if(!!e){var t;if(vt(e))for(var n=0,i=e.length;n<i&&(t=r(e[n],n),t!==!1);n++);else if(be(e)){for(var a in e)if(e.hasOwnProperty(a)&&(t=r(e[a],a),t===!1))break}}}var ju=Object.keys?function(e){return Object.keys(e)}:function(e){var r=[];return V(e,function(t,n){Lt(e)&&n==="prototype"||r.push(n)}),r};function GP(e,r){var t=ju(r),n=t.length;if(st(e))return!n;for(var i=0;i<n;i+=1){var a=t[i];if(r[a]!==e[a]||!(a in e))return!1}return!0}var Rv=function(e){return typeof e=="object"&&e!==null},Ii=function(e){if(!Rv(e)||!Fi(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r};function Ji(e,r){if(!vt(e))return null;var t;if(Lt(r)&&(t=r),Ii(r)&&(t=function(i){return GP(i,r)}),t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return e[n]}return null}function w8(e,r,t){t===void 0&&(t=0);for(var n=t;n<e.length;n++)if(r(e[n],n))return n;return-1}var WP=function(e,r){for(var t=null,n=0;n<e.length;n++){var i=e[n],a=i[r];if(!st(a)){vt(a)?t=a[0]:t=a;break}}return t},En=function(e){if(!vt(e))return[];for(var r=[],t=0;t<e.length;t++)r=r.concat(e[t]);return r},YP=function(e,r){if(r===void 0&&(r=[]),!vt(e))r.push(e);else for(var t=0;t<e.length;t+=1)YP(e[t],r);return r},mn=function(e){if(!!vt(e))return e.reduce(function(r,t){return Math.max(r,t)},e[0])},Gn=function(e){if(!!vt(e))return e.reduce(function(r,t){return Math.min(r,t)},e[0])},HP=function(e){var r=e.filter(function(o){return!isNaN(o)});if(!r.length)return{min:0,max:0};if(vt(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);r=t}var i=mn(r),a=Gn(r);return{min:a,max:i}},XP=Array.prototype,_8=XP.splice,E8=XP.indexOf,M8=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n++)for(var i=r[n],a=-1;(a=E8.call(e,i))>-1;)_8.call(e,a,1);return e},C8=Array.prototype.splice,VP=function(r,t){if(!_n(r))return[];for(var n=r?t.length:0,i=n-1;n--;){var a=void 0,o=t[n];(n===i||o!==a)&&(a=o,C8.call(r,o,1))}return r},tg=function(e,r,t){if(!vt(e)&&!Ii(e))return e;var n=t;return V(e,function(i,a){n=r(n,i,a)}),n},UP=function(e,r){var t=[];if(!_n(e))return t;for(var n=-1,i=[],a=e.length;++n<a;){var o=e[n];r(o,n,e)&&(t.push(o),i.push(n))}return VP(e,i),t},Nt=function(e){return Fi(e,"String")};function S8(e,r){var t;if(Lt(r))t=function(i,a){return r(i)-r(a)};else{var n=[];Nt(r)?n.push(r):vt(r)&&(n=r),t=function(i,a){for(var o=0;o<n.length;o+=1){var s=n[o];if(i[s]>a[s])return 1;if(i[s]<a[s])return-1}return 0}}return e.sort(t),e}function eg(e,r){r===void 0&&(r=new Map);var t=[];if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var a=e[n];r.has(a)||(t.push(a),r.set(a,!0))}return t}var T8=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return eg([].concat.apply([],e))},na=function(e,r){for(var t=[],n={},i=0;i<e.length;i++){var a=e[i],o=a[r];if(!st(o)){vt(o)||(o=[o]);for(var s=0;s<o.length;s++){var u=o[s];n[u]||(t.push(u),n[u]=!0)}}}return t};function xn(e){if(_n(e))return e[0]}function vr(e){if(_n(e)){var r=e;return r[r.length-1]}}function A8(e,r){return vt(e)||Nt(e)?e[0]===r:!1}function P8(e,r){return vt(e)||Nt(e)?e[e.length-1]===r:!1}var KP=function(e,r){for(var t=0;t<e.length;t++)if(!r(e[t],t))return!1;return!0},nc=function(e,r){for(var t=0;t<e.length;t++)if(r(e[t],t))return!0;return!1},b8=Object.prototype.hasOwnProperty;function Ga(e,r){if(!r||!vt(e))return{};for(var t={},n=Lt(r)?r:function(s){return s[r]},i,a=0;a<e.length;a++){var o=e[a];i=n(o),b8.call(t,i)?t[i].push(o):t[i]=[o]}return t}function ax(e,r){if(!r)return{0:e};if(!Lt(r)){var t=vt(r)?r:r.replace(/\s+/g,"").split("*");r=function(n){for(var i="_",a=0,o=t.length;a<o;a++)i+=n[t[a]]&&n[t[a]].toString();return i}}return Ga(e,r)}var qP=function(e,r){if(!r)return[e];var t=ax(e,r),n=[];for(var i in t)n.push(t[i]);return n};function L8(e,r){return e["_wrap_"+r]}function O8(e,r){if(e["_wrap_"+r])return e["_wrap_"+r];var t=function(n){e[r](n)};return e["_wrap_"+r]=t,t}var IM={};function I8(e){var r=IM[e];if(!r){for(var t=e.toString(16),n=t.length;n<6;n++)t="0"+t;r="#"+t,IM[e]=r}return r}function D8(e){var r=0,t=0,n=0,i=0;return vt(e)?e.length===1?r=t=n=i=e[0]:e.length===2?(r=n=e[0],t=i=e[1]):e.length===3?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,{r1:r,r2:t,r3:n,r4:i}}var Ge=function(e,r,t){return e<r?r:e>t?t:e},mv=function(e,r){var t=r.toString(),n=t.indexOf(".");if(n===-1)return Math.round(e);var i=t.substr(n+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))},Zt=function(e){return Fi(e,"Number")},B8=function(e){return Zt(e)&&e%1!==0},R8=function(e){return Zt(e)&&e%2===0},F8=Number.isInteger?Number.isInteger:function(e){return Zt(e)&&e%1===0},k8=function(e){return Zt(e)&&e<0},$8=1e-5;function hr(e,r,t){return t===void 0&&(t=$8),Math.abs(e-r)<t}var N8=function(e){return Zt(e)&&e%2!==0},z8=function(e){return Zt(e)&&e>0},G8=function(e,r){if(!!vt(e)){for(var t,n=-1/0,i=0;i<e.length;i++){var a=e[i],o=Lt(r)?r(a):a[r];o>n&&(t=a,n=o)}return t}},W8=function(e,r){if(!!vt(e)){for(var t,n=1/0,i=0;i<e.length;i++){var a=e[i],o=Lt(r)?r(a):a[r];o<n&&(t=a,n=o)}return t}},rg=function(e,r){return(e%r+r)%r},Y8=180/Math.PI,H8=function(e){return Y8*e},X8=parseInt,V8=Math.PI/180,ng=function(e){return V8*e},To=function(e,r){return e.hasOwnProperty(r)},ic=Object.values?function(e){return Object.values(e)}:function(e){var r=[];return V(e,function(t,n){Lt(e)&&n==="prototype"||r.push(t)}),r},U8=function(e,r){return Vi(ic(e),r)},Os=function(e){return st(e)?"":e.toString()},Is=function(e){return Os(e).toLowerCase()},K8=function(e){var r=Os(e);return r.charAt(0).toLowerCase()+r.substring(1)};function ox(e,r){return!e||!r?e:e.replace(/\\?\{([^{}]+)\}/g,function(t,n){return t.charAt(0)==="\\"?t.slice(1):r[n]===void 0?"":r[n]})}var q8=function(e){return Os(e).toUpperCase()},Fo=function(e){var r=Os(e);return r.charAt(0).toUpperCase()+r.substring(1)},j8={}.toString,jP=function(e){return j8.call(e).replace(/^\[object /,"").replace(/]$/,"")},Z8=function(e){return Fi(e,"Arguments")},bu=function(e){return Fi(e,"Boolean")},sx=function(e){return Fi(e,"Date")},Q8=function(e){return Fi(e,"Error")};function J8(e){return Zt(e)&&isFinite(e)}var ZP=function(e){return e===null},t7=Object.prototype,QP=function(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||t7;return e===t},e7=function(e){return Fi(e,"RegExp")},fs=function(e){return e===void 0},ux=function(e){return e instanceof Element||e instanceof HTMLDocument};function JP(e){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return r(e)}function tb(e){var r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;r(e)}function V0(e,r){for(var t in r)r.hasOwnProperty(t)&&t!=="constructor"&&r[t]!==void 0&&(e[t]=r[t])}function Te(e,r,t,n){return r&&V0(e,r),t&&V0(e,t),n&&V0(e,n),e}var r7=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=e[0],n=1;n<e.length;n++){var i=e[n];Lt(i)&&(i=i.prototype),Te(t.prototype,i)}},dn=function(e){if(typeof e!="object"||e===null)return e;var r;if(vt(e)){r=[];for(var t=0,n=e.length;t<n;t++)typeof e[t]=="object"&&e[t]!=null?r[t]=dn(e[t]):r[t]=e[t]}else{r={};for(var i in e)typeof e[i]=="object"&&e[i]!=null?r[i]=dn(e[i]):r[i]=e[i]}return r};function lx(e,r,t){var n;return function(){var i=this,a=arguments,o=function(){n=null,t||e.apply(i,a)},s=t&&!n;clearTimeout(n),n=setTimeout(o,r),s&&e.apply(i,a)}}var ac=function(e,r){if(!Lt(e))throw new TypeError("Expected a function");var t=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=r?r.apply(this,n):n[0],o=t.cache;if(o.has(a))return o.get(a);var s=e.apply(this,n);return o.set(a,s),s};return t.cache=new Map,t},n7=5;function eb(e,r,t,n){t=t||0,n=n||n7;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a!==null&&Ii(a)?(Ii(e[i])||(e[i]={}),t<n?eb(e[i],a,t+1,n):e[i]=r[i]):vt(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var Et=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)eb(e,r[n]);return e},i7=function(e,r,t,n){Lt(r)||(t=r,r=e,e=function(){});var i=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function u(){}u.prototype=o;var l=new u;return l.constructor=s,l},a=i(r.prototype,e);return e.prototype=Te(a,e.prototype),e.superclass=i(r.prototype,r),Te(a,t),Te(e,n),e},fx=function(e,r){if(!_n(e))return-1;var t=Array.prototype.indexOf;if(t)return t.call(e,r);for(var n=-1,i=0;i<e.length;i++)if(e[i]===r){n=i;break}return n},a7=Object.prototype.hasOwnProperty;function Di(e){if(st(e))return!0;if(_n(e))return!e.length;var r=jP(e);if(r==="Map"||r==="Set")return!e.size;if(QP(e))return!Object.keys(e).length;for(var t in e)if(a7.call(e,t))return!1;return!0}var er=function(e,r){if(e===r)return!0;if(!e||!r||Nt(e)||Nt(r))return!1;if(_n(e)||_n(r)){if(e.length!==r.length)return!1;for(var t=!0,n=0;n<e.length&&(t=er(e[n],r[n]),!!t);n++);return t}if(Rv(e)||Rv(r)){var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return!1;for(var t=!0,n=0;n<i.length&&(t=er(e[i[n]],r[i[n]]),!!t);n++);return t}return!1},o7=function(e,r,t){return Lt(t)?!!t(e,r):er(e,r)},Nr=function(e,r){if(!_n(e))return e;for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(r(i,n))}return t},s7=function(e){return e},rb=function(e,r){r===void 0&&(r=s7);var t={};return be(e)&&!st(e)&&Object.keys(e).forEach(function(n){t[n]=r(e[n],n)}),t},j=function(e,r,t){for(var n=0,i=Nt(r)?r.split("."):r;e&&n<i.length;)e=e[i[n++]];return e===void 0||n<i.length?t:e},ir=function(e,r,t){var n=e,i=Nt(r)?r.split("."):r;return i.forEach(function(a,o){o<i.length-1?(be(n[a])||(n[a]=Zt(i[o+1])?[]:{}),n=n[a]):n[a]=t}),e},u7=Object.prototype.hasOwnProperty,ig=function(e,r){if(e===null||!Ii(e))return{};var t={};return V(r,function(n){u7.call(e,n)&&(t[n]=e[n])}),t},l7=function(e,r){return tg(e,function(t,n,i){return r.includes(i)||(t[i]=n),t},{})},ag=function(e,r,t){var n,i,a,o,s=0;t||(t={});var u=function(){s=t.leading===!1?0:Date.now(),n=null,o=e.apply(i,a),n||(i=a=null)},l=function(){var f=Date.now();!s&&t.leading===!1&&(s=f);var c=r-(f-s);return i=this,a=arguments,c<=0||c>r?(n&&(clearTimeout(n),n=null),s=f,o=e.apply(i,a),n||(i=a=null)):!n&&t.trailing!==!1&&(n=setTimeout(u,c)),o};return l.cancel=function(){clearTimeout(n),s=0,n=i=a=null},l},nb=function(e){return _n(e)?Array.prototype.slice.call(e):[]},vh={},Wa=function(e){return e=e||"g",vh[e]?vh[e]+=1:vh[e]=1,e+vh[e]},Ta=function(){},f7=function(e){return e};function Zr(e){return st(e)?0:_n(e)?e.length:Object.keys(e).length}var ph,Vl=ac(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return ph||(ph=document.createElement("canvas").getContext("2d")),ph.font=[a,o,i,t+"px",n].join(" "),ph.measureText(Nt(e)?e:"").width},function(e,r){return r===void 0&&(r={}),C.exports.__spreadArrays([e],ic(r)).join("")}),ib=function(e,r,t,n){n===void 0&&(n="...");var i=16,a=Vl(n,t),o=Nt(e)?e:Os(e),s=r,u=[],l,f;if(Vl(e,t)<=r)return e;for(;l=o.substr(0,i),f=Vl(l,t),!(f+a>s&&f>s);)if(u.push(l),s-=f,o=o.substr(i),!o)return u.join("");for(;l=o.substr(0,1),f=Vl(l,t),!(f+a>s);)if(u.push(l),s-=f,o=o.substr(1),!o)return u.join("");return""+u.join("")+n},ab=function(){function e(){this.map={}}return e.prototype.has=function(r){return this.map[r]!==void 0},e.prototype.get=function(r,t){var n=this.map[r];return n===void 0?t:n},e.prototype.set=function(r,t){this.map[r]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(r){delete this.map[r]},e.prototype.size=function(){return Object.keys(this.map).length},e}(),c7=Object.freeze(Object.defineProperty({__proto__:null,contains:Vi,includes:Vi,difference:zP,find:Ji,findIndex:w8,firstValue:WP,flatten:En,flattenDeep:YP,getRange:HP,pull:M8,pullAt:VP,reduce:tg,remove:UP,sortBy:S8,union:T8,uniq:eg,valuesOfKey:na,head:xn,last:vr,startsWith:A8,endsWith:P8,filter:Xn,every:KP,some:nc,group:qP,groupBy:Ga,groupToMap:ax,getWrapBehavior:L8,wrapBehavior:O8,number2color:I8,parseRadius:D8,clamp:Ge,fixedBase:mv,isDecimal:B8,isEven:R8,isInteger:F8,isNegative:k8,isNumberEqual:hr,isOdd:N8,isPositive:z8,max:mn,maxBy:G8,min:Gn,minBy:W8,mod:rg,toDegree:H8,toInteger:X8,toRadian:ng,forIn:V,has:To,hasKey:To,hasValue:U8,keys:ju,isMatch:GP,values:ic,lowerCase:Is,lowerFirst:K8,substitute:ox,upperCase:q8,upperFirst:Fo,getType:jP,isArguments:Z8,isArray:vt,isArrayLike:_n,isBoolean:bu,isDate:sx,isError:Q8,isFunction:Lt,isFinite:J8,isNil:st,isNull:ZP,isNumber:Zt,isObject:be,isObjectLike:Rv,isPlainObject:Ii,isPrototype:QP,isRegExp:e7,isString:Nt,isType:Fi,isUndefined:fs,isElement:ux,requestAnimationFrame:JP,clearAnimationFrame:tb,augment:r7,clone:dn,debounce:lx,memoize:ac,deepMix:Et,each:V,extend:i7,indexOf:fx,isEmpty:Di,isEqual:er,isEqualWith:o7,map:Nr,mapValues:rb,mix:Te,assign:Te,get:j,set:ir,pick:ig,omit:l7,throttle:ag,toArray:nb,toString:Os,uniqueId:Wa,noop:Ta,identity:f7,size:Zr,measureTextWidth:Vl,getEllipsisText:ib,Cache:ab},Symbol.toStringTag,{value:"Module"})),Ht=oa(c7);function ko(){return new Fv}function Fv(){this.reset()}Fv.prototype={constructor:Fv,reset:function(){this.s=this.t=0},add:function(e){DM(gh,e,this.t),DM(this,gh.s,this.s),this.s?this.t+=gh.t:this.s=gh.t},valueOf:function(){return this.s}};var gh=new Fv;function DM(e,r,t){var n=e.s=r+t,i=n-r,a=n-i;e.t=r-a+(t-i)}var Rt=1e-6,BM=1e-12,ce=Math.PI,ur=ce/2,kv=ce/4,Mn=ce*2,We=180/ce,$t=ce/180,Me=Math.abs,Zu=Math.atan,Jr=Math.atan2,It=Math.cos,dh=Math.ceil,ob=Math.exp,$v=Math.log,U0=Math.pow,Pt=Math.sin,bf=Math.sign||function(e){return e>0?1:e<0?-1:0},gr=Math.sqrt,cx=Math.tan;function sb(e){return e>1?0:e<-1?ce:Math.acos(e)}function Hn(e){return e>1?ur:e<-1?-ur:Math.asin(e)}function RM(e){return(e=Pt(e/2))*e}function Ue(){}function Nv(e,r){e&&kM.hasOwnProperty(e.type)&&kM[e.type](e,r)}var FM={Feature:function(e,r){Nv(e.geometry,r)},FeatureCollection:function(e,r){for(var t=e.features,n=-1,i=t.length;++n<i;)Nv(t[n].geometry,r)}},kM={Sphere:function(e,r){r.sphere()},Point:function(e,r){e=e.coordinates,r.point(e[0],e[1],e[2])},MultiPoint:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)e=t[n],r.point(e[0],e[1],e[2])},LineString:function(e,r){_1(e.coordinates,r,0)},MultiLineString:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)_1(t[n],r,0)},Polygon:function(e,r){$M(e.coordinates,r)},MultiPolygon:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)$M(t[n],r)},GeometryCollection:function(e,r){for(var t=e.geometries,n=-1,i=t.length;++n<i;)Nv(t[n],r)}};function _1(e,r,t){var n=-1,i=e.length-t,a;for(r.lineStart();++n<i;)a=e[n],r.point(a[0],a[1],a[2]);r.lineEnd()}function $M(e,r){var t=-1,n=e.length;for(r.polygonStart();++t<n;)_1(e[t],r,1);r.polygonEnd()}function yn(e,r){e&&FM.hasOwnProperty(e.type)?FM[e.type](e,r):Nv(e,r)}var zv=ko(),Gv=ko(),ub,lb,E1,M1,C1,ia={point:Ue,lineStart:Ue,lineEnd:Ue,polygonStart:function(){zv.reset(),ia.lineStart=h7,ia.lineEnd=v7},polygonEnd:function(){var e=+zv;Gv.add(e<0?Mn+e:e),this.lineStart=this.lineEnd=this.point=Ue},sphere:function(){Gv.add(Mn)}};function h7(){ia.point=p7}function v7(){fb(ub,lb)}function p7(e,r){ia.point=fb,ub=e,lb=r,e*=$t,r*=$t,E1=e,M1=It(r=r/2+kv),C1=Pt(r)}function fb(e,r){e*=$t,r*=$t,r=r/2+kv;var t=e-E1,n=t>=0?1:-1,i=n*t,a=It(r),o=Pt(r),s=C1*o,u=M1*a+s*It(i),l=s*n*Pt(i);zv.add(Jr(l,u)),E1=e,M1=a,C1=o}function g7(e){return Gv.reset(),yn(e,ia),Gv*2}function Wv(e){return[Jr(e[1],e[0]),Hn(e[2])]}function Es(e){var r=e[0],t=e[1],n=It(t);return[n*It(r),n*Pt(r),Pt(t)]}function yh(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function Lu(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function K0(e,r){e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]}function mh(e,r){return[e[0]*r,e[1]*r,e[2]*r]}function Yv(e){var r=gr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=r,e[1]/=r,e[2]/=r}var Qe,Nn,ar,si,ns,cb,hb,xu,df=ko(),lo,Ia,Ma={point:S1,lineStart:NM,lineEnd:zM,polygonStart:function(){Ma.point=pb,Ma.lineStart=d7,Ma.lineEnd=y7,df.reset(),ia.polygonStart()},polygonEnd:function(){ia.polygonEnd(),Ma.point=S1,Ma.lineStart=NM,Ma.lineEnd=zM,zv<0?(Qe=-(ar=180),Nn=-(si=90)):df>Rt?si=90:df<-Rt&&(Nn=-90),Ia[0]=Qe,Ia[1]=ar}};function S1(e,r){lo.push(Ia=[Qe=e,ar=e]),r<Nn&&(Nn=r),r>si&&(si=r)}function vb(e,r){var t=Es([e*$t,r*$t]);if(xu){var n=Lu(xu,t),i=[n[1],-n[0],0],a=Lu(i,n);Yv(a),a=Wv(a);var o=e-ns,s=o>0?1:-1,u=a[0]*We*s,l,f=Me(o)>180;f^(s*ns<u&&u<s*e)?(l=a[1]*We,l>si&&(si=l)):(u=(u+360)%360-180,f^(s*ns<u&&u<s*e)?(l=-a[1]*We,l<Nn&&(Nn=l)):(r<Nn&&(Nn=r),r>si&&(si=r))),f?e<ns?kn(Qe,e)>kn(Qe,ar)&&(ar=e):kn(e,ar)>kn(Qe,ar)&&(Qe=e):ar>=Qe?(e<Qe&&(Qe=e),e>ar&&(ar=e)):e>ns?kn(Qe,e)>kn(Qe,ar)&&(ar=e):kn(e,ar)>kn(Qe,ar)&&(Qe=e)}else lo.push(Ia=[Qe=e,ar=e]);r<Nn&&(Nn=r),r>si&&(si=r),xu=t,ns=e}function NM(){Ma.point=vb}function zM(){Ia[0]=Qe,Ia[1]=ar,Ma.point=S1,xu=null}function pb(e,r){if(xu){var t=e-ns;df.add(Me(t)>180?t+(t>0?360:-360):t)}else cb=e,hb=r;ia.point(e,r),vb(e,r)}function d7(){ia.lineStart()}function y7(){pb(cb,hb),ia.lineEnd(),Me(df)>Rt&&(Qe=-(ar=180)),Ia[0]=Qe,Ia[1]=ar,xu=null}function kn(e,r){return(r-=e)<0?r+360:r}function m7(e,r){return e[0]-r[0]}function GM(e,r){return e[0]<=e[1]?e[0]<=r&&r<=e[1]:r<e[0]||e[1]<r}function gb(e){var r,t,n,i,a,o,s;if(si=ar=-(Qe=Nn=1/0),lo=[],yn(e,Ma),t=lo.length){for(lo.sort(m7),r=1,n=lo[0],a=[n];r<t;++r)i=lo[r],GM(n,i[0])||GM(n,i[1])?(kn(n[0],i[1])>kn(n[0],n[1])&&(n[1]=i[1]),kn(i[0],n[1])>kn(n[0],n[1])&&(n[0]=i[0])):a.push(n=i);for(o=-1/0,t=a.length-1,r=0,n=a[t];r<=t;n=i,++r)i=a[r],(s=kn(n[1],i[0]))>o&&(o=s,Qe=i[0],ar=n[1])}return lo=Ia=null,Qe===1/0||Nn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qe,Nn],[ar,si]]}var Ul,Hv,Xv,Vv,Uv,Kv,qv,jv,T1,A1,P1,db,yb,Ur,Kr,qr,Li={sphere:Ue,point:hx,lineStart:WM,lineEnd:YM,polygonStart:function(){Li.lineStart=_7,Li.lineEnd=E7},polygonEnd:function(){Li.lineStart=WM,Li.lineEnd=YM}};function hx(e,r){e*=$t,r*=$t;var t=It(r);oc(t*It(e),t*Pt(e),Pt(r))}function oc(e,r,t){++Ul,Xv+=(e-Xv)/Ul,Vv+=(r-Vv)/Ul,Uv+=(t-Uv)/Ul}function WM(){Li.point=x7}function x7(e,r){e*=$t,r*=$t;var t=It(r);Ur=t*It(e),Kr=t*Pt(e),qr=Pt(r),Li.point=w7,oc(Ur,Kr,qr)}function w7(e,r){e*=$t,r*=$t;var t=It(r),n=t*It(e),i=t*Pt(e),a=Pt(r),o=Jr(gr((o=Kr*a-qr*i)*o+(o=qr*n-Ur*a)*o+(o=Ur*i-Kr*n)*o),Ur*n+Kr*i+qr*a);Hv+=o,Kv+=o*(Ur+(Ur=n)),qv+=o*(Kr+(Kr=i)),jv+=o*(qr+(qr=a)),oc(Ur,Kr,qr)}function YM(){Li.point=hx}function _7(){Li.point=M7}function E7(){mb(db,yb),Li.point=hx}function M7(e,r){db=e,yb=r,e*=$t,r*=$t,Li.point=mb;var t=It(r);Ur=t*It(e),Kr=t*Pt(e),qr=Pt(r),oc(Ur,Kr,qr)}function mb(e,r){e*=$t,r*=$t;var t=It(r),n=t*It(e),i=t*Pt(e),a=Pt(r),o=Kr*a-qr*i,s=qr*n-Ur*a,u=Ur*i-Kr*n,l=gr(o*o+s*s+u*u),f=Hn(l),c=l&&-f/l;T1+=c*o,A1+=c*s,P1+=c*u,Hv+=f,Kv+=f*(Ur+(Ur=n)),qv+=f*(Kr+(Kr=i)),jv+=f*(qr+(qr=a)),oc(Ur,Kr,qr)}function Qu(e){Ul=Hv=Xv=Vv=Uv=Kv=qv=jv=T1=A1=P1=0,yn(e,Li);var r=T1,t=A1,n=P1,i=r*r+t*t+n*n;return i<BM&&(r=Kv,t=qv,n=jv,Hv<Rt&&(r=Xv,t=Vv,n=Uv),i=r*r+t*t+n*n,i<BM)?[NaN,NaN]:[Jr(t,r)*We,Hn(n/gr(i))*We]}function tu(e){return function(){return e}}function xb(e,r){function t(n,i){return n=e(n,i),r(n[0],n[1])}return e.invert&&r.invert&&(t.invert=function(n,i){return n=r.invert(n,i),n&&e.invert(n[0],n[1])}),t}function b1(e,r){return[e>ce?e-Mn:e<-ce?e+Mn:e,r]}b1.invert=b1;function vx(e,r,t){return(e%=Mn)?r||t?xb(XM(e),VM(r,t)):XM(e):r||t?VM(r,t):b1}function HM(e){return function(r,t){return r+=e,[r>ce?r-Mn:r<-ce?r+Mn:r,t]}}function XM(e){var r=HM(e);return r.invert=HM(-e),r}function VM(e,r){var t=It(e),n=Pt(e),i=It(r),a=Pt(r);function o(s,u){var l=It(u),f=It(s)*l,c=Pt(s)*l,h=Pt(u),v=h*t+f*n;return[Jr(c*i-v*a,f*t-h*n),Hn(v*i+c*a)]}return o.invert=function(s,u){var l=It(u),f=It(s)*l,c=Pt(s)*l,h=Pt(u),v=h*i-c*a;return[Jr(c*i+h*a,f*t+v*n),Hn(v*t-f*n)]},o}function Ou(e){e=vx(e[0]*$t,e[1]*$t,e.length>2?e[2]*$t:0);function r(t){return t=e(t[0]*$t,t[1]*$t),t[0]*=We,t[1]*=We,t}return r.invert=function(t){return t=e.invert(t[0]*$t,t[1]*$t),t[0]*=We,t[1]*=We,t},r}function wb(e,r,t,n,i,a){if(!!t){var o=It(r),s=Pt(r),u=n*t;i==null?(i=r+n*Mn,a=r-u/2):(i=UM(o,i),a=UM(o,a),(n>0?i<a:i>a)&&(i+=n*Mn));for(var l,f=i;n>0?f>a:f<a;f-=u)l=Wv([o,-s*It(f),-s*Pt(f)]),e.point(l[0],l[1])}}function UM(e,r){r=Es(r),r[0]-=e,Yv(r);var t=sb(-r[1]);return((-r[2]<0?-t:t)+Mn-Rt)%Mn}function _b(){var e=tu([0,0]),r=tu(90),t=tu(6),n,i,a={point:o};function o(u,l){n.push(u=i(u,l)),u[0]*=We,u[1]*=We}function s(){var u=e.apply(this,arguments),l=r.apply(this,arguments)*$t,f=t.apply(this,arguments)*$t;return n=[],i=vx(-u[0]*$t,-u[1]*$t,0).invert,wb(a,l,f,1),u={type:"Polygon",coordinates:[n]},n=i=null,u}return s.center=function(u){return arguments.length?(e=typeof u=="function"?u:tu([+u[0],+u[1]]),s):e},s.radius=function(u){return arguments.length?(r=typeof u=="function"?u:tu(+u),s):r},s.precision=function(u){return arguments.length?(t=typeof u=="function"?u:tu(+u),s):t},s}function Eb(){var e=[],r;return{point:function(t,n){r.push([t,n])},lineStart:function(){e.push(r=[])},lineEnd:Ue,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],r=null,t}}}function C7(e,r,t,n,i,a){var o=e[0],s=e[1],u=r[0],l=r[1],f=0,c=1,h=u-o,v=l-s,g;if(g=t-o,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<c&&(c=g)}else if(h>0){if(g>c)return;g>f&&(f=g)}if(g=i-o,!(!h&&g<0)){if(g/=h,h<0){if(g>c)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<c&&(c=g)}if(g=n-s,!(!v&&g>0)){if(g/=v,v<0){if(g<f)return;g<c&&(c=g)}else if(v>0){if(g>c)return;g>f&&(f=g)}if(g=a-s,!(!v&&g<0)){if(g/=v,v<0){if(g>c)return;g>f&&(f=g)}else if(v>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=o+f*h,e[1]=s+f*v),c<1&&(r[0]=o+c*h,r[1]=s+c*v),!0}}}}}function xv(e,r){return Me(e[0]-r[0])<Rt&&Me(e[1]-r[1])<Rt}function xh(e,r,t,n){this.x=e,this.z=r,this.o=t,this.e=n,this.v=!1,this.n=this.p=null}function Mb(e,r,t,n,i){var a=[],o=[],s,u;if(e.forEach(function(g){if(!((d=g.length-1)<=0)){var d,m=g[0],x=g[d],E;if(xv(m,x)){for(i.lineStart(),s=0;s<d;++s)i.point((m=g[s])[0],m[1]);i.lineEnd();return}a.push(E=new xh(m,g,null,!0)),o.push(E.o=new xh(m,null,E,!1)),a.push(E=new xh(x,g,null,!1)),o.push(E.o=new xh(x,null,E,!0))}}),!!a.length){for(o.sort(r),KM(a),KM(o),s=0,u=o.length;s<u;++s)o[s].e=t=!t;for(var l=a[0],f,c;;){for(var h=l,v=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(v)for(s=0,u=f.length;s<u;++s)i.point((c=f[s])[0],c[1]);else n(h.x,h.n.x,1,i);h=h.n}else{if(v)for(f=h.p.z,s=f.length-1;s>=0;--s)i.point((c=f[s])[0],c[1]);else n(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,v=!v}while(!h.v);i.lineEnd()}}}function KM(e){if(!!(r=e.length)){for(var r,t=0,n=e[0],i;++t<r;)n.n=i=e[t],i.p=n,n=i;n.n=i=e[0],i.p=n}}function px(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function S7(e){return e.length===1&&(e=T7(e)),{left:function(r,t,n,i){for(n==null&&(n=0),i==null&&(i=r.length);n<i;){var a=n+i>>>1;e(r[a],t)<0?n=a+1:i=a}return n},right:function(r,t,n,i){for(n==null&&(n=0),i==null&&(i=r.length);n<i;){var a=n+i>>>1;e(r[a],t)>0?i=a:n=a+1}return n}}}function T7(e){return function(r,t){return px(e(r),t)}}S7(px);function go(e,r,t){e=+e,r=+r,t=(i=arguments.length)<2?(r=e,e=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((r-e)/t))|0,a=new Array(i);++n<i;)a[n]=e+n*t;return a}function Ao(e,r){var t=e.length,n=-1,i,a;if(r==null){for(;++n<t;)if((i=e[n])!=null&&i>=i)for(a=i;++n<t;)(i=e[n])!=null&&i>a&&(a=i)}else for(;++n<t;)if((i=r(e[n],n,e))!=null&&i>=i)for(a=i;++n<t;)(i=r(e[n],n,e))!=null&&i>a&&(a=i);return a}function gx(e){for(var r=e.length,t,n=-1,i=0,a,o;++n<r;)i+=e[n].length;for(a=new Array(i);--r>=0;)for(o=e[r],t=o.length;--t>=0;)a[--i]=o[t];return a}function zr(e,r){var t=e.length,n=-1,i,a;if(r==null){for(;++n<t;)if((i=e[n])!=null&&i>=i)for(a=i;++n<t;)(i=e[n])!=null&&a>i&&(a=i)}else for(;++n<t;)if((i=r(e[n],n,e))!=null&&i>=i)for(a=i;++n<t;)(i=r(e[n],n,e))!=null&&a>i&&(a=i);return a}function q0(e,r){var t=e.length,n=-1,i,a=0;if(r==null)for(;++n<t;)(i=+e[n])&&(a+=i);else for(;++n<t;)(i=+r(e[n],n,e))&&(a+=i);return a}var Kl=1e9,wh=-Kl;function dx(e,r,t,n){function i(l,f){return e<=l&&l<=t&&r<=f&&f<=n}function a(l,f,c,h){var v=0,g=0;if(l==null||(v=o(l,c))!==(g=o(f,c))||u(l,f)<0^c>0)do h.point(v===0||v===3?e:t,v>1?n:r);while((v=(v+c+4)%4)!==g);else h.point(f[0],f[1])}function o(l,f){return Me(l[0]-e)<Rt?f>0?0:3:Me(l[0]-t)<Rt?f>0?2:1:Me(l[1]-r)<Rt?f>0?1:0:f>0?3:2}function s(l,f){return u(l.x,f.x)}function u(l,f){var c=o(l,1),h=o(f,1);return c!==h?c-h:c===0?f[1]-l[1]:c===1?l[0]-f[0]:c===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,c=Eb(),h,v,g,d,m,x,E,_,M,A,b,I={point:L,lineStart:k,lineEnd:z,polygonStart:$,polygonEnd:Y};function L(T,O){i(T,O)&&f.point(T,O)}function F(){for(var T=0,O=0,D=v.length;O<D;++O)for(var H=v[O],it=1,pt=H.length,yt=H[0],mt,Dt,oe=yt[0],Ot=yt[1];it<pt;++it)mt=oe,Dt=Ot,yt=H[it],oe=yt[0],Ot=yt[1],Dt<=n?Ot>n&&(oe-mt)*(n-Dt)>(Ot-Dt)*(e-mt)&&++T:Ot<=n&&(oe-mt)*(n-Dt)<(Ot-Dt)*(e-mt)&&--T;return T}function $(){f=c,h=[],v=[],b=!0}function Y(){var T=F(),O=b&&T,D=(h=gx(h)).length;(O||D)&&(l.polygonStart(),O&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),D&&Mb(h,s,T,a,l),l.polygonEnd()),f=l,h=v=g=null}function k(){I.point=S,v&&v.push(g=[]),A=!0,M=!1,E=_=NaN}function z(){h&&(S(d,m),x&&M&&c.rejoin(),h.push(c.result())),I.point=L,M&&f.lineEnd()}function S(T,O){var D=i(T,O);if(v&&g.push([T,O]),A)d=T,m=O,x=D,A=!1,D&&(f.lineStart(),f.point(T,O));else if(D&&M)f.point(T,O);else{var H=[E=Math.max(wh,Math.min(Kl,E)),_=Math.max(wh,Math.min(Kl,_))],it=[T=Math.max(wh,Math.min(Kl,T)),O=Math.max(wh,Math.min(Kl,O))];C7(H,it,e,r,t,n)?(M||(f.lineStart(),f.point(H[0],H[1])),f.point(it[0],it[1]),D||f.lineEnd(),b=!1):D&&(f.lineStart(),f.point(T,O),b=!1)}E=T,_=O,M=D}return I}}function A7(){var e=0,r=0,t=960,n=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=dx(e,r,t,n)(a=s)},extent:function(s){return arguments.length?(e=+s[0][0],r=+s[0][1],t=+s[1][0],n=+s[1][1],i=a=null,o):[[e,r],[t,n]]}}}var j0=ko();function Cb(e,r){var t=r[0],n=r[1],i=[Pt(t),-It(t),0],a=0,o=0;j0.reset();for(var s=0,u=e.length;s<u;++s)if(!!(f=(l=e[s]).length))for(var l,f,c=l[f-1],h=c[0],v=c[1]/2+kv,g=Pt(v),d=It(v),m=0;m<f;++m,h=E,g=M,d=A,c=x){var x=l[m],E=x[0],_=x[1]/2+kv,M=Pt(_),A=It(_),b=E-h,I=b>=0?1:-1,L=I*b,F=L>ce,$=g*M;if(j0.add(Jr($*I*Pt(L),d*A+$*It(L))),a+=F?b+I*Mn:b,F^h>=t^E>=t){var Y=Lu(Es(c),Es(x));Yv(Y);var k=Lu(i,Y);Yv(k);var z=(F^b>=0?-1:1)*Hn(k[2]);(n>z||n===z&&(Y[0]||Y[1]))&&(o+=F^b>=0?1:-1)}}return(a<-Rt||a<Rt&&j0<-Rt)^o&1}var L1=ko(),O1,wv,_v,Iu={sphere:Ue,point:Ue,lineStart:P7,lineEnd:Ue,polygonStart:Ue,polygonEnd:Ue};function P7(){Iu.point=L7,Iu.lineEnd=b7}function b7(){Iu.point=Iu.lineEnd=Ue}function L7(e,r){e*=$t,r*=$t,O1=e,wv=Pt(r),_v=It(r),Iu.point=O7}function O7(e,r){e*=$t,r*=$t;var t=Pt(r),n=It(r),i=Me(e-O1),a=It(i),o=Pt(i),s=n*o,u=_v*t-wv*n*a,l=wv*t+_v*n*a;L1.add(Jr(gr(s*s+u*u),l)),O1=e,wv=t,_v=n}function Sb(e){return L1.reset(),yn(e,Iu),+L1}var I1=[null,null],I7={type:"LineString",coordinates:I1};function yf(e,r){return I1[0]=e,I1[1]=r,Sb(I7)}var qM={Feature:function(e,r){return Zv(e.geometry,r)},FeatureCollection:function(e,r){for(var t=e.features,n=-1,i=t.length;++n<i;)if(Zv(t[n].geometry,r))return!0;return!1}},jM={Sphere:function(){return!0},Point:function(e,r){return ZM(e.coordinates,r)},MultiPoint:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)if(ZM(t[n],r))return!0;return!1},LineString:function(e,r){return QM(e.coordinates,r)},MultiLineString:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)if(QM(t[n],r))return!0;return!1},Polygon:function(e,r){return JM(e.coordinates,r)},MultiPolygon:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)if(JM(t[n],r))return!0;return!1},GeometryCollection:function(e,r){for(var t=e.geometries,n=-1,i=t.length;++n<i;)if(Zv(t[n],r))return!0;return!1}};function Zv(e,r){return e&&jM.hasOwnProperty(e.type)?jM[e.type](e,r):!1}function ZM(e,r){return yf(e,r)===0}function QM(e,r){var t=yf(e[0],e[1]),n=yf(e[0],r),i=yf(r,e[1]);return n+i<=t+Rt}function JM(e,r){return!!Cb(e.map(D7),Tb(r))}function D7(e){return e=e.map(Tb),e.pop(),e}function Tb(e){return[e[0]*$t,e[1]*$t]}function B7(e,r){return(e&&qM.hasOwnProperty(e.type)?qM[e.type]:Zv)(e,r)}function tC(e,r,t){var n=go(e,r-Rt,t).concat(r);return function(i){return n.map(function(a){return[i,a]})}}function eC(e,r,t){var n=go(e,r-Rt,t).concat(r);return function(i){return n.map(function(a){return[a,i]})}}function Ab(){var e,r,t,n,i,a,o,s,u=10,l=u,f=90,c=360,h,v,g,d,m=2.5;function x(){return{type:"MultiLineString",coordinates:E()}}function E(){return go(dh(n/f)*f,t,f).map(g).concat(go(dh(s/c)*c,o,c).map(d)).concat(go(dh(r/u)*u,e,u).filter(function(_){return Me(_%f)>Rt}).map(h)).concat(go(dh(a/l)*l,i,l).filter(function(_){return Me(_%c)>Rt}).map(v))}return x.lines=function(){return E().map(function(_){return{type:"LineString",coordinates:_}})},x.outline=function(){return{type:"Polygon",coordinates:[g(n).concat(d(o).slice(1),g(t).reverse().slice(1),d(s).reverse().slice(1))]}},x.extent=function(_){return arguments.length?x.extentMajor(_).extentMinor(_):x.extentMinor()},x.extentMajor=function(_){return arguments.length?(n=+_[0][0],t=+_[1][0],s=+_[0][1],o=+_[1][1],n>t&&(_=n,n=t,t=_),s>o&&(_=s,s=o,o=_),x.precision(m)):[[n,s],[t,o]]},x.extentMinor=function(_){return arguments.length?(r=+_[0][0],e=+_[1][0],a=+_[0][1],i=+_[1][1],r>e&&(_=r,r=e,e=_),a>i&&(_=a,a=i,i=_),x.precision(m)):[[r,a],[e,i]]},x.step=function(_){return arguments.length?x.stepMajor(_).stepMinor(_):x.stepMinor()},x.stepMajor=function(_){return arguments.length?(f=+_[0],c=+_[1],x):[f,c]},x.stepMinor=function(_){return arguments.length?(u=+_[0],l=+_[1],x):[u,l]},x.precision=function(_){return arguments.length?(m=+_,h=tC(a,i,90),v=eC(r,e,m),g=tC(s,o,90),d=eC(n,t,m),x):m},x.extentMajor([[-180,-90+Rt],[180,90-Rt]]).extentMinor([[-180,-80-Rt],[180,80+Rt]])}function R7(){return Ab()()}function Qv(e,r){var t=e[0]*$t,n=e[1]*$t,i=r[0]*$t,a=r[1]*$t,o=It(n),s=Pt(n),u=It(a),l=Pt(a),f=o*It(t),c=o*Pt(t),h=u*It(i),v=u*Pt(i),g=2*Hn(gr(RM(a-n)+o*u*RM(i-t))),d=Pt(g),m=g?function(x){var E=Pt(x*=g)/d,_=Pt(g-x)/d,M=_*f+E*h,A=_*c+E*v,b=_*s+E*l;return[Jr(A,M)*We,Jr(b,gr(M*M+A*A))*We]}:function(){return[t*We,n*We]};return m.distance=g,m}function gs(e){return e}var Z0=ko(),D1=ko(),Pb,bb,B1,R1,Sa={point:Ue,lineStart:Ue,lineEnd:Ue,polygonStart:function(){Sa.lineStart=F7,Sa.lineEnd=$7},polygonEnd:function(){Sa.lineStart=Sa.lineEnd=Sa.point=Ue,Z0.add(Me(D1)),D1.reset()},result:function(){var e=Z0/2;return Z0.reset(),e}};function F7(){Sa.point=k7}function k7(e,r){Sa.point=Lb,Pb=B1=e,bb=R1=r}function Lb(e,r){D1.add(R1*e-B1*r),B1=e,R1=r}function $7(){Lb(Pb,bb)}var Du=1/0,Jv=Du,Lf=-Du,tp=Lf,ep={point:N7,lineStart:Ue,lineEnd:Ue,polygonStart:Ue,polygonEnd:Ue,result:function(){var e=[[Du,Jv],[Lf,tp]];return Lf=tp=-(Jv=Du=1/0),e}};function N7(e,r){e<Du&&(Du=e),e>Lf&&(Lf=e),r<Jv&&(Jv=r),r>tp&&(tp=r)}var F1=0,k1=0,ql=0,rp=0,np=0,fu=0,$1=0,N1=0,jl=0,Ob,Ib,Ui,Ki,li={point:Ms,lineStart:rC,lineEnd:nC,polygonStart:function(){li.lineStart=W7,li.lineEnd=Y7},polygonEnd:function(){li.point=Ms,li.lineStart=rC,li.lineEnd=nC},result:function(){var e=jl?[$1/jl,N1/jl]:fu?[rp/fu,np/fu]:ql?[F1/ql,k1/ql]:[NaN,NaN];return F1=k1=ql=rp=np=fu=$1=N1=jl=0,e}};function Ms(e,r){F1+=e,k1+=r,++ql}function rC(){li.point=z7}function z7(e,r){li.point=G7,Ms(Ui=e,Ki=r)}function G7(e,r){var t=e-Ui,n=r-Ki,i=gr(t*t+n*n);rp+=i*(Ui+e)/2,np+=i*(Ki+r)/2,fu+=i,Ms(Ui=e,Ki=r)}function nC(){li.point=Ms}function W7(){li.point=H7}function Y7(){Db(Ob,Ib)}function H7(e,r){li.point=Db,Ms(Ob=Ui=e,Ib=Ki=r)}function Db(e,r){var t=e-Ui,n=r-Ki,i=gr(t*t+n*n);rp+=i*(Ui+e)/2,np+=i*(Ki+r)/2,fu+=i,i=Ki*e-Ui*r,$1+=i*(Ui+e),N1+=i*(Ki+r),jl+=i*3,Ms(Ui=e,Ki=r)}function Bb(e){this._context=e}Bb.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,r){switch(this._point){case 0:{this._context.moveTo(e,r),this._point=1;break}case 1:{this._context.lineTo(e,r);break}default:{this._context.moveTo(e+this._radius,r),this._context.arc(e,r,this._radius,0,Mn);break}}},result:Ue};var z1=ko(),Q0,Rb,Fb,Zl,Ql,Of={point:Ue,lineStart:function(){Of.point=X7},lineEnd:function(){Q0&&kb(Rb,Fb),Of.point=Ue},polygonStart:function(){Q0=!0},polygonEnd:function(){Q0=null},result:function(){var e=+z1;return z1.reset(),e}};function X7(e,r){Of.point=kb,Rb=Zl=e,Fb=Ql=r}function kb(e,r){Zl-=e,Ql-=r,z1.add(gr(Zl*Zl+Ql*Ql)),Zl=e,Ql=r}function $b(){this._string=[]}$b.prototype={_radius:4.5,_circle:iC(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,r){switch(this._point){case 0:{this._string.push("M",e,",",r),this._point=1;break}case 1:{this._string.push("L",e,",",r);break}default:{this._circle==null&&(this._circle=iC(this._radius)),this._string.push("M",e,",",r,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function iC(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function V7(e,r){var t=4.5,n,i;function a(o){return o&&(typeof t=="function"&&i.pointRadius(+t.apply(this,arguments)),yn(o,n(i))),i.result()}return a.area=function(o){return yn(o,n(Sa)),Sa.result()},a.measure=function(o){return yn(o,n(Of)),Of.result()},a.bounds=function(o){return yn(o,n(ep)),ep.result()},a.centroid=function(o){return yn(o,n(li)),li.result()},a.projection=function(o){return arguments.length?(n=o==null?(e=null,gs):(e=o).stream,a):e},a.context=function(o){return arguments.length?(i=o==null?(r=null,new $b):new Bb(r=o),typeof t!="function"&&i.pointRadius(t),a):r},a.pointRadius=function(o){return arguments.length?(t=typeof o=="function"?o:(i.pointRadius(+o),+o),a):t},a.projection(e).context(r)}function Nb(e,r,t,n){return function(i,a){var o=r(a),s=i.invert(n[0],n[1]),u=Eb(),l=r(u),f=!1,c,h,v,g={point:d,lineStart:x,lineEnd:E,polygonStart:function(){g.point=_,g.lineStart=M,g.lineEnd=A,h=[],c=[]},polygonEnd:function(){g.point=d,g.lineStart=x,g.lineEnd=E,h=gx(h);var b=Cb(c,s);h.length?(f||(a.polygonStart(),f=!0),Mb(h,K7,b,t,a)):b&&(f||(a.polygonStart(),f=!0),a.lineStart(),t(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),h=c=null},sphere:function(){a.polygonStart(),a.lineStart(),t(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(b,I){var L=i(b,I);e(b=L[0],I=L[1])&&a.point(b,I)}function m(b,I){var L=i(b,I);o.point(L[0],L[1])}function x(){g.point=m,o.lineStart()}function E(){g.point=d,o.lineEnd()}function _(b,I){v.push([b,I]);var L=i(b,I);l.point(L[0],L[1])}function M(){l.lineStart(),v=[]}function A(){_(v[0][0],v[0][1]),l.lineEnd();var b=l.clean(),I=u.result(),L,F=I.length,$,Y,k;if(v.pop(),c.push(v),v=null,!!F){if(b&1){if(Y=I[0],($=Y.length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),L=0;L<$;++L)a.point((k=Y[L])[0],k[1]);a.lineEnd()}return}F>1&&b&2&&I.push(I.pop().concat(I.shift())),h.push(I.filter(U7))}}return g}}function U7(e){return e.length>1}function K7(e,r){return((e=e.x)[0]<0?e[1]-ur-Rt:ur-e[1])-((r=r.x)[0]<0?r[1]-ur-Rt:ur-r[1])}var aC=Nb(function(){return!0},q7,Z7,[-ce,-ur]);function q7(e){var r=NaN,t=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?ce:-ce,u=Me(a-r);Me(u-ce)<Rt?(e.point(r,t=(t+o)/2>0?ur:-ur),e.point(n,t),e.lineEnd(),e.lineStart(),e.point(s,t),e.point(a,t),i=0):n!==s&&u>=ce&&(Me(r-n)<Rt&&(r-=n*Rt),Me(a-s)<Rt&&(a-=s*Rt),t=j7(r,t,a,o),e.point(n,t),e.lineEnd(),e.lineStart(),e.point(s,t),i=0),e.point(r=a,t=o),n=s},lineEnd:function(){e.lineEnd(),r=t=NaN},clean:function(){return 2-i}}}function j7(e,r,t,n){var i,a,o=Pt(e-t);return Me(o)>Rt?Zu((Pt(r)*(a=It(n))*Pt(t)-Pt(n)*(i=It(r))*Pt(e))/(i*a*o)):(r+n)/2}function Z7(e,r,t,n){var i;if(e==null)i=t*ur,n.point(-ce,i),n.point(0,i),n.point(ce,i),n.point(ce,0),n.point(ce,-i),n.point(0,-i),n.point(-ce,-i),n.point(-ce,0),n.point(-ce,i);else if(Me(e[0]-r[0])>Rt){var a=e[0]<r[0]?ce:-ce;i=t*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(r[0],r[1])}function Q7(e,r){var t=It(e),n=t>0,i=Me(t)>Rt;function a(f,c,h,v){wb(v,e,r,h,f,c)}function o(f,c){return It(f)*It(c)>t}function s(f){var c,h,v,g,d;return{lineStart:function(){g=v=!1,d=1},point:function(m,x){var E=[m,x],_,M=o(m,x),A=n?M?0:l(m,x):M?l(m+(m<0?ce:-ce),x):0;if(!c&&(g=v=M)&&f.lineStart(),M!==v&&(_=u(c,E),(!_||xv(c,_)||xv(E,_))&&(E[0]+=Rt,E[1]+=Rt,M=o(E[0],E[1]))),M!==v)d=0,M?(f.lineStart(),_=u(E,c),f.point(_[0],_[1])):(_=u(c,E),f.point(_[0],_[1]),f.lineEnd()),c=_;else if(i&&c&&n^M){var b;!(A&h)&&(b=u(E,c,!0))&&(d=0,n?(f.lineStart(),f.point(b[0][0],b[0][1]),f.point(b[1][0],b[1][1]),f.lineEnd()):(f.point(b[1][0],b[1][1]),f.lineEnd(),f.lineStart(),f.point(b[0][0],b[0][1])))}M&&(!c||!xv(c,E))&&f.point(E[0],E[1]),c=E,v=M,h=A},lineEnd:function(){v&&f.lineEnd(),c=null},clean:function(){return d|(g&&v)<<1}}}function u(f,c,h){var v=Es(f),g=Es(c),d=[1,0,0],m=Lu(v,g),x=yh(m,m),E=m[0],_=x-E*E;if(!_)return!h&&f;var M=t*x/_,A=-t*E/_,b=Lu(d,m),I=mh(d,M),L=mh(m,A);K0(I,L);var F=b,$=yh(I,F),Y=yh(F,F),k=$*$-Y*(yh(I,I)-1);if(!(k<0)){var z=gr(k),S=mh(F,(-$-z)/Y);if(K0(S,I),S=Wv(S),!h)return S;var T=f[0],O=c[0],D=f[1],H=c[1],it;O<T&&(it=T,T=O,O=it);var pt=O-T,yt=Me(pt-ce)<Rt,mt=yt||pt<Rt;if(!yt&&H<D&&(it=D,D=H,H=it),mt?yt?D+H>0^S[1]<(Me(S[0]-T)<Rt?D:H):D<=S[1]&&S[1]<=H:pt>ce^(T<=S[0]&&S[0]<=O)){var Dt=mh(F,(-$+z)/Y);return K0(Dt,I),[S,Wv(Dt)]}}}function l(f,c){var h=n?e:ce-e,v=0;return f<-h?v|=1:f>h&&(v|=2),c<-h?v|=4:c>h&&(v|=8),v}return Nb(o,s,a,n?[0,-e]:[-ce,e-ce])}function J7(e){return{stream:og(e)}}function og(e){return function(r){var t=new G1;for(var n in e)t[n]=e[n];return t.stream=r,t}}function G1(){}G1.prototype={constructor:G1,point:function(e,r){this.stream.point(e,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function sg(e,r,t){var n=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),yn(t,e.stream(ep));var o=ep.result(),s=Math.min(n/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+r[0][0]+(n-s*(o[1][0]+o[0][0]))/2,l=+r[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return a!=null&&e.clipExtent(a),e.scale(s*150).translate([u,l])}function yx(e,r,t){return sg(e,[[0,0],r],t)}var oC=16,t$=It(30*$t);function sC(e,r){return+r?r$(e,r):e$(e)}function e$(e){return og({point:function(r,t){r=e(r,t),this.stream.point(r[0],r[1])}})}function r$(e,r){function t(n,i,a,o,s,u,l,f,c,h,v,g,d,m){var x=l-n,E=f-i,_=x*x+E*E;if(_>4*r&&d--){var M=o+h,A=s+v,b=u+g,I=gr(M*M+A*A+b*b),L=Hn(b/=I),F=Me(Me(b)-1)<Rt||Me(a-c)<Rt?(a+c)/2:Jr(A,M),$=e(F,L),Y=$[0],k=$[1],z=Y-n,S=k-i,T=E*z-x*S;(T*T/_>r||Me((x*z+E*S)/_-.5)>.3||o*h+s*v+u*g<t$)&&(t(n,i,a,o,s,u,Y,k,F,M/=I,A/=I,b,d,m),m.point(Y,k),t(Y,k,F,M,A,b,l,f,c,h,v,g,d,m))}}return function(n){var i,a,o,s,u,l,f,c,h,v,g,d,m={point:x,lineStart:E,lineEnd:M,polygonStart:function(){n.polygonStart(),m.lineStart=A},polygonEnd:function(){n.polygonEnd(),m.lineStart=E}};function x(L,F){L=e(L,F),n.point(L[0],L[1])}function E(){c=NaN,m.point=_,n.lineStart()}function _(L,F){var $=Es([L,F]),Y=e(L,F);t(c,h,f,v,g,d,c=Y[0],h=Y[1],f=L,v=$[0],g=$[1],d=$[2],oC,n),n.point(c,h)}function M(){m.point=x,n.lineEnd()}function A(){E(),m.point=b,m.lineEnd=I}function b(L,F){_(i=L,F),a=c,o=h,s=v,u=g,l=d,m.point=_}function I(){t(c,h,f,v,g,d,a,o,i,s,u,l,oC,n),m.lineEnd=M,M()}return m}}var n$=og({point:function(e,r){this.stream.point(e*$t,r*$t)}});function At(e){return tn(function(){return e})()}function tn(e){var r,t=150,n=480,i=250,a,o,s=0,u=0,l=0,f=0,c=0,h,v,g=null,d=aC,m=null,x,E,_,M=gs,A=.5,b=sC(Y,A),I,L;function F(S){return S=v(S[0]*$t,S[1]*$t),[S[0]*t+a,o-S[1]*t]}function $(S){return S=v.invert((S[0]-a)/t,(o-S[1])/t),S&&[S[0]*We,S[1]*We]}function Y(S,T){return S=r(S,T),[S[0]*t+a,o-S[1]*t]}F.stream=function(S){return I&&L===S?I:I=n$(d(h,b(M(L=S))))},F.clipAngle=function(S){return arguments.length?(d=+S?Q7(g=S*$t,6*$t):(g=null,aC),z()):g*We},F.clipExtent=function(S){return arguments.length?(M=S==null?(m=x=E=_=null,gs):dx(m=+S[0][0],x=+S[0][1],E=+S[1][0],_=+S[1][1]),z()):m==null?null:[[m,x],[E,_]]},F.scale=function(S){return arguments.length?(t=+S,k()):t},F.translate=function(S){return arguments.length?(n=+S[0],i=+S[1],k()):[n,i]},F.center=function(S){return arguments.length?(s=S[0]%360*$t,u=S[1]%360*$t,k()):[s*We,u*We]},F.rotate=function(S){return arguments.length?(l=S[0]%360*$t,f=S[1]%360*$t,c=S.length>2?S[2]%360*$t:0,k()):[l*We,f*We,c*We]},F.precision=function(S){return arguments.length?(b=sC(Y,A=S*S),z()):gr(A)},F.fitExtent=function(S,T){return sg(F,S,T)},F.fitSize=function(S,T){return yx(F,S,T)};function k(){v=xb(h=vx(l,f,c),r);var S=r(s,u);return a=n-S[0]*t,o=i+S[1]*t,z()}function z(){return I=L=null,F}return function(){return r=e.apply(this,arguments),F.invert=r.invert&&$,k()}}function mx(e){var r=0,t=ce/3,n=tn(e),i=n(r,t);return i.parallels=function(a){return arguments.length?n(r=a[0]*$t,t=a[1]*$t):[r*We,t*We]},i}function i$(e){var r=It(e);function t(n,i){return[n*r,Pt(i)/r]}return t.invert=function(n,i){return[n/r,Hn(i*r)]},t}function zb(e,r){var t=Pt(e),n=(t+Pt(r))/2;if(Me(n)<Rt)return i$(e);var i=1+t*(2*n-t),a=gr(i)/n;function o(s,u){var l=gr(i-2*n*Pt(u))/n;return[l*Pt(s*=n),a-l*It(s)]}return o.invert=function(s,u){var l=a-u;return[Jr(s,Me(l))/n*bf(l),Hn((i-(s*s+l*l)*n*n)/(2*n))]},o}function ip(){return mx(zb).scale(155.424).center([0,33.6442])}function Gb(){return ip().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function a$(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function o$(){var e,r,t=Gb(),n,i=ip().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ip().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(h,v){u=[h,v]}};function f(h){var v=h[0],g=h[1];return u=null,n.point(v,g),u||(a.point(v,g),u)||(s.point(v,g),u)}f.invert=function(h){var v=t.scale(),g=t.translate(),d=(h[0]-g[0])/v,m=(h[1]-g[1])/v;return(m>=.12&&m<.234&&d>=-.425&&d<-.214?i:m>=.166&&m<.234&&d>=-.214&&d<-.115?o:t).invert(h)},f.stream=function(h){return e&&r===h?e:e=a$([t.stream(r=h),i.stream(h),o.stream(h)])},f.precision=function(h){return arguments.length?(t.precision(h),i.precision(h),o.precision(h),c()):t.precision()},f.scale=function(h){return arguments.length?(t.scale(h),i.scale(h*.35),o.scale(h),f.translate(t.translate())):t.scale()},f.translate=function(h){if(!arguments.length)return t.translate();var v=t.scale(),g=+h[0],d=+h[1];return n=t.translate(h).clipExtent([[g-.455*v,d-.238*v],[g+.455*v,d+.238*v]]).stream(l),a=i.translate([g-.307*v,d+.201*v]).clipExtent([[g-.425*v+Rt,d+.12*v+Rt],[g-.214*v-Rt,d+.234*v-Rt]]).stream(l),s=o.translate([g-.205*v,d+.212*v]).clipExtent([[g-.214*v+Rt,d+.166*v+Rt],[g-.115*v-Rt,d+.234*v-Rt]]).stream(l),c()},f.fitExtent=function(h,v){return sg(f,h,v)},f.fitSize=function(h,v){return yx(f,h,v)};function c(){return e=r=null,f}return f.scale(1070)}function Wb(e){return function(r,t){var n=It(r),i=It(t),a=e(n*i);return[a*i*Pt(r),a*Pt(t)]}}function sc(e){return function(r,t){var n=gr(r*r+t*t),i=e(n),a=Pt(i),o=It(i);return[Jr(r*a,n*o),Hn(n&&t*a/n)]}}var wu=Wb(function(e){return gr(2/(1+e))});wu.invert=sc(function(e){return 2*Hn(e/2)});function s$(){return At(wu).scale(124.75).clipAngle(180-.001)}var Po=Wb(function(e){return(e=sb(e))&&e/Pt(e)});Po.invert=sc(function(e){return e});function u$(){return At(Po).scale(79.4188).clipAngle(180-.001)}function uc(e,r){return[e,$v(cx((ur+r)/2))]}uc.invert=function(e,r){return[e,2*Zu(ob(r))-ur]};function l$(){return Yb(uc).scale(961/Mn)}function Yb(e){var r=At(e),t=r.center,n=r.scale,i=r.translate,a=r.clipExtent,o=null,s,u,l;r.scale=function(c){return arguments.length?(n(c),f()):n()},r.translate=function(c){return arguments.length?(i(c),f()):i()},r.center=function(c){return arguments.length?(t(c),f()):t()},r.clipExtent=function(c){return arguments.length?(c==null?o=s=u=l=null:(o=+c[0][0],s=+c[0][1],u=+c[1][0],l=+c[1][1]),f()):o==null?null:[[o,s],[u,l]]};function f(){var c=ce*n(),h=r(Ou(r.rotate()).invert([0,0]));return a(o==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:e===uc?[[Math.max(h[0]-c,o),s],[Math.min(h[0]+c,u),l]]:[[o,Math.max(h[1]-c,s)],[u,Math.min(h[1]+c,l)]])}return f()}function _h(e){return cx((ur+e)/2)}function Hb(e,r){var t=It(e),n=e===r?Pt(e):$v(t/It(r))/$v(_h(r)/_h(e)),i=t*U0(_h(e),n)/n;if(!n)return uc;function a(o,s){i>0?s<-ur+Rt&&(s=-ur+Rt):s>ur-Rt&&(s=ur-Rt);var u=i/U0(_h(s),n);return[u*Pt(n*o),i-u*It(n*o)]}return a.invert=function(o,s){var u=i-s,l=bf(n)*gr(o*o+u*u);return[Jr(o,Me(u))/n*bf(u),2*Zu(U0(i/l,1/n))-ur]},a}function f$(){return mx(Hb).scale(109.5).parallels([30,30])}function If(e,r){return[e,r]}If.invert=If;function Xb(){return At(If).scale(152.63)}function Vb(e,r){var t=It(e),n=e===r?Pt(e):(t-It(r))/(r-e),i=t/n+e;if(Me(n)<Rt)return If;function a(o,s){var u=i-s,l=n*o;return[u*Pt(l),i-u*It(l)]}return a.invert=function(o,s){var u=i-s;return[Jr(o,Me(u))/n*bf(u),i-bf(n)*gr(o*o+u*u)]},a}function c$(){return mx(Vb).scale(131.154).center([0,13.9389])}function Df(e,r){var t=It(r),n=It(e)*t;return[t*Pt(e)/n,Pt(r)/n]}Df.invert=sc(Zu);function xx(){return At(Df).scale(144.049).clipAngle(60)}function Eh(e,r,t,n){return e===1&&r===1&&t===0&&n===0?gs:og({point:function(i,a){this.stream.point(i*e+t,a*r+n)}})}function h$(){var e=1,r=0,t=0,n=1,i=1,a=gs,o=null,s,u,l,f=gs,c,h,v;function g(){return c=h=null,v}return v={stream:function(d){return c&&h===d?c:c=a(f(h=d))},clipExtent:function(d){return arguments.length?(f=d==null?(o=s=u=l=null,gs):dx(o=+d[0][0],s=+d[0][1],u=+d[1][0],l=+d[1][1]),g()):o==null?null:[[o,s],[u,l]]},scale:function(d){return arguments.length?(a=Eh((e=+d)*n,e*i,r,t),g()):e},translate:function(d){return arguments.length?(a=Eh(e*n,e*i,r=+d[0],t=+d[1]),g()):[r,t]},reflectX:function(d){return arguments.length?(a=Eh(e*(n=d?-1:1),e*i,r,t),g()):n<0},reflectY:function(d){return arguments.length?(a=Eh(e*n,e*(i=d?-1:1),r,t),g()):i<0},fitExtent:function(d,m){return sg(v,d,m)},fitSize:function(d,m){return yx(v,d,m)}}}function wx(e,r){return[It(r)*Pt(e),Pt(r)]}wx.invert=sc(Hn);function Ub(){return At(wx).scale(249.5).clipAngle(90+Rt)}function _x(e,r){var t=It(r),n=1+It(e)*t;return[t*Pt(e)/n,Pt(r)/n]}_x.invert=sc(function(e){return 2*Zu(e)});function v$(){return At(_x).scale(250).clipAngle(142)}function Ex(e,r){return[$v(cx((ur+r)/2)),-e]}Ex.invert=function(e,r){return[-r,2*Zu(ob(e))-ur]};function p$(){var e=Yb(Ex),r=e.center,t=e.rotate;return e.center=function(n){return arguments.length?r([-n[1],n[0]]):(n=r(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?t([n[0],n[1],n.length>2?n[2]+90:90]):(n=t(),[n[0],n[1],n[2]-90])},t([0,0,90]).scale(159.155)}var g$=Object.freeze(Object.defineProperty({__proto__:null,geoArea:g7,geoBounds:gb,geoCentroid:Qu,geoCircle:_b,geoClipExtent:A7,geoContains:B7,geoDistance:yf,geoGraticule:Ab,geoGraticule10:R7,geoInterpolate:Qv,geoLength:Sb,geoPath:V7,geoAlbers:Gb,geoAlbersUsa:o$,geoAzimuthalEqualArea:s$,geoAzimuthalEqualAreaRaw:wu,geoAzimuthalEquidistant:u$,geoAzimuthalEquidistantRaw:Po,geoConicConformal:f$,geoConicConformalRaw:Hb,geoConicEqualArea:ip,geoConicEqualAreaRaw:zb,geoConicEquidistant:c$,geoConicEquidistantRaw:Vb,geoEquirectangular:Xb,geoEquirectangularRaw:If,geoGnomonic:xx,geoGnomonicRaw:Df,geoIdentity:h$,geoProjection:At,geoProjectionMutator:tn,geoMercator:l$,geoMercatorRaw:uc,geoOrthographic:Ub,geoOrthographicRaw:wx,geoStereographic:v$,geoStereographicRaw:_x,geoTransverseMercator:p$,geoTransverseMercatorRaw:Ex,geoRotation:Ou,geoStream:yn,geoTransform:J7},Symbol.toStringTag,{value:"Module"})),lc=oa(g$),ut=Math.abs,qe=Math.atan,ae=Math.atan2,tt=Math.cos,aa=Math.exp,Bu=Math.floor,pr=Math.log,Bf=Math.max,bi=Math.min,W1=Math.pow,ap=Math.round,ie=Math.sign||function(e){return e>0?1:e<0?-1:0},rt=Math.sin,Kt=Math.tan,wt=1e-6,Ju=1e-12,nt=Math.PI,_t=nt/2,wn=nt/4,oi=Math.SQRT1_2,xe=ot(2),hi=ot(nt),Si=nt*2,Fe=180/nt,he=nt/180;function d$(e){return e?e/Math.sin(e):1}function Bt(e){return e>1?_t:e<-1?-_t:Math.asin(e)}function Pr(e){return e>1?0:e<-1?nt:Math.acos(e)}function ot(e){return e>0?Math.sqrt(e):0}function y$(e){return e=aa(2*e),(e-1)/(e+1)}function Mx(e){return(aa(e)-aa(-e))/2}function Kb(e){return(aa(e)+aa(-e))/2}function m$(e){return pr(e+ot(e*e+1))}function x$(e){return pr(e+ot(e*e-1))}function qb(e){var r=Kt(e/2),t=2*pr(tt(e/2))/(r*r);function n(i,a){var o=tt(i),s=tt(a),u=rt(a),l=s*o,f=-((1-l?pr((1+l)/2)/(1-l):-.5)+t/(1+l));return[f*s*rt(i),f*u]}return n.invert=function(i,a){var o=ot(i*i+a*a),s=-e/2,u=50,l;if(!o)return[0,0];do{var f=s/2,c=tt(f),h=rt(f),v=Kt(f),g=pr(1/c);s-=l=(2/v*g-t*v-o)/(-g/(h*h)+1-t/(2*c*c))}while(ut(l)>wt&&--u>0);var d=rt(s);return[ae(i*d,o*tt(s)),Bt(a*d/o)]},n}function w$(){var e=_t,r=tn(qb),t=r(e);return t.radius=function(n){return arguments.length?r(e=n*he):e*Fe},t.scale(179.976).clipAngle(147)}function ug(e,r){var t=tt(r),n=d$(Pr(t*tt(e/=2)));return[2*t*rt(e)*n,rt(r)*n]}ug.invert=function(e,r){if(!(e*e+4*r*r>nt*nt+wt)){var t=e,n=r,i=25;do{var a=rt(t),o=rt(t/2),s=tt(t/2),u=rt(n),l=tt(n),f=rt(2*n),c=u*u,h=l*l,v=o*o,g=1-h*s*s,d=g?Pr(l*s)*ot(m=1/g):m=0,m,x=2*d*l*o-e,E=d*u-r,_=m*(h*v+d*l*s*c),M=m*(.5*a*f-d*2*u*o),A=m*.25*(f*o-d*u*h*a),b=m*(c*s+d*v*l),I=M*A-b*_;if(!I)break;var L=(E*M-x*b)/I,F=(x*A-E*_)/I;t-=L,n-=F}while((ut(L)>wt||ut(F)>wt)&&--i>0);return[t,n]}};function _$(){return At(ug).scale(152.63)}function jb(e){var r=rt(e),t=tt(e),n=e>=0?1:-1,i=Kt(n*e),a=(1+r-t)/2;function o(s,u){var l=tt(u),f=tt(s/=2);return[(1+l)*rt(s),(n*u>-ae(f,i)-.001?0:-n*10)+a+rt(u)*t-(1+l)*r*f]}return o.invert=function(s,u){var l=0,f=0,c=50;do{var h=tt(l),v=rt(l),g=tt(f),d=rt(f),m=1+g,x=m*v-s,E=a+d*t-m*r*h-u,_=m*h/2,M=-v*d,A=r*m*v/2,b=t*g+r*h*d,I=M*A-b*_,L=(E*M-x*b)/I/2,F=(x*A-E*_)/I;l-=L,f-=F}while((ut(L)>wt||ut(F)>wt)&&--c>0);return n*f>-ae(tt(l),i)-.001?[l*2,f]:null},o}function E$(){var e=20*he,r=e>=0?1:-1,t=Kt(r*e),n=tn(jb),i=n(e),a=i.stream;return i.parallel=function(o){return arguments.length?(t=Kt((r=(e=o*he)>=0?1:-1)*e),n(e)):e*Fe},i.stream=function(o){var s=i.rotate(),u=a(o),l=(i.rotate([0,0]),a(o));return i.rotate(s),u.sphere=function(){l.polygonStart(),l.lineStart();for(var f=r*-180;r*f<180;f+=r*90)l.point(f,r*90);for(;r*(f-=e)>=-180;)l.point(f,r*-ae(tt(f*he/2),t)*Fe);l.lineEnd(),l.polygonEnd()},u},i.scale(218.695).center([0,28.0974])}function lg(e,r){var t=Kt(r/2),n=ot(1-t*t),i=1+n*tt(e/=2),a=rt(e)*n/i,o=t/i,s=a*a,u=o*o;return[4/3*a*(3+s-3*u),4/3*o*(3+3*s-u)]}lg.invert=function(e,r){if(e*=3/8,r*=3/8,!e&&ut(r)>1)return null;var t=e*e,n=r*r,i=1+t+n,a=ot((i-ot(i*i-4*r*r))/2),o=Bt(a)/3,s=a?x$(ut(r/a))/3:m$(ut(e))/3,u=tt(o),l=Kb(s),f=l*l-u*u;return[ie(e)*2*ae(Mx(s)*u,.25-f),ie(r)*2*ae(l*rt(o),.25+f)]};function M$(){return At(lg).scale(66.1603)}var J0=ot(8),C$=pr(1+xe);function Cx(e,r){var t=ut(r);return t<wn?[e,pr(Kt(wn+r/2))]:[e*tt(t)*(2*xe-1/rt(t)),ie(r)*(2*xe*(t-wn)-pr(Kt(t/2)))]}Cx.invert=function(e,r){if((a=ut(r))<C$)return[e,2*qe(aa(r))-_t];var t=wn,n=25,i,a;do{var o=tt(t/2),s=Kt(t/2);t-=i=(J0*(t-wn)-pr(s)-a)/(J0-o*o/(2*s))}while(ut(i)>Ju&&--n>0);return[e/(tt(t)*(J0-1/rt(t))),ie(r)*t]};function S$(){return At(Cx).scale(112.314)}function Zb(e){var r=2*nt/e;function t(n,i){var a=Po(n,i);if(ut(n)>_t){var o=ae(a[1],a[0]),s=ot(a[0]*a[0]+a[1]*a[1]),u=r*ap((o-_t)/r)+_t,l=ae(rt(o-=u),2-tt(o));o=u+Bt(nt/s*rt(l))-l,a[0]=s*tt(o),a[1]=s*rt(o)}return a}return t.invert=function(n,i){var a=ot(n*n+i*i);if(a>_t){var o=ae(i,n),s=r*ap((o-_t)/r)+_t,u=o>s?-1:1,l=a*tt(s-o),f=1/Kt(u*Pr((l-nt)/ot(nt*(nt-2*l)+a*a)));o=s+2*qe((f+u*ot(f*f-3))/3),n=a*tt(o),i=a*rt(o)}return Po.invert(n,i)},t}function T$(){var e=5,r=tn(Zb),t=r(e),n=t.stream,i=.01,a=-tt(i*he),o=rt(i*he);return t.lobes=function(s){return arguments.length?r(e=+s):e},t.stream=function(s){var u=t.rotate(),l=n(s),f=(t.rotate([0,0]),n(s));return t.rotate(u),l.sphere=function(){f.polygonStart(),f.lineStart();for(var c=0,h=360/e,v=2*nt/e,g=90-180/e,d=_t;c<e;++c,g-=h,d-=v)f.point(ae(o*tt(d),a)*Fe,Bt(o*rt(d))*Fe),g<-90?(f.point(-90,-180-g-i),f.point(-90,-180-g+i)):(f.point(90,g+i),f.point(90,g-i));f.lineEnd(),f.polygonEnd()},l},t.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function Qb(e,r){var t=e*rt(r),n=30,i;do r-=i=(r+rt(r)-t)/(1+tt(r));while(ut(i)>wt&&--n>0);return r/2}function Sx(e,r,t){function n(i,a){return[e*i*tt(a=Qb(t,a)),r*rt(a)]}return n.invert=function(i,a){return a=Bt(a/r),[i/(e*tt(a)),Bt((2*a+rt(2*a))/t)]},n}var $o=Sx(xe/_t,xe,nt);function A$(){return At($o).scale(169.529)}var op=2.00276,Jb=1.11072;function fg(e,r){var t=Qb(nt,r);return[op*e/(1/tt(r)+Jb/tt(t)),(r+xe*rt(t))/op]}fg.invert=function(e,r){var t=op*r,n=r<0?-wn:wn,i=25,a,o;do o=t-xe*rt(n),n-=a=(rt(2*n)+2*n-nt*rt(o))/(2*tt(2*n)+2+nt*tt(o)*xe*tt(n));while(ut(a)>wt&&--i>0);return o=t-xe*rt(n),[e*(1/tt(o)+Jb/tt(n))/op,o]};function P$(){return At(fg).scale(160.857)}function tl(e){var r=0,t=tn(e),n=t(r);return n.parallel=function(i){return arguments.length?t(r=i*he):r*Fe},n}function Ya(e,r){return[e*tt(r),r]}Ya.invert=function(e,r){return[e/tt(r),r]};function b$(){return At(Ya).scale(152.63)}function t5(e){if(!e)return Ya;var r=1/Kt(e);function t(n,i){var a=r+e-i,o=a&&n*tt(i)/a;return[a*rt(o),r-a*tt(o)]}return t.invert=function(n,i){var a=ot(n*n+(i=r-i)*i),o=r+e-a;return[a/tt(o)*ae(n,i),o]},t}function L$(){return tl(t5).scale(123.082).center([0,26.1441]).parallel(45)}function e5(e){function r(t,n){var i=_t-n,a=i&&t*e*rt(i)/i;return[i*rt(a)/e,_t-i*tt(a)]}return r.invert=function(t,n){var i=t*e,a=_t-n,o=ot(i*i+a*a),s=ae(i,a);return[(o?o/rt(o):1)*s/e,_t-o]},r}function O$(){var e=.5,r=tn(e5),t=r(e);return t.fraction=function(n){return arguments.length?r(e=+n):e},t.scale(158.837)}var r5=Sx(1,4/nt,nt);function I$(){return At(r5).scale(152.63)}function uC(e,r,t,n,i,a){var o=tt(a),s;if(ut(e)>1||ut(a)>1)s=Pr(t*i+r*n*o);else{var u=rt(e/2),l=rt(a/2);s=2*Bt(ot(u*u+r*n*l*l))}return ut(s)>wt?[s,ae(n*rt(a),r*i-t*n*o)]:[0,0]}function ty(e,r,t){return Pr((e*e+r*r-t*t)/(2*e*r))}function D$(e){return e-2*nt*Bu((e+nt)/(2*nt))}function n5(e,r,t){for(var n=[[e[0],e[1],rt(e[1]),tt(e[1])],[r[0],r[1],rt(r[1]),tt(r[1])],[t[0],t[1],rt(t[1]),tt(t[1])]],i=n[2],a,o=0;o<3;++o,i=a)a=n[o],i.v=uC(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var s=ty(n[0].v[0],n[2].v[0],n[1].v[0]),u=ty(n[0].v[0],n[1].v[0],n[2].v[0]),l=nt-s;n[2].point[1]=0,n[0].point[0]=-(n[1].point[0]=n[0].v[0]/2);var f=[n[2].point[0]=n[0].point[0]+n[2].v[0]*tt(s),2*(n[0].point[1]=n[1].point[1]=n[2].v[0]*rt(s))];function c(h,v){var g=rt(v),d=tt(v),m=new Array(3),x;for(x=0;x<3;++x){var E=n[x];if(m[x]=uC(v-E[1],E[3],E[2],d,g,h-E[0]),!m[x][0])return E.point;m[x][1]=D$(m[x][1]-E.v[1])}var _=f.slice();for(x=0;x<3;++x){var M=x==2?0:x+1,A=ty(n[x].v[0],m[x][0],m[M][0]);m[x][1]<0&&(A=-A),x?x==1?(A=u-A,_[0]-=m[x][0]*tt(A),_[1]-=m[x][0]*rt(A)):(A=l-A,_[0]+=m[x][0]*tt(A),_[1]+=m[x][0]*rt(A)):(_[0]+=m[x][0]*tt(A),_[1]-=m[x][0]*rt(A))}return _[0]/=3,_[1]/=3,_}return c}function ey(e){return e[0]*=he,e[1]*=he,e}function B$(){return i5([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function i5(e,r,t){var n=Qu({type:"MultiPoint",coordinates:[e,r,t]}),i=[-n[0],-n[1]],a=Ou(i),o=At(n5(ey(a(e)),ey(a(r)),ey(a(t)))).rotate(i),s=o.center;return delete o.rotate,o.center=function(u){return arguments.length?s(a(u)):a.invert(s())},o.clipAngle(90)}function qi(e,r){var t=ot(1-rt(r));return[2/hi*e*t,hi*(1-t)]}qi.invert=function(e,r){var t=(t=r/hi-1)*t;return[t>0?e*ot(nt/t)/2:0,Bt(1-t)]};function R$(){return At(qi).scale(95.6464).center([0,30])}function a5(e){var r=Kt(e);function t(n,i){return[n,(n?n/rt(n):1)*(rt(i)*tt(n)-r*tt(i))]}return t.invert=r?function(n,i){n&&(i*=rt(n)/n);var a=tt(n);return[n,2*ae(ot(a*a+r*r-i*i)-a,r-i)]}:function(n,i){return[n,Bt(n?i*Kt(n)/n:i)]},t}function F$(){return tl(a5).scale(249.828).clipAngle(90)}var sp=ot(3);function Tx(e,r){return[sp*e*(2*tt(2*r/3)-1)/hi,sp*hi*rt(r/3)]}Tx.invert=function(e,r){var t=3*Bt(r/(sp*hi));return[hi*e/(sp*(2*tt(2*t/3)-1)),t]};function k$(){return At(Tx).scale(156.19)}function Ax(e){var r=tt(e);function t(n,i){return[n*r,rt(i)/r]}return t.invert=function(n,i){return[n/r,Bt(i*r)]},t}function $$(){return tl(Ax).parallel(38.58).scale(195.044)}function o5(e){var r=tt(e);function t(n,i){return[n*r,(1+r)*Kt(i/2)]}return t.invert=function(n,i){return[n/r,qe(i/(1+r))*2]},t}function N$(){return tl(o5).scale(124.75)}function Px(e,r){var t=ot(8/(3*nt));return[t*e*(1-ut(r)/nt),t*r]}Px.invert=function(e,r){var t=ot(8/(3*nt)),n=r/t;return[e/(t*(1-ut(n)/nt)),n]};function z$(){return At(Px).scale(165.664)}function bx(e,r){var t=ot(4-3*rt(ut(r)));return[2/ot(6*nt)*e*t,ie(r)*ot(2*nt/3)*(2-t)]}bx.invert=function(e,r){var t=2-ut(r)/ot(2*nt/3);return[e*ot(6*nt)/(2*t),ie(r)*Bt((4-t*t)/3)]};function G$(){return At(bx).scale(165.664)}function Lx(e,r){var t=ot(nt*(4+nt));return[2/t*e*(1+ot(1-4*r*r/(nt*nt))),4/t*r]}Lx.invert=function(e,r){var t=ot(nt*(4+nt))/2;return[e*t/(1+ot(1-r*r*(4+nt)/(4*nt))),r*t/2]};function W$(){return At(Lx).scale(180.739)}function Ox(e,r){var t=(2+_t)*rt(r);r/=2;for(var n=0,i=1/0;n<10&&ut(i)>wt;n++){var a=tt(r);r-=i=(r+rt(r)*(a+2)-t)/(2*a*(1+a))}return[2/ot(nt*(4+nt))*e*(1+tt(r)),2*ot(nt/(4+nt))*rt(r)]}Ox.invert=function(e,r){var t=r*ot((4+nt)/nt)/2,n=Bt(t),i=tt(n);return[e/(2/ot(nt*(4+nt))*(1+i)),Bt((n+t*(i+2))/(2+_t))]};function Y$(){return At(Ox).scale(180.739)}function Ix(e,r){return[e*(1+tt(r))/ot(2+nt),2*r/ot(2+nt)]}Ix.invert=function(e,r){var t=ot(2+nt),n=r*t/2;return[t*e/(1+tt(n)),n]};function H$(){return At(Ix).scale(173.044)}function Dx(e,r){for(var t=(1+_t)*rt(r),n=0,i=1/0;n<10&&ut(i)>wt;n++)r-=i=(r+rt(r)-t)/(1+tt(r));return t=ot(2+nt),[e*(1+tt(r))/t,2*r/t]}Dx.invert=function(e,r){var t=1+_t,n=ot(t/2);return[e*2*n/(1+tt(r*=n)),Bt((r+rt(r))/t)]};function X$(){return At(Dx).scale(173.044)}var up=3+2*xe;function Bx(e,r){var t=rt(e/=2),n=tt(e),i=ot(tt(r)),a=tt(r/=2),o=rt(r)/(a+xe*n*i),s=ot(2/(1+o*o)),u=ot((xe*a+(n+t)*i)/(xe*a+(n-t)*i));return[up*(s*(u-1/u)-2*pr(u)),up*(s*o*(u+1/u)-2*qe(o))]}Bx.invert=function(e,r){if(!(a=lg.invert(e/1.2,r*1.065)))return null;var t=a[0],n=a[1],i=20,a;e/=up,r/=up;do{var o=t/2,s=n/2,u=rt(o),l=tt(o),f=rt(s),c=tt(s),h=tt(n),v=ot(h),g=f/(c+xe*l*v),d=g*g,m=ot(2/(1+d)),x=xe*c+(l+u)*v,E=xe*c+(l-u)*v,_=x/E,M=ot(_),A=M-1/M,b=M+1/M,I=m*A-2*pr(M)-e,L=m*g*b-2*qe(g)-r,F=f&&oi*v*u*d/f,$=(xe*l*c+v)/(2*(c+xe*l*v)*(c+xe*l*v)*v),Y=-.5*g*m*m*m,k=Y*F,z=Y*$,S=(S=2*c+xe*v*(l-u))*S*M,T=(xe*l*c*v+h)/S,O=-(xe*u*f)/(v*S),D=A*k-2*T/M+m*(T+T/_),H=A*z-2*O/M+m*(O+O/_),it=g*b*k-2*F/(1+d)+m*b*F+m*g*(T-T/_),pt=g*b*z-2*$/(1+d)+m*b*$+m*g*(O-O/_),yt=H*it-pt*D;if(!yt)break;var mt=(L*H-I*pt)/yt,Dt=(I*it-L*D)/yt;t-=mt,n=Bf(-_t,bi(_t,n-Dt))}while((ut(mt)>wt||ut(Dt)>wt)&&--i>0);return ut(ut(n)-_t)<wt?[0,n]:i&&[t,n]};function V$(){return At(Bx).scale(62.5271)}var lp=tt(35*he);function Rx(e,r){var t=Kt(r/2);return[e*lp*ot(1-t*t),(1+lp)*t]}Rx.invert=function(e,r){var t=r/(1+lp);return[e&&e/(lp*ot(1-t*t)),2*qe(t)]};function U$(){return At(Rx).scale(137.152)}function Fx(e,r){var t=r/2,n=tt(t);return[2*e/hi*tt(r)*n*n,hi*Kt(t)]}Fx.invert=function(e,r){var t=qe(r/hi),n=tt(t),i=2*t;return[e*hi/2/(tt(i)*n*n),i]};function K$(){return At(Fx).scale(135.264)}function lC(e){return[e[0]/2,Bt(Kt(e[1]/2*he))*Fe]}function fC(e){return[e[0]*2,2*qe(rt(e[1]*he))*Fe]}function q$(e){e==null&&(e=Ub);var r=e(),t=Xb().scale(Fe).precision(0).clipAngle(null).translate([0,0]);function n(a){return r(lC(a))}r.invert&&(n.invert=function(a){return fC(r.invert(a))}),n.stream=function(a){var o=r.stream(a),s=t.stream({point:function(u,l){o.point(u/2,Bt(Kt(-l/2*he))*Fe)},lineStart:function(){o.lineStart()},lineEnd:function(){o.lineEnd()},polygonStart:function(){o.polygonStart()},polygonEnd:function(){o.polygonEnd()}});return s.sphere=o.sphere,s};function i(a){n[a]=function(o){return arguments.length?(r[a](o),n):r[a]()}}return n.rotate=function(a){return arguments.length?(t.rotate(a),n):t.rotate()},n.center=function(a){return arguments.length?(r.center(lC(a)),n):fC(r.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),n.scale(249.5)}function s5(e,r){var t=2*nt/r,n=e*e;function i(a,o){var s=Po(a,o),u=s[0],l=s[1],f=u*u+l*l;if(f>n){var c=ot(f),h=ae(l,u),v=t*ap(h/t),g=h-v,d=e*tt(g),m=(e*rt(g)-g*rt(d))/(_t-d),x=cC(g,m),E=(nt-e)/Mh(x,d,nt);u=c;var _=50,M;do u-=M=(e+Mh(x,d,u)*E-c)/(x(u)*E);while(ut(M)>wt&&--_>0);l=g*rt(u),u<_t&&(l-=m*(u-_t));var A=rt(v),b=tt(v);s[0]=u*b-l*A,s[1]=u*A+l*b}return s}return i.invert=function(a,o){var s=a*a+o*o;if(s>n){var u=ot(s),l=ae(o,a),f=t*ap(l/t),c=l-f;a=u*tt(c),o=u*rt(c);for(var h=a-_t,v=rt(a),g=o/v,d=a<_t?1/0:0,m=10;;){var x=e*rt(g),E=e*tt(g),_=rt(E),M=_t-E,A=(x-g*_)/M,b=cC(g,A);if(ut(d)<Ju||!--m)break;g-=d=(g*v-A*h-o)/(v-h*2*(M*(E+g*x*tt(E)-_)-x*(x-g*_))/(M*M))}u=e+Mh(b,E,a)*(nt-e)/Mh(b,E,nt),l=f+g,a=u*tt(l),o=u*rt(l)}return Po.invert(a,o)},i}function cC(e,r){return function(t){var n=e*tt(t);return t<_t&&(n-=r),ot(1+n*n)}}function Mh(e,r,t){for(var n=50,i=(t-r)/n,a=e(r)+e(t),o=1,s=r;o<n;++o)a+=2*e(s+=i);return a*.5*i}function j$(){var e=6,r=30*he,t=tt(r),n=rt(r),i=tn(s5),a=i(r,e),o=a.stream,s=.01,u=-tt(s*he),l=rt(s*he);return a.radius=function(f){return arguments.length?(t=tt(r=f*he),n=rt(r),i(r,e)):r*Fe},a.lobes=function(f){return arguments.length?i(r,e=+f):e},a.stream=function(f){var c=a.rotate(),h=o(f),v=(a.rotate([0,0]),o(f));return a.rotate(c),h.sphere=function(){v.polygonStart(),v.lineStart();for(var g=0,d=2*nt/e,m=0;g<e;++g,m-=d)v.point(ae(l*tt(m),u)*Fe,Bt(l*rt(m))*Fe),v.point(ae(n*tt(m-d/2),t)*Fe,Bt(n*rt(m-d/2))*Fe);v.lineEnd(),v.polygonEnd()},h},a.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function cg(e,r,t,n,i,a,o,s){arguments.length<8&&(s=0);function u(l,f){if(!f)return[e*l/nt,0];var c=f*f,h=e+c*(r+c*(t+c*n)),v=f*(i-1+c*(a-s+c*o)),g=(h*h+v*v)/(2*v),d=l*Bt(h/g)/nt;return[g*rt(d),f*(1+c*s)+g*(1-tt(d))]}return u.invert=function(l,f){var c=nt*l/e,h=f,v,g,d=50;do{var m=h*h,x=e+m*(r+m*(t+m*n)),E=h*(i-1+m*(a-s+m*o)),_=x*x+E*E,M=2*E,A=_/M,b=A*A,I=Bt(x/A)/nt,L=c*I,F=x*x,$=(2*r+m*(4*t+m*6*n))*h,Y=i+m*(3*a+m*5*o),k=2*(x*$+E*(Y-1)),z=2*(Y-1),S=(k*M-_*z)/(M*M),T=tt(L),O=rt(L),D=A*T,H=A*O,it=c/nt*(1/ot(1-F/b))*($*A-x*S)/b,pt=H-l,yt=h*(1+m*s)+A-D-f,mt=S*O+D*it,Dt=D*I,oe=1+S-(S*T-H*it),Ot=H*I,Oe=mt*Ot-oe*Dt;if(!Oe)break;c-=v=(yt*mt-pt*oe)/Oe,h-=g=(pt*Ot-yt*Dt)/Oe}while((ut(v)>wt||ut(g)>wt)&&--d>0);return[c,h]},u}var u5=cg(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Z$(){return At(u5).scale(149.995)}var l5=cg(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Q$(){return At(l5).scale(153.93)}var f5=cg(5/6*nt,-.62636,-.0344,0,1.3493,-.05524,0,.045);function J$(){return At(f5).scale(130.945)}function kx(e,r){var t=e*e,n=r*r;return[e*(1-.162388*n)*(.87-952426e-9*t*t),r*(1+n/12)]}kx.invert=function(e,r){var t=e,n=r,i=50,a;do{var o=n*n;n-=a=(n*(1+o/12)-r)/(1+o/4)}while(ut(a)>wt&&--i>0);i=50,e/=1-.162388*o;do{var s=(s=t*t)*s;t-=a=(t*(.87-952426e-9*s)-e)/(.87-.00476213*s)}while(ut(a)>wt&&--i>0);return[t,n]};function tN(){return At(kx).scale(131.747)}var c5=cg(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function eN(){return At(c5).scale(131.087)}function h5(e){var r=e(_t,0)[0]-e(-_t,0)[0];function t(n,i){var a=n>0?-.5:.5,o=e(n+a*nt,i);return o[0]-=a*r,o}return e.invert&&(t.invert=function(n,i){var a=n>0?-.5:.5,o=e.invert(n+a*r,i),s=o[0]-a*nt;return s<-nt?s+=2*nt:s>nt&&(s-=2*nt),o[0]=s,o}),t}function hg(e,r){var t=ie(e),n=ie(r),i=tt(r),a=tt(e)*i,o=rt(e)*i,s=rt(n*r);e=ut(ae(o,s)),r=Bt(a),ut(e-_t)>wt&&(e%=_t);var u=rN(e>nt/4?_t-e:e,r);return e>nt/4&&(s=u[0],u[0]=-u[1],u[1]=-s),u[0]*=t,u[1]*=-n,u}hg.invert=function(e,r){ut(e)>1&&(e=ie(e)*2-e),ut(r)>1&&(r=ie(r)*2-r);var t=ie(e),n=ie(r),i=-t*e,a=-n*r,o=a/i<1,s=nN(o?a:i,o?i:a),u=s[0],l=s[1],f=tt(l);return o&&(u=-_t-u),[t*(ae(rt(u)*f,-rt(l))+nt),n*Bt(tt(u)*f)]};function rN(e,r){if(r===_t)return[0,0];var t=rt(r),n=t*t,i=n*n,a=1+i,o=1+3*i,s=1-i,u=Bt(1/ot(a)),l=s+n*a*u,f=(1-t)/l,c=ot(f),h=f*a,v=ot(h),g=c*s,d,m;if(e===0)return[0,-(g+n*v)];var x=tt(r),E=1/x,_=2*t*x,M=(-3*n+u*o)*_,A=(-l*x-(1-t)*M)/(l*l),b=.5*A/c,I=s*b-2*n*c*_,L=n*a*A+f*o*_,F=-E*_,$=-E*L,Y=-2*E*I,k=4*e/nt,z;if(e>.222*nt||r<nt/4&&e>.175*nt){if(d=(g+n*ot(h*(1+i)-g*g))/(1+i),e>nt/4)return[d,d];var S=d,T=.5*d;d=.5*(T+S),m=50;do{var O=ot(h-d*d),D=d*(Y+F*O)+$*Bt(d/v)-k;if(!D)break;D<0?T=d:S=d,d=.5*(T+S)}while(ut(S-T)>wt&&--m>0)}else{d=wt,m=25;do{var H=d*d,it=ot(h-H),pt=Y+F*it,yt=d*pt+$*Bt(d/v)-k,mt=pt+($-F*H)/it;d-=z=it?yt/mt:0}while(ut(z)>wt&&--m>0)}return[d,-g-n*ot(h-d*d)]}function nN(e,r){for(var t=0,n=1,i=.5,a=50;;){var o=i*i,s=ot(i),u=Bt(1/ot(1+o)),l=1-o+i*(1+o)*u,f=(1-s)/l,c=ot(f),h=f*(1+o),v=c*(1-o),g=h-e*e,d=ot(g),m=r+v+i*d;if(ut(n-t)<Ju||--a===0||m===0)break;m>0?t=i:n=i,i=.5*(t+n)}if(!a)return null;var x=Bt(s),E=tt(x),_=1/E,M=2*s*E,A=(-3*i+u*(1+3*o))*M,b=(-l*E-(1-s)*A)/(l*l),I=.5*b/c,L=(1-o)*I-2*i*c*M,F=-2*_*L,$=-_*M,Y=-_*(i*(1+o)*b+f*(1+3*o)*M);return[nt/4*(e*(F+$*d)+Y*Bt(e/ot(h))),x]}function iN(){return At(h5(hg)).scale(239.75)}function aN(e,r,t){var n,i,a;return e?(n=ry(e,t),r?(i=ry(r,1-t),a=i[1]*i[1]+t*n[0]*n[0]*i[0]*i[0],[[n[0]*i[2]/a,n[1]*n[2]*i[0]*i[1]/a],[n[1]*i[1]/a,-n[0]*n[2]*i[0]*i[2]/a],[n[2]*i[1]*i[2]/a,-t*n[0]*n[1]*i[0]/a]]):[[n[0],0],[n[1],0],[n[2],0]]):(i=ry(r,1-t),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function ry(e,r){var t,n,i,a,o;if(r<wt)return a=rt(e),n=tt(e),t=r*(e-a*n)/4,[a-t*n,n+t*a,1-r*a*a/2,e-t];if(r>=1-wt)return t=(1-r)/4,n=Kb(e),a=y$(e),i=1/n,o=n*Mx(e),[a+t*(o-e)/(n*n),i-t*a*i*(o-e),i+t*a*i*(o+e),2*qe(aa(e))-_t+t*(o-e)/n];var s=[1,0,0,0,0,0,0,0,0],u=[ot(r),0,0,0,0,0,0,0,0],l=0;for(n=ot(1-r),o=1;ut(u[l]/s[l])>wt&&l<8;)t=s[l++],u[l]=(t-n)/2,s[l]=(t+n)/2,n=ot(t*n),o*=2;i=o*s[l]*e;do a=u[l]*rt(n=i)/s[l],i=(Bt(a)+i)/2;while(--l);return[rt(i),a=tt(i),a/tt(i-n),i]}function oN(e,r,t){var n=ut(e),i=ut(r),a=Mx(i);if(n){var o=1/rt(n),s=1/(Kt(n)*Kt(n)),u=-(s+t*(a*a*o*o)-1+t),l=(t-1)*s,f=(-u+ot(u*u-4*l))/2;return[mf(qe(1/ot(f)),t)*ie(e),mf(qe(ot((f/s-1)/t)),1-t)*ie(r)]}return[0,mf(qe(a),1-t)*ie(r)]}function mf(e,r){if(!r)return e;if(r===1)return pr(Kt(e/2+wn));for(var t=1,n=ot(1-r),i=ot(r),a=0;ut(i)>wt;a++){if(e%nt){var o=qe(n*Kt(e)/t);o<0&&(o+=nt),e+=o+~~(e/nt)*nt}else e+=e;i=(t+n)/2,n=ot(t*n),i=((t=i)-n)/2}return e/(W1(2,a)*t)}function vg(e,r){var t=(xe-1)/(xe+1),n=ot(1-t*t),i=mf(_t,n*n),a=-1,o=pr(Kt(nt/4+ut(r)/2)),s=aa(a*o)/ot(t),u=sN(s*tt(a*e),s*rt(a*e)),l=oN(u[0],u[1],n*n);return[-l[1],(r>=0?1:-1)*(.5*i-l[0])]}function sN(e,r){var t=e*e,n=r+1,i=1-t-r*r;return[.5*((e>=0?_t:-_t)-ae(i,2*e)),-.25*pr(i*i+4*t)+.5*pr(n*n+t)]}function uN(e,r){var t=r[0]*r[0]+r[1]*r[1];return[(e[0]*r[0]+e[1]*r[1])/t,(e[1]*r[0]-e[0]*r[1])/t]}vg.invert=function(e,r){var t=(xe-1)/(xe+1),n=ot(1-t*t),i=mf(_t,n*n),a=-1,o=aN(.5*i-r,-e,n*n),s=uN(o[0],o[1]),u=ae(s[1],s[0])/a;return[u,2*qe(aa(.5/a*pr(t*s[0]*s[0]+t*s[1]*s[1])))-_t]};function lN(){return At(h5(vg)).scale(151.496)}function v5(e,r){if(arguments.length<2&&(r=e),r===1)return wu;if(r===1/0)return p5;function t(n,i){var a=wu(n/r,i);return a[0]*=e,a}return t.invert=function(n,i){var a=wu.invert(n/e,i);return a[0]*=r,a},t}function p5(e,r){return[e*tt(r)/tt(r/=2),2*rt(r)]}p5.invert=function(e,r){var t=2*Bt(r/2);return[e*tt(t/2)/tt(t),t]};function fN(){var e=2,r=tn(v5),t=r(e);return t.coefficient=function(n){return arguments.length?r(e=+n):e},t.scale(169.529)}function g5(e){var r=rt(e),t=tt(e),n=hC(e);n.invert=hC(-e);function i(a,o){var s=n(a,o);a=s[0],o=s[1];var u=rt(o),l=tt(o),f=tt(a),c=Pr(r*u+t*l*f),h=rt(c),v=ut(h)>wt?c/h:1;return[v*t*rt(a),(ut(a)>_t?v:-v)*(r*l-t*u*f)]}return i.invert=function(a,o){var s=ot(a*a+o*o),u=-rt(s),l=tt(s),f=s*l,c=-o*u,h=s*r,v=ot(f*f+c*c-h*h),g=ae(f*h+c*v,c*h-f*v),d=(s>_t?-1:1)*ae(a*u,s*tt(g)*l+o*rt(g)*u);return n.invert(d,g)},i}function hC(e){var r=rt(e),t=tt(e);return function(n,i){var a=tt(i),o=tt(n)*a,s=rt(n)*a,u=rt(i);return[ae(s,o*t-u*r),Bt(u*t+o*r)]}}function cN(){var e=0,r=tn(g5),t=r(e),n=t.rotate,i=t.stream,a=_b();return t.parallel=function(o){if(!arguments.length)return e*Fe;var s=t.rotate();return r(e=o*he).rotate(s)},t.rotate=function(o){return arguments.length?(n.call(t,[o[0],o[1]-e*Fe]),a.center([-o[0],-o[1]]),t):(o=n.call(t),o[1]+=e*Fe,o)},t.stream=function(o){return o=i(o),o.sphere=function(){o.polygonStart();var s=.01,u=a.radius(90-s)().coordinates[0],l=u.length-1,f=-1,c;for(o.lineStart();++f<l;)o.point((c=u[f])[0],c[1]);for(o.lineEnd(),u=a.radius(90+s)().coordinates[0],l=u.length-1,o.lineStart();--f>=0;)o.point((c=u[f])[0],c[1]);o.lineEnd(),o.polygonEnd()},o},t.scale(79.4187).parallel(45).clipAngle(180-.001)}var Y1=41+48/36+37/3600,ny=Ax(0);function d5(e){var r=Y1*he,t=qi(nt,r)[0]-qi(-nt,r)[0],n=ny(0,r)[1],i=qi(0,r)[1],a=hi-i,o=Si/e,s=4/Si,u=n+a*a*4/Si;function l(f,c){var h,v=ut(c);if(v>r){var g=bi(e-1,Bf(0,Bu((f+nt)/o)));f+=nt*(e-1)/e-g*o,h=qi(f,v),h[0]=h[0]*Si/t-Si*(e-1)/(2*e)+g*Si/e,h[1]=n+(h[1]-i)*4*a/Si,c<0&&(h[1]=-h[1])}else h=ny(f,c);return h[0]*=s,h[1]/=u,h}return l.invert=function(f,c){f/=s,c*=u;var h=ut(c);if(h>n){var v=bi(e-1,Bf(0,Bu((f+nt)/o)));f=(f+nt*(e-1)/e-v*o)*t/Si;var g=qi.invert(f,.25*(h-n)*Si/a+i);return g[0]-=nt*(e-1)/e-v*o,c<0&&(g[1]=-g[1]),g}return ny.invert(f,c)},l}function hN(e){return{type:"Polygon",coordinates:[go(-180,180+e/2,e).map(function(r,t){return[r,t&1?90-1e-6:Y1]}).concat(go(180,-180-e/2,-e).map(function(r,t){return[r,t&1?-90+1e-6:-Y1]}))]}}function vN(){var e=4,r=tn(d5),t=r(e),n=t.stream;return t.lobes=function(i){return arguments.length?r(e=+i):e},t.stream=function(i){var a=t.rotate(),o=n(i),s=(t.rotate([0,0]),n(i));return t.rotate(a),o.sphere=function(){yn(hN(180/e),s)},o},t.scale(239.75)}function y5(e){var r=1+e,t=rt(1/r),n=Bt(t),i=2*ot(nt/(a=nt+4*n*r)),a,o=.5*i*(r+ot(e*(2+e))),s=e*e,u=r*r;function l(f,c){var h=1-rt(c),v,g;if(h&&h<2){var d=_t-c,m=25,x;do{var E=rt(d),_=tt(d),M=n+ae(E,r-_),A=1+u-2*r*_;d-=x=(d-s*n-r*E+A*M-.5*h*a)/(2*r*E*M)}while(ut(x)>Ju&&--m>0);v=i*ot(A),g=f*M/nt}else v=i*(e+h),g=f*n/nt;return[v*rt(g),o-v*tt(g)]}return l.invert=function(f,c){var h=f*f+(c-=o)*c,v=(1+u-h/(i*i))/(2*r),g=Pr(v),d=rt(g),m=n+ae(d,r-v);return[Bt(f/ot(h))*nt/m,Bt(1-2*(g-s*n-r*d+(1+u-2*r*v)*m)/a)]},l}function pN(){var e=1,r=tn(y5),t=r(e);return t.ratio=function(n){return arguments.length?r(e=+n):e},t.scale(167.774).center([0,18.67])}var pg=.7109889596207567,Ru=.0528035274542;function gg(e,r){return r>-pg?(e=$o(e,r),e[1]+=Ru,e):Ya(e,r)}gg.invert=function(e,r){return r>-pg?$o.invert(e,r-Ru):Ya.invert(e,r)};function gN(){return At(gg).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function dg(e,r){return ut(r)>pg?(e=$o(e,r),e[1]-=r>0?Ru:-Ru,e):Ya(e,r)}dg.invert=function(e,r){return ut(r)>pg?$o.invert(e,r+(r>0?Ru:-Ru)):Ya.invert(e,r)};function dN(){return At(dg).scale(152.63)}function yN(e,r){return ut(e[0]-r[0])<wt&&ut(e[1]-r[1])<wt}function vC(e,r){for(var t=-1,n=e.length,i=e[0],a,o,s,u=[];++t<n;){a=e[t],o=(a[0]-i[0])/r,s=(a[1]-i[1])/r;for(var l=0;l<r;++l)u.push([i[0]+l*o,i[1]+l*s]);i=a}return u.push(a),u}function mN(e){var r=[],t,n,i,a,o,s,u,l=e[0].length;for(u=0;u<l;++u)t=e[0][u],n=t[0][0],i=t[0][1],a=t[1][1],o=t[2][0],s=t[2][1],r.push(vC([[n+wt,i+wt],[n+wt,a-wt],[o-wt,a-wt],[o-wt,s+wt]],30));for(u=e[1].length-1;u>=0;--u)t=e[1][u],n=t[0][0],i=t[0][1],a=t[1][1],o=t[2][0],s=t[2][1],r.push(vC([[o-wt,s-wt],[o-wt,a+wt],[n+wt,a+wt],[n+wt,i-wt]],30));return{type:"Polygon",coordinates:[gx(r)]}}function Ds(e,r){var t=mN(r);r=r.map(function(s){return s.map(function(u){return[[u[0][0]*he,u[0][1]*he],[u[1][0]*he,u[1][1]*he],[u[2][0]*he,u[2][1]*he]]})});var n=r.map(function(s){return s.map(function(u){var l=e(u[0][0],u[0][1])[0],f=e(u[2][0],u[2][1])[0],c=e(u[1][0],u[0][1])[1],h=e(u[1][0],u[1][1])[1],v;return c>h&&(v=c,c=h,h=v),[[l,c],[f,h]]})});function i(s,u){for(var l=u<0?-1:1,f=r[+(u<0)],c=0,h=f.length-1;c<h&&s>f[c][2][0];++c);var v=e(s-f[c][1][0],u);return v[0]+=e(f[c][1][0],l*u>l*f[c][0][1]?f[c][0][1]:u)[0],v}e.invert&&(i.invert=function(s,u){for(var l=n[+(u<0)],f=r[+(u<0)],c=0,h=l.length;c<h;++c){var v=l[c];if(v[0][0]<=s&&s<v[1][0]&&v[0][1]<=u&&u<v[1][1]){var g=e.invert(s-e(f[c][1][0],0)[0],u);return g[0]+=f[c][1][0],yN(i(g[0],g[1]),[s,u])?g:null}}});var a=At(i),o=a.stream;return a.stream=function(s){var u=a.rotate(),l=o(s),f=(a.rotate([0,0]),o(s));return a.rotate(u),l.sphere=function(){yn(t,f)},l},a}var xN=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function wN(){return Ds(fg,xN).scale(160.857)}var _N=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function EN(){return Ds(dg,_N).scale(152.63)}var MN=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function CN(){return Ds($o,MN).scale(169.529)}var SN=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function TN(){return Ds($o,SN).scale(169.529).rotate([20,0])}var AN=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function PN(){return Ds(gg,AN).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var bN=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function LN(){return Ds(Ya,bN).scale(152.63).rotate([-20,0])}function $x(e,r){return[3/Si*e*ot(nt*nt/3-r*r),r]}$x.invert=function(e,r){return[Si/3*e/ot(nt*nt/3-r*r),r]};function ON(){return At($x).scale(158.837)}function m5(e){function r(t,n){if(ut(ut(n)-_t)<wt)return[0,n<0?-2:2];var i=rt(n),a=W1((1+i)/(1-i),e/2),o=.5*(a+1/a)+tt(t*=e);return[2*rt(t)/o,(a-1/a)/o]}return r.invert=function(t,n){var i=ut(n);if(ut(i-2)<wt)return t?null:[0,ie(n)*_t];if(i>2)return null;t/=2,n/=2;var a=t*t,o=n*n,s=2*n/(1+a+o);return s=W1((1+s)/(1-s),1/e),[ae(2*t,1-a-o)/e,Bt((s-1)/(s+1))]},r}function IN(){var e=.5,r=tn(m5),t=r(e);return t.spacing=function(n){return arguments.length?r(e=+n):e},t.scale(124.75)}var iy=nt/xe;function Nx(e,r){return[e*(1+ot(tt(r)))/2,r/(tt(r/2)*tt(e/6))]}Nx.invert=function(e,r){var t=ut(e),n=ut(r),i=wt,a=_t;n<iy?a*=n/iy:i+=6*Pr(iy/n);for(var o=0;o<25;o++){var s=rt(a),u=ot(tt(a)),l=rt(a/2),f=tt(a/2),c=rt(i/6),h=tt(i/6),v=.5*i*(1+u)-t,g=a/(f*h)-n,d=u?-.25*i*s/u:0,m=.5*(1+u),x=(1+.5*a*l/f)/(f*h),E=a/f*(c/6)/(h*h),_=d*E-x*m,M=(v*E-g*m)/_,A=(g*d-v*x)/_;if(a-=M,i-=A,ut(M)<wt&&ut(A)<wt)break}return[e<0?-i:i,r<0?-a:a]};function DN(){return At(Nx).scale(97.2672)}function zx(e,r){var t=e*e,n=r*r;return[e*(.975534+n*(-.119161+t*-.0143059+n*-.0547009)),r*(1.00384+t*(.0802894+n*-.02855+t*199025e-9)+n*(.0998909+n*-.0491032))]}zx.invert=function(e,r){var t=ie(e)*nt,n=r/2,i=50;do{var a=t*t,o=n*n,s=t*n,u=t*(.975534+o*(-.119161+a*-.0143059+o*-.0547009))-e,l=n*(1.00384+a*(.0802894+o*-.02855+a*199025e-9)+o*(.0998909+o*-.0491032))-r,f=.975534-o*(.119161+3*a*.0143059+o*.0547009),c=-s*(2*.119161+4*.0547009*o+2*.0143059*a),h=s*(2*.0802894+4*199025e-9*a+2*-.02855*o),v=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-5*.0491032*o),g=c*h-v*f,d=(l*c-u*v)/g,m=(u*h-l*f)/g;t-=d,n-=m}while((ut(d)>wt||ut(m)>wt)&&--i>0);return i&&[t,n]};function BN(){return At(zx).scale(139.98)}function Gx(e,r){return[rt(e)/tt(r),Kt(r)*tt(e)]}Gx.invert=function(e,r){var t=e*e,n=r*r,i=n+1,a=e?oi*ot((i-ot(t*t+2*t*(n-1)+i*i))/t+1):1/ot(i);return[Bt(e*a),ie(r)*Pr(a)]};function RN(){return At(Gx).scale(144.049).clipAngle(90-.001)}function x5(e){var r=tt(e),t=Kt(wn+e/2);function n(i,a){var o=a-e,s=ut(o)<wt?i*r:ut(s=wn+a/2)<wt||ut(ut(s)-_t)<wt?0:i*o/pr(Kt(s)/t);return[s,o]}return n.invert=function(i,a){var o,s=a+e;return[ut(a)<wt?i/r:ut(o=wn+s/2)<wt||ut(ut(o)-_t)<wt?0:i*pr(Kt(o)/t)/a,s]},n}function FN(){return tl(x5).parallel(40).scale(158.837)}function Wx(e,r){return[e,1.25*pr(Kt(wn+.4*r))]}Wx.invert=function(e,r){return[e,2.5*qe(aa(.8*r))-.625*nt]};function kN(){return At(Wx).scale(108.318)}function w5(e){var r=e.length-1;function t(n,i){for(var a=tt(i),o=2/(1+a*tt(n)),s=o*a*rt(n),u=o*rt(i),l=r,f=e[l],c=f[0],h=f[1],v;--l>=0;)f=e[l],c=f[0]+s*(v=c)-u*h,h=f[1]+s*h+u*v;return c=s*(v=c)-u*h,h=s*h+u*v,[c,h]}return t.invert=function(n,i){var a=20,o=n,s=i;do{for(var u=r,l=e[u],f=l[0],c=l[1],h=0,v=0,g;--u>=0;)l=e[u],h=f+o*(g=h)-s*v,v=c+o*v+s*g,f=l[0]+o*(g=f)-s*c,c=l[1]+o*c+s*g;h=f+o*(g=h)-s*v,v=c+o*v+s*g,f=o*(g=f)-s*c-n,c=o*c+s*g-i;var d=h*h+v*v,m,x;o-=m=(f*h+c*v)/d,s-=x=(c*h-f*v)/d}while(ut(m)+ut(x)>wt*wt&&--a>0);if(a){var E=ot(o*o+s*s),_=2*qe(E*.5),M=rt(_);return[ae(o*M,E*tt(_)),E?Bt(s*M/E):0]}},t}var $N=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],NN=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],zN=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],GN=[[.9245,0],[0,0],[.01943,0]],WN=[[.721316,0],[0,0],[-.00881625,-.00617325]];function YN(){return el($N,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function HN(){return el(NN,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function XN(){return el(zN,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function VN(){return el(GN,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function UN(){return el(WN,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function el(e,r){var t=At(w5(e)).rotate(r).clipAngle(90),n=Ou(r),i=t.center;return delete t.rotate,t.center=function(a){return arguments.length?i(n(a)):n.invert(i())},t}var fp=ot(6),cp=ot(7);function Yx(e,r){var t=Bt(7*rt(r)/(3*fp));return[fp*e*(2*tt(2*t/3)-1)/cp,9*rt(t/3)/cp]}Yx.invert=function(e,r){var t=3*Bt(r*cp/9);return[e*cp/(fp*(2*tt(2*t/3)-1)),Bt(rt(t)*3*fp/7)]};function KN(){return At(Yx).scale(164.859)}function Hx(e,r){for(var t=(1+oi)*rt(r),n=r,i=0,a;i<25&&(n-=a=(rt(n/2)+rt(n)-t)/(.5*tt(n/2)+tt(n)),!(ut(a)<wt));i++);return[e*(1+2*tt(n)/tt(n/2))/(3*xe),2*ot(3)*rt(n/2)/ot(2+xe)]}Hx.invert=function(e,r){var t=r*ot(2+xe)/(2*ot(3)),n=2*Bt(t);return[3*xe*e/(1+2*tt(n)/tt(n/2)),Bt((t+rt(n))/(1+oi))]};function qN(){return At(Hx).scale(188.209)}function Xx(e,r){for(var t=ot(6/(4+nt)),n=(1+nt/4)*rt(r),i=r/2,a=0,o;a<25&&(i-=o=(i/2+rt(i)-n)/(.5+tt(i)),!(ut(o)<wt));a++);return[t*(.5+tt(i))*e/1.5,t*i]}Xx.invert=function(e,r){var t=ot(6/(4+nt)),n=r/t;return ut(ut(n)-_t)<wt&&(n=n<0?-_t:_t),[1.5*e/(t*(.5+tt(n))),Bt((n/2+rt(n))/(1+nt/4))]};function jN(){return At(Xx).scale(166.518)}function Vx(e,r){var t=r*r,n=t*t;return[e*(.8707-.131979*t+n*(-.013791+n*(.003971*t-.001529*n))),r*(1.007226+t*(.015085+n*(-.044475+.028874*t-.005916*n)))]}Vx.invert=function(e,r){var t=r,n=25,i;do{var a=t*t,o=a*a;t-=i=(t*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-r)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(ut(i)>wt&&--n>0);return[e/(.8707+(a=t*t)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),t]};function ZN(){return At(Vx).scale(175.295)}function Ux(e,r){var t=r*r,n=t*t,i=t*n;return[e*(.84719-.13063*t+i*i*(-.04515+.05494*t-.02326*n+.00331*i)),r*(1.01183+n*n*(-.02625+.01926*t-.00396*n))]}Ux.invert=function(e,r){var t=r,n=25,i,a,o,s;do a=t*t,o=a*a,t-=i=(t*(1.01183+o*o*(-.02625+.01926*a-.00396*o))-r)/(1.01183+o*o*(9*-.02625+11*.01926*a+13*-.00396*o));while(ut(i)>Ju&&--n>0);return a=t*t,o=a*a,s=a*o,[e/(.84719-.13063*a+s*s*(-.04515+.05494*a-.02326*o+.00331*s)),t]};function QN(){return At(Ux).scale(175.295)}function Kx(e,r){return[e*(1+tt(r))/2,2*(r-Kt(r/2))]}Kx.invert=function(e,r){for(var t=r/2,n=0,i=1/0;n<10&&ut(i)>wt;++n){var a=tt(r/2);r-=i=(r-Kt(r/2)-t)/(1-.5/(a*a))}return[2*e/(1+tt(r)),r]};function JN(){return At(Kx).scale(152.63)}var qx=1.0148,jx=.23185,Zx=-.14499,Qx=.02406,tz=qx,ez=5*jx,rz=7*Zx,nz=9*Qx,Ch=1.790857183;function Jx(e,r){var t=r*r;return[e,r*(qx+t*t*(jx+t*(Zx+Qx*t)))]}Jx.invert=function(e,r){r>Ch?r=Ch:r<-Ch&&(r=-Ch);var t=r,n;do{var i=t*t;t-=n=(t*(qx+i*i*(jx+i*(Zx+Qx*i)))-r)/(tz+i*i*(ez+i*(rz+nz*i)))}while(ut(n)>wt);return[e,t]};function iz(){return At(Jx).scale(139.319)}function tw(e,r){if(ut(r)<wt)return[e,0];var t=Kt(r),n=e*rt(r);return[rt(n)/t,r+(1-tt(n))/t]}tw.invert=function(e,r){if(ut(r)<wt)return[e,0];var t=e*e+r*r,n=r*.5,i=10,a;do{var o=Kt(n),s=1/tt(n),u=t-2*r*n+n*n;n-=a=(o*u+2*(n-r))/(2+u*s*s+2*(n-r)*o)}while(ut(a)>wt&&--i>0);return o=Kt(n),[(ut(r)<ut(n+1/o)?Bt(e*o):ie(e)*(Pr(ut(e*o))+_t))/rt(n),n]};function az(){return At(tw).scale(103.74)}function oz(e,r){var t=pC(e[1],e[0]),n=pC(r[1],r[0]),i=uz(t,n),a=gC(t)/gC(n);return Ev([1,0,e[0][0],0,1,e[0][1]],Ev([a,0,0,0,a,0],Ev([tt(i),rt(i),0,-rt(i),tt(i),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function sz(e){var r=1/(e[0]*e[4]-e[1]*e[3]);return[r*e[4],-r*e[1],r*(e[1]*e[5]-e[2]*e[4]),-r*e[3],r*e[0],r*(e[2]*e[3]-e[0]*e[5])]}function Ev(e,r){return[e[0]*r[0]+e[1]*r[3],e[0]*r[1]+e[1]*r[4],e[0]*r[2]+e[1]*r[5]+e[2],e[3]*r[0]+e[4]*r[3],e[3]*r[1]+e[4]*r[4],e[3]*r[2]+e[4]*r[5]+e[5]]}function pC(e,r){return[e[0]-r[0],e[1]-r[1]]}function gC(e){return ot(e[0]*e[0]+e[1]*e[1])}function uz(e,r){return ae(e[0]*r[1]-e[1]*r[0],e[0]*r[0]+e[1]*r[1])}function yg(e,r,t){t=t==null?-nt/6:t,n(e,{transform:[tt(t),rt(t),0,-rt(t),tt(t),0]});function n(l,f){if(l.edges=fz(l.face),f.face){var c=l.shared=lz(l.face,f.face),h=oz(c.map(f.project),c.map(l.project));l.transform=f.transform?Ev(f.transform,h):h;for(var v=f.edges,g=0,d=v.length;g<d;++g)to(c[0],v[g][1])&&to(c[1],v[g][0])&&(v[g]=l),to(c[0],v[g][0])&&to(c[1],v[g][1])&&(v[g]=l);for(v=l.edges,g=0,d=v.length;g<d;++g)to(c[0],v[g][0])&&to(c[1],v[g][1])&&(v[g]=f),to(c[0],v[g][1])&&to(c[1],v[g][0])&&(v[g]=f)}else l.transform=f.transform;return l.children&&l.children.forEach(function(m){n(m,l)}),l}function i(l,f){var c=r(l,f),h=c.project([l*Fe,f*Fe]),v;return(v=c.transform)?[v[0]*h[0]+v[1]*h[1]+v[2],-(v[3]*h[0]+v[4]*h[1]+v[5])]:(h[1]=-h[1],h)}E5(e)&&(i.invert=function(l,f){var c=a(e,[l,-f]);return c&&(c[0]*=he,c[1]*=he,c)});function a(l,f){var c=l.project.invert,h=l.transform,v=f;if(h&&(h=sz(h),v=[h[0]*v[0]+h[1]*v[1]+h[2],h[3]*v[0]+h[4]*v[1]+h[5]]),c&&l===o(g=c(v)))return g;for(var g,d=l.children,m=0,x=d&&d.length;m<x;++m)if(g=a(d[m],f))return g}function o(l){return r(l[0]*he,l[1]*he)}var s=At(i),u=s.stream;return s.stream=function(l){var f=s.rotate(),c=u(l),h=(s.rotate([0,0]),u(l));return s.rotate(f),c.sphere=function(){h.polygonStart(),h.lineStart(),_5(h,e),h.lineEnd(),h.polygonEnd()},c},s}function _5(e,r,t){var n,i=r.edges,a=i.length,o,s={type:"MultiPoint",coordinates:r.face},u=r.face.filter(function(d){return ut(d[1])!==90}),l=gb({type:"MultiPoint",coordinates:u}),f=!1,c=-1,h=l[1][0]-l[0][0],v=h===180||h===360?[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]:Qu(s);if(t)for(;++c<a&&i[c]!==t;);++c;for(var g=0;g<a;++g)o=i[(g+c)%a],Array.isArray(o)?(f||(e.point((n=Qv(o[0],v)(wt))[0],n[1]),f=!0),e.point((n=Qv(o[1],v)(wt))[0],n[1])):(f=!1,o!==t&&_5(e,o,r))}function to(e,r){return e&&r&&e[0]===r[0]&&e[1]===r[1]}function lz(e,r){for(var t,n,i=e.length,a=null,o=0;o<i;++o){t=e[o];for(var s=r.length;--s>=0;)if(n=r[s],t[0]===n[0]&&t[1]===n[1]){if(a)return[a,t];a=t}}}function fz(e){for(var r=e.length,t=[],n=e[r-1],i=0;i<r;++i)t.push([n,n=e[i]]);return t}function E5(e){return e.project.invert||e.children&&e.children.some(E5)}var cz=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],hp=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(e){return e.map(function(r){return cz[r]})});function hz(e){e=e||function(t){var n=Qu({type:"MultiPoint",coordinates:t});return xx().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var r=hp.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var i=r[t];i&&(i.children||(i.children=[])).push(r[n])}),yg(r[0],function(t,n){return r[t<-nt/2?n<0?6:4:t<0?n<0?2:0:t<nt/2?n<0?3:1:n<0?7:5]}).scale(101.858).center([0,45])}var M5=2/ot(3);function C5(e,r){var t=qi(e,r);return[t[0]*M5,t[1]]}C5.invert=function(e,r){return qi.invert(e/M5,r)};function vz(e){e=e||function(t){var n=Qu({type:"MultiPoint",coordinates:t});return At(C5).translate([0,0]).scale(1).rotate(n[1]>0?[-n[0],0]:[180-n[0],180])};var r=hp.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var i=r[t];i&&(i.children||(i.children=[])).push(r[n])}),yg(r[0],function(t,n){return r[t<-nt/2?n<0?6:4:t<0?n<0?2:0:t<nt/2?n<0?3:1:n<0?7:5]}).scale(121.906).center([0,48.5904])}function pz(e){e=e||function(o){var s=o.length===6?Qu({type:"MultiPoint",coordinates:o}):o[0];return xx().scale(1).translate([0,0]).rotate([-s[0],-s[1]])};var r=hp.map(function(o){for(var s=o.map(oy),u=s.length,l=s[u-1],f,c=[],h=0;h<u;++h)f=s[h],c.push(dC([l[0]*.9486832980505138+f[0]*.31622776601683794,l[1]*.9486832980505138+f[1]*.31622776601683794,l[2]*.9486832980505138+f[2]*.31622776601683794]),dC([f[0]*.9486832980505138+l[0]*.31622776601683794,f[1]*.9486832980505138+l[1]*.31622776601683794,f[2]*.9486832980505138+l[2]*.31622776601683794])),l=f;return c}),t=[],n=[-1,0,0,1,0,1,4,5];r.forEach(function(o,s){for(var u=hp[s],l=u.length,f=t[s]=[],c=0;c<l;++c)r.push([u[c],o[(c*2+2)%(2*l)],o[(c*2+1)%(2*l)]]),n.push(s),f.push(gz(oy(o[(c*2+2)%(2*l)]),oy(o[(c*2+1)%(2*l)])))});var i=r.map(function(o){return{project:e(o),face:o}});n.forEach(function(o,s){var u=i[o];u&&(u.children||(u.children=[])).push(i[s])});function a(o,s){var u=tt(s),l=[u*tt(o),u*rt(o),rt(s)],f=o<-nt/2?s<0?6:4:o<0?s<0?2:0:o<nt/2?s<0?3:1:s<0?7:5,c=t[f];return i[ay(c[0],l)<0?8+3*f:ay(c[1],l)<0?8+3*f+1:ay(c[2],l)<0?8+3*f+2:f]}return yg(i[0],a).scale(110.625).center([0,45])}function ay(e,r){for(var t=0,n=e.length,i=0;t<n;++t)i+=e[t]*r[t];return i}function gz(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function dC(e){return[ae(e[1],e[0])*Fe,Bt(Bf(-1,bi(1,e[2])))*Fe]}function oy(e){var r=e[0]*he,t=e[1]*he,n=tt(t);return[n*tt(r),n*rt(r),rt(t)]}function Mv(){}function dz(e){if((t=e.length)<4)return!1;for(var r=0,t,n=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];++r<t;)n+=e[r-1][1]*e[r][0]-e[r-1][0]*e[r][1];return n<=0}function yz(e,r){for(var t=r[0],n=r[1],i=!1,a=0,o=e.length,s=o-1;a<o;s=a++){var u=e[a],l=u[0],f=u[1],c=e[s],h=c[0],v=c[1];f>n^v>n&&t<(h-l)*(n-f)/(v-f)+l&&(i=!i)}return i}function mz(e,r){var t=r.stream,n;if(!t)throw new Error("invalid projection");switch(e&&e.type){case"Feature":n=S5;break;case"FeatureCollection":n=xz;break;default:n=ew;break}return n(e,t)}function xz(e,r){return{type:"FeatureCollection",features:e.features.map(function(t){return S5(t,r)})}}function S5(e,r){return{type:"Feature",id:e.id,properties:e.properties,geometry:ew(e.geometry,r)}}function wz(e,r){return{type:"GeometryCollection",geometries:e.geometries.map(function(t){return ew(t,r)})}}function ew(e,r){if(!e)return null;if(e.type==="GeometryCollection")return wz(e,r);var t;switch(e.type){case"Point":t=yC;break;case"MultiPoint":t=yC;break;case"LineString":t=mC;break;case"MultiLineString":t=mC;break;case"Polygon":t=sy;break;case"MultiPolygon":t=sy;break;case"Sphere":t=sy;break;default:return null}return yn(e,r(t)),t.result()}var Fr=[],Xi=[],yC={point:function(e,r){Fr.push([e,r])},result:function(){var e=Fr.length?Fr.length<2?{type:"Point",coordinates:Fr[0]}:{type:"MultiPoint",coordinates:Fr}:null;return Fr=[],e}},mC={lineStart:Mv,point:function(e,r){Fr.push([e,r])},lineEnd:function(){Fr.length&&(Xi.push(Fr),Fr=[])},result:function(){var e=Xi.length?Xi.length<2?{type:"LineString",coordinates:Xi[0]}:{type:"MultiLineString",coordinates:Xi}:null;return Xi=[],e}},sy={polygonStart:Mv,lineStart:Mv,point:function(e,r){Fr.push([e,r])},lineEnd:function(){var e=Fr.length;if(e){do Fr.push(Fr[0].slice());while(++e<4);Xi.push(Fr),Fr=[]}},polygonEnd:Mv,result:function(){if(!Xi.length)return null;var e=[],r=[];return Xi.forEach(function(t){dz(t)?e.push([t]):r.push(t)}),r.forEach(function(t){var n=t[0];e.some(function(i){if(yz(i[0],n))return i.push(t),!0})||e.push([t])}),Xi=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}};function rw(e){var r=e(_t,0)[0]-e(-_t,0)[0];function t(n,i){var a=ut(n)<_t,o=e(a?n:n>0?n-nt:n+nt,i),s=(o[0]-o[1])*oi,u=(o[0]+o[1])*oi;if(a)return[s,u];var l=r*oi,f=s>0^u>0?-1:1;return[f*s-ie(u)*l,f*u-ie(s)*l]}return e.invert&&(t.invert=function(n,i){var a=(n+i)*oi,o=(i-n)*oi,s=ut(a)<.5*r&&ut(o)<.5*r;if(!s){var u=r*oi,l=a>0^o>0?-1:1,f=-l*n+(o>0?1:-1)*u,c=-l*i+(a>0?1:-1)*u;a=(-f-c)*oi,o=(f-c)*oi}var h=e.invert(a,o);return s||(h[0]+=a>0?nt:-nt),h}),At(t).rotate([-90,-90,45]).clipAngle(180-.001)}function _z(){return rw(hg).scale(176.423)}function xC(){return rw(vg).scale(111.48)}function Ez(e,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function t(u){var l=u.length,f=2,c=new Array(l);for(c[0]=+u[0].toFixed(r),c[1]=+u[1].toFixed(r);f<l;)c[f]=u[f],++f;return c}function n(u){return u.map(t)}function i(u){return u.map(n)}function a(u){if(u==null)return u;var l;switch(u.type){case"GeometryCollection":l={type:"GeometryCollection",geometries:u.geometries.map(a)};break;case"Point":l={type:"Point",coordinates:t(u.coordinates)};break;case"MultiPoint":case"LineString":l={type:u.type,coordinates:n(u.coordinates)};break;case"MultiLineString":case"Polygon":l={type:u.type,coordinates:i(u.coordinates)};break;case"MultiPolygon":l={type:"MultiPolygon",coordinates:u.coordinates.map(i)};break;default:return u}return u.bbox!=null&&(l.bbox=u.bbox),l}function o(u){var l={type:"Feature",properties:u.properties,geometry:a(u.geometry)};return u.id!=null&&(l.id=u.id),u.bbox!=null&&(l.bbox=u.bbox),l}if(e!=null)switch(e.type){case"Feature":return o(e);case"FeatureCollection":{var s={type:"FeatureCollection",features:e.features.map(o)};return e.bbox!=null&&(s.bbox=e.bbox),s}default:return a(e)}return e}function T5(e){var r=rt(e);function t(n,i){var a=r?Kt(n*r/2)/r:n/2;if(!i)return[2*a,-e];var o=2*qe(a*rt(i)),s=1/Kt(i);return[rt(o)*s,i+(1-tt(o))*s-e]}return t.invert=function(n,i){if(ut(i+=e)<wt)return[r?2*qe(r*n/2)/r:n,0];var a=n*n+i*i,o=0,s=10,u;do{var l=Kt(o),f=1/tt(o),c=a-2*i*o+o*o;o-=u=(l*c+2*(o-i))/(2+c*f*f+2*(o-i)*l)}while(ut(u)>wt&&--s>0);var h=n*(l=Kt(o)),v=Kt(ut(i)<ut(o+1/l)?Bt(h)*.5:Pr(h)*.5+nt/4)/rt(o);return[r?2*qe(r*v)/r:2*v,o]},t}function Mz(){return tl(T5).scale(131.215)}var Fn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Fn.forEach(function(e){e[1]*=1.0144});function nw(e,r){var t=bi(18,ut(r)*36/nt),n=Bu(t),i=t-n,a=(c=Fn[n])[0],o=c[1],s=(c=Fn[++n])[0],u=c[1],l=(c=Fn[bi(19,++n)])[0],f=c[1],c;return[e*(s+i*(l-a)/2+i*i*(l-2*s+a)/2),(r>0?_t:-_t)*(u+i*(f-o)/2+i*i*(f-2*u+o)/2)]}nw.invert=function(e,r){var t=r/_t,n=t*90,i=bi(18,ut(n/5)),a=Bf(0,Bu(i));do{var o=Fn[a][1],s=Fn[a+1][1],u=Fn[bi(19,a+2)][1],l=u-o,f=u-2*s+o,c=2*(ut(t)-s)/l,h=f/l,v=c*(1-h*c*(1-2*h*c));if(v>=0||a===1){n=(r>=0?5:-5)*(v+i);var g=50,d;do i=bi(18,ut(n)/5),a=Bu(i),v=i-a,o=Fn[a][1],s=Fn[a+1][1],u=Fn[bi(19,a+2)][1],n-=(d=(r>=0?_t:-_t)*(s+v*(u-o)/2+v*v*(u-2*s+o)/2)-r)*Fe;while(ut(d)>Ju&&--g>0);break}}while(--a>=0);var m=Fn[a][0],x=Fn[a+1][0],E=Fn[bi(19,a+2)][0];return[e/(x+v*(E-m)/2+v*v*(E-2*x+m)/2),n*he]};function Cz(){return At(nw).scale(152.63)}function Sz(e){function r(t,n){var i=tt(n),a=(e-1)/(e-i*tt(t));return[a*i*rt(t),a*rt(n)]}return r.invert=function(t,n){var i=t*t+n*n,a=ot(i),o=(e-ot(1-i*(e+1)/(e-1)))/((e-1)/a+a/(e-1));return[ae(t*o,a*ot(1-o*o)),a?Bt(n*o/a):0]},r}function A5(e,r){var t=Sz(e);if(!r)return t;var n=tt(r),i=rt(r);function a(o,s){var u=t(o,s),l=u[1],f=l*i/(e-1)+n;return[u[0]*n/f,l/f]}return a.invert=function(o,s){var u=(e-1)/(e-1-s*i);return t.invert(u*o,u*s*n)},a}function Tz(){var e=2,r=0,t=tn(A5),n=t(e,r);return n.distance=function(i){return arguments.length?t(e=+i,r):e},n.tilt=function(i){return arguments.length?t(e,r=i*he):r*Fe},n.scale(432.147).clipAngle(Pr(1/e)*Fe-1e-6)}var mg=1e-4,wC=1e4,iw=-180,H1=iw+mg,P5=180,X1=P5-mg,aw=-90,V1=aw+mg,ow=90,U1=ow-mg;function Az(e){return e.length>0}function Pz(e){return Math.floor(e*wC)/wC}function _C(e){return e===aw||e===ow?[0,e]:[iw,Pz(e)]}function sw(e){var r=e[0],t=e[1],n=!1;return r<=H1?(r=iw,n=!0):r>=X1&&(r=P5,n=!0),t<=V1?(t=aw,n=!0):t>=U1&&(t=ow,n=!0),n?[r,t]:e}function EC(e){return e.map(sw)}function MC(e,r,t){for(var n=0,i=e.length;n<i;++n){var a=e[n].slice();t.push({index:-1,polygon:r,ring:a});for(var o=0,s=a.length;o<s;++o){var u=a[o],l=u[0],f=u[1];if(l<=H1||l>=X1||f<=V1||f>=U1){a[o]=sw(u);for(var c=o+1;c<s;++c){var h=a[c],v=h[0],g=h[1];if(v>H1&&v<X1&&g>V1&&g<U1)break}if(c===o+1)continue;if(o){var d={index:-1,polygon:r,ring:a.slice(0,o+1)};d.ring[d.ring.length-1]=_C(f),t[t.length-1]=d}else t.pop();if(c>=s)break;t.push({index:-1,polygon:r,ring:a=a.slice(c-1)}),a[0]=_C(a[0][1]),o=-1,s=a.length}}}}function CC(e){var r,t=e.length,n={},i={},a,o,s,u,l;for(r=0;r<t;++r){if(a=e[r],o=a.ring[0],u=a.ring[a.ring.length-1],o[0]===u[0]&&o[1]===u[1]){a.polygon.push(a.ring),e[r]=null;continue}a.index=r,n[o]=i[u]=a}for(r=0;r<t;++r)if(a=e[r],a){if(o=a.ring[0],u=a.ring[a.ring.length-1],s=i[o],l=n[u],delete n[o],delete i[u],o[0]===u[0]&&o[1]===u[1]){a.polygon.push(a.ring);continue}s?(delete i[o],delete n[s.ring[0]],s.ring.pop(),e[s.index]=null,a={index:-1,polygon:s.polygon,ring:s.ring.concat(a.ring)},s===l?a.polygon.push(a.ring):(a.index=t++,e.push(n[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):l?(delete n[u],delete i[l.ring[l.ring.length-1]],a.ring.pop(),a={index:t++,polygon:l.polygon,ring:a.ring.concat(l.ring)},e[l.index]=null,e.push(n[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function SC(e){var r={type:"Feature",geometry:uw(e.geometry)};return e.id!=null&&(r.id=e.id),e.bbox!=null&&(r.bbox=e.bbox),e.properties!=null&&(r.properties=e.properties),r}function uw(e){if(e==null)return e;var r,t,n,i;switch(e.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:e.geometries.map(uw)};break;case"Point":r={type:"Point",coordinates:sw(e.coordinates)};break;case"MultiPoint":case"LineString":r={type:e.type,coordinates:EC(e.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:e.coordinates.map(EC)};break;case"Polygon":{var a=[];MC(e.coordinates,a,t=[]),CC(t),r={type:"Polygon",coordinates:a};break}case"MultiPolygon":{t=[],n=-1,i=e.coordinates.length;for(var o=new Array(i);++n<i;)MC(e.coordinates[n],o[n]=[],t);CC(t),r={type:"MultiPolygon",coordinates:o.filter(Az)};break}default:return e}return e.bbox!=null&&(r.bbox=e.bbox),r}function bz(e){if(e==null)return e;switch(e.type){case"Feature":return SC(e);case"FeatureCollection":{var r={type:"FeatureCollection",features:e.features.map(SC)};return e.bbox!=null&&(r.bbox=e.bbox),r}default:return uw(e)}}function lw(e,r){var t=Kt(r/2),n=rt(wn*t);return[e*(.74482-.34588*n*n),1.70711*t]}lw.invert=function(e,r){var t=r/1.70711,n=rt(wn*t);return[e/(.74482-.34588*n*n),2*qe(t)]};function Lz(){return At(lw).scale(146.153)}function b5(e,r,t){var n=Qv(r,t),i=n(.5),a=Ou([-i[0],-i[1]])(r),o=n.distance/2,s=-Bt(rt(a[1]*he)/rt(o)),u=[-i[0],-i[1],-(a[0]>0?nt-s:s)*Fe],l=At(e(o)).rotate(u),f=Ou(u),c=l.center;return delete l.rotate,l.center=function(h){return arguments.length?c(f(h)):f.invert(c())},l.clipAngle(90)}function L5(e){var r=tt(e);function t(n,i){var a=Df(n,i);return a[0]*=r,a}return t.invert=function(n,i){return Df.invert(n/r,i)},t}function Oz(){return O5([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function O5(e,r){return b5(L5,e,r)}function I5(e){if(!(e*=2))return Po;var r=-e/2,t=-r,n=e*e,i=Kt(t),a=.5/rt(t);function o(s,u){var l=Pr(tt(u)*tt(s-r)),f=Pr(tt(u)*tt(s-t)),c=u<0?-1:1;return l*=l,f*=f,[(l-f)/(2*e),c*ot(4*n*f-(n-l+f)*(n-l+f))/(2*e)]}return o.invert=function(s,u){var l=u*u,f=tt(ot(l+(h=s+r)*h)),c=tt(ot(l+(h=s+t)*h)),h,v;return[ae(v=f-c,h=(f+c)*i),(u<0?-1:1)*Pr(ot(h*h+v*v)*a)]},o}function Iz(){return D5([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function D5(e,r){return b5(I5,e,r)}function fw(e,r){if(ut(r)<wt)return[e,0];var t=ut(r/_t),n=Bt(t);if(ut(e)<wt||ut(ut(r)-_t)<wt)return[0,ie(r)*nt*Kt(n/2)];var i=tt(n),a=ut(nt/e-e/nt)/2,o=a*a,s=i/(t+i-1),u=s*(2/t-1),l=u*u,f=l+o,c=s-l,h=o+s;return[ie(e)*nt*(a*c+ot(o*c*c-f*(s*s-l)))/f,ie(r)*nt*(u*h-a*ot((o+1)*f-h*h))/f]}fw.invert=function(e,r){if(ut(r)<wt)return[e,0];if(ut(e)<wt)return[0,_t*rt(2*qe(r/nt))];var t=(e/=nt)*e,n=(r/=nt)*r,i=t+n,a=i*i,o=-ut(r)*(1+i),s=o-2*n+t,u=-2*o+1+2*n+a,l=n/u+(2*s*s*s/(u*u*u)-9*o*s/(u*u))/27,f=(o-s*s/(3*u))/u,c=2*ot(-f/3),h=Pr(3*l/(f*c))/3;return[nt*(i-1+ot(1+2*(t-n)+a))/(2*e),ie(r)*nt*(-c*tt(h+nt/3)-s/(3*u))]};function Dz(){return At(fw).scale(79.4183)}function cw(e,r){if(ut(r)<wt)return[e,0];var t=ut(r/_t),n=Bt(t);if(ut(e)<wt||ut(ut(r)-_t)<wt)return[0,ie(r)*nt*Kt(n/2)];var i=tt(n),a=ut(nt/e-e/nt)/2,o=a*a,s=i*(ot(1+o)-a*i)/(1+o*t*t);return[ie(e)*nt*s,ie(r)*nt*ot(1-s*(2*a+s))]}cw.invert=function(e,r){if(!e)return[0,_t*rt(2*qe(r/nt))];var t=ut(e/nt),n=(1-t*t-(r/=nt)*r)/(2*t),i=n*n,a=ot(i+1);return[ie(e)*nt*(a-n),ie(r)*_t*rt(2*ae(ot((1-2*n*t)*(n+a)-t),ot(a+n+t)))]};function Bz(){return At(cw).scale(79.4183)}function hw(e,r){if(ut(r)<wt)return[e,0];var t=r/_t,n=Bt(t);if(ut(e)<wt||ut(ut(r)-_t)<wt)return[0,nt*Kt(n/2)];var i=(nt/e-e/nt)/2,a=t/(1+tt(n));return[nt*(ie(e)*ot(i*i+1-a*a)-i),nt*a]}hw.invert=function(e,r){if(!r)return[e,0];var t=r/nt,n=(nt*nt*(1-t*t)-e*e)/(2*nt*e);return[e?nt*(ie(e)*ot(n*n+1)-n):0,_t*rt(2*qe(t))]};function Rz(){return At(hw).scale(79.4183)}function vw(e,r){if(!r)return[e,0];var t=ut(r);if(!e||t===_t)return[0,r];var n=t/_t,i=n*n,a=(8*n-i*(i+2)-5)/(2*i*(n-1)),o=a*a,s=n*a,u=i+o+2*s,l=n+3*a,f=e/_t,c=f+1/f,h=ie(ut(e)-_t)*ot(c*c-4),v=h*h,g=u*(i+o*v-1)+(1-i)*(i*(l*l+4*o)+12*s*o+4*o*o),d=(h*(u+o-1)+2*ot(g))/(4*u+v);return[ie(e)*_t*d,ie(r)*_t*ot(1+h*ut(d)-d*d)]}vw.invert=function(e,r){var t;if(!e||!r)return[e,r];r/=nt;var n=ie(e)*e/_t,i=(n*n-1+4*r*r)/ut(n),a=i*i,o=2*r,s=50;do{var u=o*o,l=(8*o-u*(u+2)-5)/(2*u*(o-1)),f=(3*o-u*o-10)/(2*u*o),c=l*l,h=o*l,v=o+l,g=v*v,d=o+3*l,m=g*(u+c*a-1)+(1-u)*(u*(d*d+4*c)+c*(12*h+4*c)),x=-2*v*(4*h*c+(1-4*u+3*u*u)*(1+f)+c*(-6+14*u-a+(-8+8*u-2*a)*f)+h*(-8+12*u+(-10+10*u-a)*f)),E=ot(m),_=i*(g+c-1)+2*E-n*(4*g+a),M=i*(2*l*f+2*v*(1+f))+x/E-8*v*(i*(-1+c+g)+2*E)*(1+f)/(a+4*g);o-=t=_/M}while(t>wt&&--s>0);return[ie(e)*(ot(i*i+4)+i)*nt/4,_t*o]};function Fz(){return At(vw).scale(127.16)}var B5=4*nt+3*ot(3),TC=2*ot(2*nt*ot(3)/B5),R5=Sx(TC*ot(3)/nt,TC,B5/6);function kz(){return At(R5).scale(176.84)}function pw(e,r){return[e*ot(1-3*r*r/(nt*nt)),r]}pw.invert=function(e,r){return[e/ot(1-3*r*r/(nt*nt)),r]};function $z(){return At(pw).scale(152.63)}function gw(e,r){var t=.90631*rt(r),n=ot(1-t*t),i=ot(2/(1+n*tt(e/=3)));return[2.66723*n*i*rt(e),1.24104*t*i]}gw.invert=function(e,r){var t=e/2.66723,n=r/1.24104,i=ot(t*t+n*n),a=2*Bt(i/2);return[3*ae(e*Kt(a),2.66723*i),i&&Bt(r*rt(a)/(1.24104*.90631*i))]};function Nz(){return At(gw).scale(172.632)}function dw(e,r){var t=tt(r),n=tt(e)*t,i=1-n,a=tt(e=ae(rt(e)*t,-rt(r))),o=rt(e);return t=ot(1-n*n),[o*t-a*i,-a*t-o*i]}dw.invert=function(e,r){var t=(e*e+r*r)/-2,n=ot(-t*(2+t)),i=r*t+e*n,a=e*t-r*n,o=ot(a*a+i*i);return[ae(n*i,o*(1+t)),o?-Bt(n*a/o):0]};function zz(){return At(dw).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function yw(e,r){var t=ug(e,r);return[(t[0]+e/_t)/2,(t[1]+r)/2]}yw.invert=function(e,r){var t=e,n=r,i=25;do{var a=tt(n),o=rt(n),s=rt(2*n),u=o*o,l=a*a,f=rt(t),c=tt(t/2),h=rt(t/2),v=h*h,g=1-l*c*c,d=g?Pr(a*c)*ot(m=1/g):m=0,m,x=.5*(2*d*a*h+t/_t)-e,E=.5*(d*o+n)-r,_=.5*m*(l*v+d*a*c*u)+.5/_t,M=m*(f*s/4-d*o*h),A=.125*m*(s*h-d*o*l*f),b=.5*m*(u*c+d*v*a)+.5,I=M*A-b*_,L=(E*M-x*b)/I,F=(x*A-E*_)/I;t-=L,n-=F}while((ut(L)>wt||ut(F)>wt)&&--i>0);return[t,n]};function Gz(){return At(yw).scale(158.837)}var Wz=Object.freeze(Object.defineProperty({__proto__:null,geoAiry:w$,geoAiryRaw:qb,geoAitoff:_$,geoAitoffRaw:ug,geoArmadillo:E$,geoArmadilloRaw:jb,geoAugust:M$,geoAugustRaw:lg,geoBaker:S$,geoBakerRaw:Cx,geoBerghaus:T$,geoBerghausRaw:Zb,geoBoggs:P$,geoBoggsRaw:fg,geoBonne:L$,geoBonneRaw:t5,geoBottomley:O$,geoBottomleyRaw:e5,geoBromley:I$,geoBromleyRaw:r5,geoChamberlin:i5,geoChamberlinRaw:n5,geoChamberlinAfrica:B$,geoCollignon:R$,geoCollignonRaw:qi,geoCraig:F$,geoCraigRaw:a5,geoCraster:k$,geoCrasterRaw:Tx,geoCylindricalEqualArea:$$,geoCylindricalEqualAreaRaw:Ax,geoCylindricalStereographic:N$,geoCylindricalStereographicRaw:o5,geoEckert1:z$,geoEckert1Raw:Px,geoEckert2:G$,geoEckert2Raw:bx,geoEckert3:W$,geoEckert3Raw:Lx,geoEckert4:Y$,geoEckert4Raw:Ox,geoEckert5:H$,geoEckert5Raw:Ix,geoEckert6:X$,geoEckert6Raw:Dx,geoEisenlohr:V$,geoEisenlohrRaw:Bx,geoFahey:U$,geoFaheyRaw:Rx,geoFoucaut:K$,geoFoucautRaw:Fx,geoGilbert:q$,geoGingery:j$,geoGingeryRaw:s5,geoGinzburg4:Z$,geoGinzburg4Raw:u5,geoGinzburg5:Q$,geoGinzburg5Raw:l5,geoGinzburg6:J$,geoGinzburg6Raw:f5,geoGinzburg8:tN,geoGinzburg8Raw:kx,geoGinzburg9:eN,geoGinzburg9Raw:c5,geoGringorten:iN,geoGringortenRaw:hg,geoGuyou:lN,geoGuyouRaw:vg,geoHammer:fN,geoHammerRaw:v5,geoHammerRetroazimuthal:cN,geoHammerRetroazimuthalRaw:g5,geoHealpix:vN,geoHealpixRaw:d5,geoHill:pN,geoHillRaw:y5,geoHomolosine:dN,geoHomolosineRaw:dg,geoInterrupt:Ds,geoInterruptedBoggs:wN,geoInterruptedHomolosine:EN,geoInterruptedMollweide:CN,geoInterruptedMollweideHemispheres:TN,geoInterruptedSinuMollweide:PN,geoInterruptedSinusoidal:LN,geoKavrayskiy7:ON,geoKavrayskiy7Raw:$x,geoLagrange:IN,geoLagrangeRaw:m5,geoLarrivee:DN,geoLarriveeRaw:Nx,geoLaskowski:BN,geoLaskowskiRaw:zx,geoLittrow:RN,geoLittrowRaw:Gx,geoLoximuthal:FN,geoLoximuthalRaw:x5,geoMiller:kN,geoMillerRaw:Wx,geoModifiedStereographic:el,geoModifiedStereographicRaw:w5,geoModifiedStereographicAlaska:YN,geoModifiedStereographicGs48:HN,geoModifiedStereographicGs50:XN,geoModifiedStereographicMiller:VN,geoModifiedStereographicLee:UN,geoMollweide:A$,geoMollweideRaw:$o,geoMtFlatPolarParabolic:KN,geoMtFlatPolarParabolicRaw:Yx,geoMtFlatPolarQuartic:qN,geoMtFlatPolarQuarticRaw:Hx,geoMtFlatPolarSinusoidal:jN,geoMtFlatPolarSinusoidalRaw:Xx,geoNaturalEarth:ZN,geoNaturalEarthRaw:Vx,geoNaturalEarth2:QN,geoNaturalEarth2Raw:Ux,geoNellHammer:JN,geoNellHammerRaw:Kx,geoPatterson:iz,geoPattersonRaw:Jx,geoPolyconic:az,geoPolyconicRaw:tw,geoPolyhedral:yg,geoPolyhedralButterfly:hz,geoPolyhedralCollignon:vz,geoPolyhedralWaterman:pz,geoProject:mz,geoGringortenQuincuncial:_z,geoPeirceQuincuncial:xC,geoPierceQuincuncial:xC,geoQuantize:Ez,geoQuincuncial:rw,geoRectangularPolyconic:Mz,geoRectangularPolyconicRaw:T5,geoRobinson:Cz,geoRobinsonRaw:nw,geoSatellite:Tz,geoSatelliteRaw:A5,geoSinuMollweide:gN,geoSinuMollweideRaw:gg,geoSinusoidal:b$,geoSinusoidalRaw:Ya,geoStitch:bz,geoTimes:Lz,geoTimesRaw:lw,geoTwoPointAzimuthal:O5,geoTwoPointAzimuthalRaw:L5,geoTwoPointAzimuthalUsa:Oz,geoTwoPointEquidistant:D5,geoTwoPointEquidistantRaw:I5,geoTwoPointEquidistantUsa:Iz,geoVanDerGrinten:Dz,geoVanDerGrintenRaw:fw,geoVanDerGrinten2:Bz,geoVanDerGrinten2Raw:cw,geoVanDerGrinten3:Rz,geoVanDerGrinten3Raw:hw,geoVanDerGrinten4:Fz,geoVanDerGrinten4Raw:vw,geoWagner4:kz,geoWagner4Raw:R5,geoWagner6:$z,geoWagner6Raw:pw,geoWagner7:Nz,geoWagner7Raw:gw,geoWiechel:zz,geoWiechelRaw:dw,geoWinkel3:Gz,geoWinkel3Raw:yw},Symbol.toStringTag,{value:"Module"})),F5=oa(Wz),No={},mw={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(e){(function(r){function t(){}var n=t.prototype,i=r.EventEmitter;function a(u,l){for(var f=u.length;f--;)if(u[f].listener===l)return f;return-1}function o(u){return function(){return this[u].apply(this,arguments)}}n.getListeners=function(l){var f=this._getEvents(),c,h;if(l instanceof RegExp){c={};for(h in f)f.hasOwnProperty(h)&&l.test(h)&&(c[h]=f[h])}else c=f[l]||(f[l]=[]);return c},n.flattenListeners=function(l){var f=[],c;for(c=0;c<l.length;c+=1)f.push(l[c].listener);return f},n.getListenersAsObject=function(l){var f=this.getListeners(l),c;return f instanceof Array&&(c={},c[l]=f),c||f};function s(u){return typeof u=="function"||u instanceof RegExp?!0:u&&typeof u=="object"?s(u.listener):!1}n.addListener=function(l,f){if(!s(f))throw new TypeError("listener must be a function");var c=this.getListenersAsObject(l),h=typeof f=="object",v;for(v in c)c.hasOwnProperty(v)&&a(c[v],f)===-1&&c[v].push(h?f:{listener:f,once:!1});return this},n.on=o("addListener"),n.addOnceListener=function(l,f){return this.addListener(l,{listener:f,once:!0})},n.once=o("addOnceListener"),n.defineEvent=function(l){return this.getListeners(l),this},n.defineEvents=function(l){for(var f=0;f<l.length;f+=1)this.defineEvent(l[f]);return this},n.removeListener=function(l,f){var c=this.getListenersAsObject(l),h,v;for(v in c)c.hasOwnProperty(v)&&(h=a(c[v],f),h!==-1&&c[v].splice(h,1));return this},n.off=o("removeListener"),n.addListeners=function(l,f){return this.manipulateListeners(!1,l,f)},n.removeListeners=function(l,f){return this.manipulateListeners(!0,l,f)},n.manipulateListeners=function(l,f,c){var h,v,g=l?this.removeListener:this.addListener,d=l?this.removeListeners:this.addListeners;if(typeof f=="object"&&!(f instanceof RegExp))for(h in f)f.hasOwnProperty(h)&&(v=f[h])&&(typeof v=="function"?g.call(this,h,v):d.call(this,h,v));else for(h=c.length;h--;)g.call(this,f,c[h]);return this},n.removeEvent=function(l){var f=typeof l,c=this._getEvents(),h;if(f==="string")delete c[l];else if(l instanceof RegExp)for(h in c)c.hasOwnProperty(h)&&l.test(h)&&delete c[h];else delete this._events;return this},n.removeAllListeners=o("removeEvent"),n.emitEvent=function(l,f){var c=this.getListenersAsObject(l),h,v,g,d,m;for(d in c)if(c.hasOwnProperty(d))for(h=c[d].slice(0),g=0;g<h.length;g++)v=h[g],v.once===!0&&this.removeListener(l,v.listener),m=v.listener.apply(this,f||[]),m===this._getOnceReturnValue()&&this.removeListener(l,v.listener);return this},n.trigger=o("emitEvent"),n.emit=function(l){var f=Array.prototype.slice.call(arguments,1);return this.emitEvent(l,f)},n.setOnceReturnValue=function(l){return this._onceReturnValue=l,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=i,t},e.exports?e.exports=t:r.EventEmitter=t})(typeof window!="undefined"?window:ui||{})})(mw);Object.defineProperty(No,"__esModule",{value:!0});No.View=void 0;var k5=C.exports,Yz=k5.__importDefault(mw.exports),Ar=Ht;function Hz(e){var r={};return Ar.forIn(e,function(t,n){Ar.isObject(t)&&t.isView?r[n]=t:Ar.isArray(t)?r[n]=t.concat([]):Ar.isPlainObject(t)?r[n]=Ar.clone(t):r[n]=t}),r}var Xz=function(e){k5.__extends(r,e);function r(t,n){var i=e.call(this)||this;if(i.isView=!0,i.isDataView=!0,i.watchingStates=null,i.dataType="table",i.transforms=[],i.origin=[],i.rows=[],t&&t.isDataSet?i.dataSet=t:(i.dataSet=null,n=t),i.loose=!i.dataSet,n&&(i.watchingStates=n.watchingStates),!i.loose){var a=i.watchingStates;t.on("statechange",function(o){Ar.isArray(a)?a.indexOf(o)>-1&&i._reExecute():i._reExecute()})}return i}return r.prototype._parseStateExpression=function(t){var n=this.dataSet;if(n!==null){var i=/^\$state\.(\w+)/.exec(t);return i?n.state[i[1]]:t}},r.prototype._preparseOptions=function(t){var n=this,i=Hz(t);return this.loose||Ar.forIn(i,function(a,o){Ar.isString(a)&&/^\$state\./.test(a)&&(i[o]=n._parseStateExpression(a))}),i},r.prototype._prepareSource=function(t,n){if(this._source={source:t,options:n},n){var i=this._preparseOptions(n);this.origin=r.DataSet.getConnector(i.type)(t,i,this)}else if(t instanceof r||Ar.isString(t))this.origin=r.DataSet.getConnector("default")(t,this.dataSet);else if(Ar.isArray(t))this.origin=t;else if(Ar.isObject(t)&&t.type){var i=this._preparseOptions(t);this.origin=r.DataSet.getConnector(i.type)(i,this)}else throw new TypeError("Invalid source");return this.rows=Ar.deepMix([],this.origin),this},r.prototype.source=function(t,n){return this._prepareSource(t,n)._reExecuteTransforms(),this.trigger("change",[]),this},r.prototype.transform=function(t){return t&&t.type&&(this.transforms.push(t),this._executeTransform(t)),this},r.prototype._executeTransform=function(t){t=this._preparseOptions(t);var n=r.DataSet.getTransform(t.type);n(this,t)},r.prototype._reExecuteTransforms=function(){var t=this;this.transforms.forEach(function(n){t._executeTransform(n)})},r.prototype.addRow=function(t){this.rows.push(t)},r.prototype.removeRow=function(t){this.rows.splice(t,1)},r.prototype.updateRow=function(t,n){Ar.assign(this.rows[t],n)},r.prototype.findRows=function(t){return this.rows.filter(function(n){return Ar.isMatch(n,t)})},r.prototype.findRow=function(t){return Ar.find(this.rows,t)},r.prototype.getColumnNames=function(){var t=this.rows[0];return t?Ar.keys(t):[]},r.prototype.getColumnName=function(t){return this.getColumnNames()[t]},r.prototype.getColumnIndex=function(t){var n=this.getColumnNames();return n.indexOf(t)},r.prototype.getColumn=function(t){return this.rows.map(function(n){return n[t]})},r.prototype.getColumnData=function(t){return this.getColumn(t)},r.prototype.getSubset=function(t,n,i){for(var a=[],o=t;o<=n;o++)a.push(Ar.pick(this.rows[o],i));return a},r.prototype.toString=function(t){return t===void 0&&(t=!1),t?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},r.prototype._reExecute=function(){var t=this._source,n=t.source,i=t.options;this._prepareSource(n,i),this._reExecuteTransforms(),this.trigger("change",[])},r}(Yz.default);No.View=Xz;var xg={},J=1e-6;class Vz{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const a=t[i],o=r+a,s=Math.abs(r)<Math.abs(a)?r-(o-a):a-(o-r);s&&(t[n++]=s),r=o}return t[n]=r,this._n=n+1,this}valueOf(){const r=this._partials;let t=this._n,n,i,a,o=0;if(t>0){for(o=r[--t];t>0&&(n=o,i=r[--t],o=n+i,a=i-(o-n),!a););t>0&&(a<0&&r[t-1]<0||a>0&&r[t-1]>0)&&(i=a*2,n=o+i,i==n-o&&(o=n))}return o}}function*Uz(e){for(const r of e)yield*r}function $5(e){return Array.from(Uz(e))}var ye=1e-6,Kz=1e-12,te=Math.PI,tr=te/2,AC=te/4,vi=te*2,Vr=180/te,Je=te/180,ke=Math.abs,fc=Math.atan,Da=Math.atan2,de=Math.cos,N5=Math.exp,vp=Math.log,uy=Math.pow,ve=Math.sin,ci=Math.sign||function(e){return e>0?1:e<0?-1:0},Ba=Math.sqrt,xw=Math.tan;function qz(e){return e>1?0:e<-1?te:Math.acos(e)}function bo(e){return e>1?tr:e<-1?-tr:Math.asin(e)}function Jl(){}function pp(e,r){e&&bC.hasOwnProperty(e.type)&&bC[e.type](e,r)}var PC={Feature:function(e,r){pp(e.geometry,r)},FeatureCollection:function(e,r){for(var t=e.features,n=-1,i=t.length;++n<i;)pp(t[n].geometry,r)}},bC={Sphere:function(e,r){r.sphere()},Point:function(e,r){e=e.coordinates,r.point(e[0],e[1],e[2])},MultiPoint:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)e=t[n],r.point(e[0],e[1],e[2])},LineString:function(e,r){K1(e.coordinates,r,0)},MultiLineString:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)K1(t[n],r,0)},Polygon:function(e,r){LC(e.coordinates,r)},MultiPolygon:function(e,r){for(var t=e.coordinates,n=-1,i=t.length;++n<i;)LC(t[n],r)},GeometryCollection:function(e,r){for(var t=e.geometries,n=-1,i=t.length;++n<i;)pp(t[n],r)}};function K1(e,r,t){var n=-1,i=e.length-t,a;for(r.lineStart();++n<i;)a=e[n],r.point(a[0],a[1],a[2]);r.lineEnd()}function LC(e,r){var t=-1,n=e.length;for(r.polygonStart();++t<n;)K1(e[t],r,1);r.polygonEnd()}function z5(e,r){e&&PC.hasOwnProperty(e.type)?PC[e.type](e,r):pp(e,r)}function q1(e){return[Da(e[1],e[0]),bo(e[2])]}function Fu(e){var r=e[0],t=e[1],n=de(t);return[n*de(r),n*ve(r),ve(t)]}function Sh(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function gp(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function ly(e,r){e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]}function Th(e,r){return[e[0]*r,e[1]*r,e[2]*r]}function j1(e){var r=Ba(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=r,e[1]/=r,e[2]/=r}function Z1(e,r){function t(n,i){return n=e(n,i),r(n[0],n[1])}return e.invert&&r.invert&&(t.invert=function(n,i){return n=r.invert(n,i),n&&e.invert(n[0],n[1])}),t}function Q1(e,r){return[ke(e)>te?e+Math.round(-e/vi)*vi:e,r]}Q1.invert=Q1;function G5(e,r,t){return(e%=vi)?r||t?Z1(IC(e),DC(r,t)):IC(e):r||t?DC(r,t):Q1}function OC(e){return function(r,t){return r+=e,[r>te?r-vi:r<-te?r+vi:r,t]}}function IC(e){var r=OC(e);return r.invert=OC(-e),r}function DC(e,r){var t=de(e),n=ve(e),i=de(r),a=ve(r);function o(s,u){var l=de(u),f=de(s)*l,c=ve(s)*l,h=ve(u),v=h*t+f*n;return[Da(c*i-v*a,f*t-h*n),bo(v*i+c*a)]}return o.invert=function(s,u){var l=de(u),f=de(s)*l,c=ve(s)*l,h=ve(u),v=h*i-c*a;return[Da(c*i+h*a,f*t+v*n),bo(v*t-f*n)]},o}function jz(e){e=G5(e[0]*Je,e[1]*Je,e.length>2?e[2]*Je:0);function r(t){return t=e(t[0]*Je,t[1]*Je),t[0]*=Vr,t[1]*=Vr,t}return r.invert=function(t){return t=e.invert(t[0]*Je,t[1]*Je),t[0]*=Vr,t[1]*=Vr,t},r}function Zz(e,r,t,n,i,a){if(!!t){var o=de(r),s=ve(r),u=n*t;i==null?(i=r+n*vi,a=r-u/2):(i=BC(o,i),a=BC(o,a),(n>0?i<a:i>a)&&(i+=n*vi));for(var l,f=i;n>0?f>a:f<a;f-=u)l=q1([o,-s*de(f),-s*ve(f)]),e.point(l[0],l[1])}}function BC(e,r){r=Fu(r),r[0]-=e,j1(r);var t=qz(-r[1]);return((-r[2]<0?-t:t)+vi-ye)%vi}function W5(){var e=[],r;return{point:function(t,n,i){r.push([t,n,i])},lineStart:function(){e.push(r=[])},lineEnd:Jl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],r=null,t}}}function Cv(e,r){return ke(e[0]-r[0])<ye&&ke(e[1]-r[1])<ye}function Ah(e,r,t,n){this.x=e,this.z=r,this.o=t,this.e=n,this.v=!1,this.n=this.p=null}function Y5(e,r,t,n,i){var a=[],o=[],s,u;if(e.forEach(function(g){if(!((d=g.length-1)<=0)){var d,m=g[0],x=g[d],E;if(Cv(m,x)){if(!m[2]&&!x[2]){for(i.lineStart(),s=0;s<d;++s)i.point((m=g[s])[0],m[1]);i.lineEnd();return}x[0]+=2*ye}a.push(E=new Ah(m,g,null,!0)),o.push(E.o=new Ah(m,null,E,!1)),a.push(E=new Ah(x,g,null,!1)),o.push(E.o=new Ah(x,null,E,!0))}}),!!a.length){for(o.sort(r),RC(a),RC(o),s=0,u=o.length;s<u;++s)o[s].e=t=!t;for(var l=a[0],f,c;;){for(var h=l,v=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(v)for(s=0,u=f.length;s<u;++s)i.point((c=f[s])[0],c[1]);else n(h.x,h.n.x,1,i);h=h.n}else{if(v)for(f=h.p.z,s=f.length-1;s>=0;--s)i.point((c=f[s])[0],c[1]);else n(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,v=!v}while(!h.v);i.lineEnd()}}}function RC(e){if(!!(r=e.length)){for(var r,t=0,n=e[0],i;++t<r;)n.n=i=e[t],i.p=n,n=i;n.n=i=e[0],i.p=n}}function fy(e){return ke(e[0])<=te?e[0]:ci(e[0])*((ke(e[0])+te)%vi-te)}function Qz(e,r){var t=fy(r),n=r[1],i=ve(n),a=[ve(t),-de(t),0],o=0,s=0,u=new Vz;i===1?n=tr+ye:i===-1&&(n=-tr-ye);for(var l=0,f=e.length;l<f;++l)if(!!(h=(c=e[l]).length))for(var c,h,v=c[h-1],g=fy(v),d=v[1]/2+AC,m=ve(d),x=de(d),E=0;E<h;++E,g=M,m=b,x=I,v=_){var _=c[E],M=fy(_),A=_[1]/2+AC,b=ve(A),I=de(A),L=M-g,F=L>=0?1:-1,$=F*L,Y=$>te,k=m*b;if(u.add(Da(k*F*ve($),x*I+k*de($))),o+=Y?L+F*vi:L,Y^g>=t^M>=t){var z=gp(Fu(v),Fu(_));j1(z);var S=gp(a,z);j1(S);var T=(Y^L>=0?-1:1)*bo(S[2]);(n>T||n===T&&(z[0]||z[1]))&&(s+=Y^L>=0?1:-1)}}return(o<-ye||o<ye&&u<-Kz)^s&1}function H5(e,r,t,n){return function(i){var a=r(i),o=W5(),s=r(o),u=!1,l,f,c,h={point:v,lineStart:d,lineEnd:m,polygonStart:function(){h.point=x,h.lineStart=E,h.lineEnd=_,f=[],l=[]},polygonEnd:function(){h.point=v,h.lineStart=d,h.lineEnd=m,f=$5(f);var M=Qz(l,n);f.length?(u||(i.polygonStart(),u=!0),Y5(f,tG,M,t,i)):M&&(u||(i.polygonStart(),u=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),f=l=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(M,A){e(M,A)&&i.point(M,A)}function g(M,A){a.point(M,A)}function d(){h.point=g,a.lineStart()}function m(){h.point=v,a.lineEnd()}function x(M,A){c.push([M,A]),s.point(M,A)}function E(){s.lineStart(),c=[]}function _(){x(c[0][0],c[0][1]),s.lineEnd();var M=s.clean(),A=o.result(),b,I=A.length,L,F,$;if(c.pop(),l.push(c),c=null,!!I){if(M&1){if(F=A[0],(L=F.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),b=0;b<L;++b)i.point(($=F[b])[0],$[1]);i.lineEnd()}return}I>1&&M&2&&A.push(A.pop().concat(A.shift())),f.push(A.filter(Jz))}}return h}}function Jz(e){return e.length>1}function tG(e,r){return((e=e.x)[0]<0?e[1]-tr-ye:tr-e[1])-((r=r.x)[0]<0?r[1]-tr-ye:tr-r[1])}var FC=H5(function(){return!0},eG,nG,[-te,-tr]);function eG(e){var r=NaN,t=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?te:-te,u=ke(a-r);ke(u-te)<ye?(e.point(r,t=(t+o)/2>0?tr:-tr),e.point(n,t),e.lineEnd(),e.lineStart(),e.point(s,t),e.point(a,t),i=0):n!==s&&u>=te&&(ke(r-n)<ye&&(r-=n*ye),ke(a-s)<ye&&(a-=s*ye),t=rG(r,t,a,o),e.point(n,t),e.lineEnd(),e.lineStart(),e.point(s,t),i=0),e.point(r=a,t=o),n=s},lineEnd:function(){e.lineEnd(),r=t=NaN},clean:function(){return 2-i}}}function rG(e,r,t,n){var i,a,o=ve(e-t);return ke(o)>ye?fc((ve(r)*(a=de(n))*ve(t)-ve(n)*(i=de(r))*ve(e))/(i*a*o)):(r+n)/2}function nG(e,r,t,n){var i;if(e==null)i=t*tr,n.point(-te,i),n.point(0,i),n.point(te,i),n.point(te,0),n.point(te,-i),n.point(0,-i),n.point(-te,-i),n.point(-te,0),n.point(-te,i);else if(ke(e[0]-r[0])>ye){var a=e[0]<r[0]?te:-te;i=t*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(r[0],r[1])}function iG(e){var r=de(e),t=6*Je,n=r>0,i=ke(r)>ye;function a(f,c,h,v){Zz(v,e,t,h,f,c)}function o(f,c){return de(f)*de(c)>r}function s(f){var c,h,v,g,d;return{lineStart:function(){g=v=!1,d=1},point:function(m,x){var E=[m,x],_,M=o(m,x),A=n?M?0:l(m,x):M?l(m+(m<0?te:-te),x):0;if(!c&&(g=v=M)&&f.lineStart(),M!==v&&(_=u(c,E),(!_||Cv(c,_)||Cv(E,_))&&(E[2]=1)),M!==v)d=0,M?(f.lineStart(),_=u(E,c),f.point(_[0],_[1])):(_=u(c,E),f.point(_[0],_[1],2),f.lineEnd()),c=_;else if(i&&c&&n^M){var b;!(A&h)&&(b=u(E,c,!0))&&(d=0,n?(f.lineStart(),f.point(b[0][0],b[0][1]),f.point(b[1][0],b[1][1]),f.lineEnd()):(f.point(b[1][0],b[1][1]),f.lineEnd(),f.lineStart(),f.point(b[0][0],b[0][1],3)))}M&&(!c||!Cv(c,E))&&f.point(E[0],E[1]),c=E,v=M,h=A},lineEnd:function(){v&&f.lineEnd(),c=null},clean:function(){return d|(g&&v)<<1}}}function u(f,c,h){var v=Fu(f),g=Fu(c),d=[1,0,0],m=gp(v,g),x=Sh(m,m),E=m[0],_=x-E*E;if(!_)return!h&&f;var M=r*x/_,A=-r*E/_,b=gp(d,m),I=Th(d,M),L=Th(m,A);ly(I,L);var F=b,$=Sh(I,F),Y=Sh(F,F),k=$*$-Y*(Sh(I,I)-1);if(!(k<0)){var z=Ba(k),S=Th(F,(-$-z)/Y);if(ly(S,I),S=q1(S),!h)return S;var T=f[0],O=c[0],D=f[1],H=c[1],it;O<T&&(it=T,T=O,O=it);var pt=O-T,yt=ke(pt-te)<ye,mt=yt||pt<ye;if(!yt&&H<D&&(it=D,D=H,H=it),mt?yt?D+H>0^S[1]<(ke(S[0]-T)<ye?D:H):D<=S[1]&&S[1]<=H:pt>te^(T<=S[0]&&S[0]<=O)){var Dt=Th(F,(-$+z)/Y);return ly(Dt,I),[S,q1(Dt)]}}}function l(f,c){var h=n?e:te-e,v=0;return f<-h?v|=1:f>h&&(v|=2),c<-h?v|=4:c>h&&(v|=8),v}return H5(o,s,a,n?[0,-e]:[-te,e-te])}function aG(e,r,t,n,i,a){var o=e[0],s=e[1],u=r[0],l=r[1],f=0,c=1,h=u-o,v=l-s,g;if(g=t-o,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<c&&(c=g)}else if(h>0){if(g>c)return;g>f&&(f=g)}if(g=i-o,!(!h&&g<0)){if(g/=h,h<0){if(g>c)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<c&&(c=g)}if(g=n-s,!(!v&&g>0)){if(g/=v,v<0){if(g<f)return;g<c&&(c=g)}else if(v>0){if(g>c)return;g>f&&(f=g)}if(g=a-s,!(!v&&g<0)){if(g/=v,v<0){if(g>c)return;g>f&&(f=g)}else if(v>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=o+f*h,e[1]=s+f*v),c<1&&(r[0]=o+c*h,r[1]=s+c*v),!0}}}}}var tf=1e9,Ph=-tf;function oG(e,r,t,n){function i(l,f){return e<=l&&l<=t&&r<=f&&f<=n}function a(l,f,c,h){var v=0,g=0;if(l==null||(v=o(l,c))!==(g=o(f,c))||u(l,f)<0^c>0)do h.point(v===0||v===3?e:t,v>1?n:r);while((v=(v+c+4)%4)!==g);else h.point(f[0],f[1])}function o(l,f){return ke(l[0]-e)<ye?f>0?0:3:ke(l[0]-t)<ye?f>0?2:1:ke(l[1]-r)<ye?f>0?1:0:f>0?3:2}function s(l,f){return u(l.x,f.x)}function u(l,f){var c=o(l,1),h=o(f,1);return c!==h?c-h:c===0?f[1]-l[1]:c===1?l[0]-f[0]:c===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,c=W5(),h,v,g,d,m,x,E,_,M,A,b,I={point:L,lineStart:k,lineEnd:z,polygonStart:$,polygonEnd:Y};function L(T,O){i(T,O)&&f.point(T,O)}function F(){for(var T=0,O=0,D=v.length;O<D;++O)for(var H=v[O],it=1,pt=H.length,yt=H[0],mt,Dt,oe=yt[0],Ot=yt[1];it<pt;++it)mt=oe,Dt=Ot,yt=H[it],oe=yt[0],Ot=yt[1],Dt<=n?Ot>n&&(oe-mt)*(n-Dt)>(Ot-Dt)*(e-mt)&&++T:Ot<=n&&(oe-mt)*(n-Dt)<(Ot-Dt)*(e-mt)&&--T;return T}function $(){f=c,h=[],v=[],b=!0}function Y(){var T=F(),O=b&&T,D=(h=$5(h)).length;(O||D)&&(l.polygonStart(),O&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),D&&Y5(h,s,T,a,l),l.polygonEnd()),f=l,h=v=g=null}function k(){I.point=S,v&&v.push(g=[]),A=!0,M=!1,E=_=NaN}function z(){h&&(S(d,m),x&&M&&c.rejoin(),h.push(c.result())),I.point=L,M&&f.lineEnd()}function S(T,O){var D=i(T,O);if(v&&g.push([T,O]),A)d=T,m=O,x=D,A=!1,D&&(f.lineStart(),f.point(T,O));else if(D&&M)f.point(T,O);else{var H=[E=Math.max(Ph,Math.min(tf,E)),_=Math.max(Ph,Math.min(tf,_))],it=[T=Math.max(Ph,Math.min(tf,T)),O=Math.max(Ph,Math.min(tf,O))];aG(H,it,e,r,t,n)?(M||(f.lineStart(),f.point(H[0],H[1])),f.point(it[0],it[1]),D||f.lineEnd(),b=!1):D&&(f.lineStart(),f.point(T,O),b=!1)}E=T,_=O,M=D}return I}}var kC=e=>e,ku=1/0,dp=ku,Rf=-ku,yp=Rf,sG={point:uG,lineStart:Jl,lineEnd:Jl,polygonStart:Jl,polygonEnd:Jl,result:function(){var e=[[ku,dp],[Rf,yp]];return Rf=yp=-(dp=ku=1/0),e}};function uG(e,r){e<ku&&(ku=e),e>Rf&&(Rf=e),r<dp&&(dp=r),r>yp&&(yp=r)}var $C=sG;function ww(e){return function(r){var t=new J1;for(var n in e)t[n]=e[n];return t.stream=r,t}}function J1(){}J1.prototype={constructor:J1,point:function(e,r){this.stream.point(e,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _w(e,r,t){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),z5(t,e.stream($C)),r($C.result()),n!=null&&e.clipExtent(n),e}function X5(e,r,t){return _w(e,function(n){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),s=+r[0][0]+(i-o*(n[1][0]+n[0][0]))/2,u=+r[0][1]+(a-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,u])},t)}function lG(e,r,t){return X5(e,[[0,0],r],t)}function fG(e,r,t){return _w(e,function(n){var i=+r,a=i/(n[1][0]-n[0][0]),o=(i-a*(n[1][0]+n[0][0]))/2,s=-a*n[0][1];e.scale(150*a).translate([o,s])},t)}function cG(e,r,t){return _w(e,function(n){var i=+r,a=i/(n[1][1]-n[0][1]),o=-a*n[0][0],s=(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])},t)}var NC=16,hG=de(30*Je);function zC(e,r){return+r?pG(e,r):vG(e)}function vG(e){return ww({point:function(r,t){r=e(r,t),this.stream.point(r[0],r[1])}})}function pG(e,r){function t(n,i,a,o,s,u,l,f,c,h,v,g,d,m){var x=l-n,E=f-i,_=x*x+E*E;if(_>4*r&&d--){var M=o+h,A=s+v,b=u+g,I=Ba(M*M+A*A+b*b),L=bo(b/=I),F=ke(ke(b)-1)<ye||ke(a-c)<ye?(a+c)/2:Da(A,M),$=e(F,L),Y=$[0],k=$[1],z=Y-n,S=k-i,T=E*z-x*S;(T*T/_>r||ke((x*z+E*S)/_-.5)>.3||o*h+s*v+u*g<hG)&&(t(n,i,a,o,s,u,Y,k,F,M/=I,A/=I,b,d,m),m.point(Y,k),t(Y,k,F,M,A,b,l,f,c,h,v,g,d,m))}}return function(n){var i,a,o,s,u,l,f,c,h,v,g,d,m={point:x,lineStart:E,lineEnd:M,polygonStart:function(){n.polygonStart(),m.lineStart=A},polygonEnd:function(){n.polygonEnd(),m.lineStart=E}};function x(L,F){L=e(L,F),n.point(L[0],L[1])}function E(){c=NaN,m.point=_,n.lineStart()}function _(L,F){var $=Fu([L,F]),Y=e(L,F);t(c,h,f,v,g,d,c=Y[0],h=Y[1],f=L,v=$[0],g=$[1],d=$[2],NC,n),n.point(c,h)}function M(){m.point=x,n.lineEnd()}function A(){E(),m.point=b,m.lineEnd=I}function b(L,F){_(i=L,F),a=c,o=h,s=v,u=g,l=d,m.point=_}function I(){t(c,h,f,v,g,d,a,o,i,s,u,l,NC,n),m.lineEnd=M,M()}return m}}var gG=ww({point:function(e,r){this.stream.point(e*Je,r*Je)}});function dG(e){return ww({point:function(r,t){var n=e(r,t);return this.stream.point(n[0],n[1])}})}function yG(e,r,t,n,i){function a(o,s){return o*=n,s*=i,[r+e*o,t-e*s]}return a.invert=function(o,s){return[(o-r)/e*n,(t-s)/e*i]},a}function GC(e,r,t,n,i,a){if(!a)return yG(e,r,t,n,i);var o=de(a),s=ve(a),u=o*e,l=s*e,f=o/e,c=s/e,h=(s*t-o*r)/e,v=(s*r+o*t)/e;function g(d,m){return d*=n,m*=i,[u*d-l*m+r,t-l*d-u*m]}return g.invert=function(d,m){return[n*(f*d-c*m+h),i*(v-c*d-f*m)]},g}function Ew(e){return V5(function(){return e})()}function V5(e){var r,t=150,n=480,i=250,a=0,o=0,s=0,u=0,l=0,f,c=0,h=1,v=1,g=null,d=FC,m=null,x,E,_,M=kC,A=.5,b,I,L,F,$;function Y(T){return L(T[0]*Je,T[1]*Je)}function k(T){return T=L.invert(T[0],T[1]),T&&[T[0]*Vr,T[1]*Vr]}Y.stream=function(T){return F&&$===T?F:F=gG(dG(f)(d(b(M($=T)))))},Y.preclip=function(T){return arguments.length?(d=T,g=void 0,S()):d},Y.postclip=function(T){return arguments.length?(M=T,m=x=E=_=null,S()):M},Y.clipAngle=function(T){return arguments.length?(d=+T?iG(g=T*Je):(g=null,FC),S()):g*Vr},Y.clipExtent=function(T){return arguments.length?(M=T==null?(m=x=E=_=null,kC):oG(m=+T[0][0],x=+T[0][1],E=+T[1][0],_=+T[1][1]),S()):m==null?null:[[m,x],[E,_]]},Y.scale=function(T){return arguments.length?(t=+T,z()):t},Y.translate=function(T){return arguments.length?(n=+T[0],i=+T[1],z()):[n,i]},Y.center=function(T){return arguments.length?(a=T[0]%360*Je,o=T[1]%360*Je,z()):[a*Vr,o*Vr]},Y.rotate=function(T){return arguments.length?(s=T[0]%360*Je,u=T[1]%360*Je,l=T.length>2?T[2]%360*Je:0,z()):[s*Vr,u*Vr,l*Vr]},Y.angle=function(T){return arguments.length?(c=T%360*Je,z()):c*Vr},Y.reflectX=function(T){return arguments.length?(h=T?-1:1,z()):h<0},Y.reflectY=function(T){return arguments.length?(v=T?-1:1,z()):v<0},Y.precision=function(T){return arguments.length?(b=zC(I,A=T*T),S()):Ba(A)},Y.fitExtent=function(T,O){return X5(Y,T,O)},Y.fitSize=function(T,O){return lG(Y,T,O)},Y.fitWidth=function(T,O){return fG(Y,T,O)},Y.fitHeight=function(T,O){return cG(Y,T,O)};function z(){var T=GC(t,0,0,h,v,c).apply(null,r(a,o)),O=GC(t,n-T[0],i-T[1],h,v,c);return f=G5(s,u,l),I=Z1(r,O),L=Z1(f,I),b=zC(I,A),S()}function S(){return F=$=null,Y}return function(){return r=e.apply(this,arguments),Y.invert=r.invert&&k,z()}}function Mw(e){var r=0,t=te/3,n=V5(e),i=n(r,t);return i.parallels=function(a){return arguments.length?n(r=a[0]*Je,t=a[1]*Je):[r*Vr,t*Vr]},i}function mG(e){var r=de(e);function t(n,i){return[n*r,ve(i)/r]}return t.invert=function(n,i){return[n/r,bo(i*r)]},t}function xG(e,r){var t=ve(e),n=(t+ve(r))/2;if(ke(n)<ye)return mG(e);var i=1+t*(2*n-t),a=Ba(i)/n;function o(s,u){var l=Ba(i-2*n*ve(u))/n;return[l*ve(s*=n),a-l*de(s)]}return o.invert=function(s,u){var l=a-u,f=Da(s,ke(l))*ci(l);return l*n<0&&(f-=te*ci(s)*ci(l)),[f/n,bo((i-(s*s+l*l)*n*n)/(2*n))]},o}function _u(){return Mw(xG).scale(155.424).center([0,33.6442])}function mp(){return _u().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wG(e){return function(r,t){var n=Ba(r*r+t*t),i=e(n),a=ve(i),o=de(i);return[Da(r*a,n*o),bo(n&&t*a/n)]}}function wg(e,r){return[e,vp(xw((tr+r)/2))]}wg.invert=function(e,r){return[e,2*fc(N5(r))-tr]};function Be(){return U5(wg).scale(961/vi)}function U5(e){var r=Ew(e),t=r.center,n=r.scale,i=r.translate,a=r.clipExtent,o=null,s,u,l;r.scale=function(c){return arguments.length?(n(c),f()):n()},r.translate=function(c){return arguments.length?(i(c),f()):i()},r.center=function(c){return arguments.length?(t(c),f()):t()},r.clipExtent=function(c){return arguments.length?(c==null?o=s=u=l=null:(o=+c[0][0],s=+c[0][1],u=+c[1][0],l=+c[1][1]),f()):o==null?null:[[o,s],[u,l]]};function f(){var c=te*n(),h=r(jz(r.rotate()).invert([0,0]));return a(o==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:e===wg?[[Math.max(h[0]-c,o),s],[Math.min(h[0]+c,u),l]]:[[o,Math.max(h[1]-c,s)],[u,Math.min(h[1]+c,l)]])}return f()}function bh(e){return xw((tr+e)/2)}function _G(e,r){var t=de(e),n=e===r?ve(e):vp(t/de(r))/vp(bh(r)/bh(e)),i=t*uy(bh(e),n)/n;if(!n)return wg;function a(o,s){i>0?s<-tr+ye&&(s=-tr+ye):s>tr-ye&&(s=tr-ye);var u=i/uy(bh(s),n);return[u*ve(n*o),i-u*de(n*o)]}return a.invert=function(o,s){var u=i-s,l=ci(n)*Ba(o*o+u*u),f=Da(o,ke(u))*ci(u);return u*n<0&&(f-=te*ci(o)*ci(u)),[f/n,2*fc(uy(i/l,1/n))-tr]},a}function hn(){return Mw(_G).scale(109.5).parallels([30,30])}function xp(e,r){return[e,r]}xp.invert=xp;function WC(){return Ew(xp).scale(152.63)}function EG(e,r){var t=de(e),n=e===r?ve(e):(t-de(r))/(r-e),i=t/n+e;if(ke(n)<ye)return xp;function a(o,s){var u=i-s,l=n*o;return[u*ve(l),i-u*de(l)]}return a.invert=function(o,s){var u=i-s,l=Da(o,ke(u))*ci(u);return u*n<0&&(l-=te*ci(o)*ci(u)),[l/n,i-ci(n)*Ba(o*o+u*u)]},a}function cy(){return Mw(EG).scale(131.154).center([0,13.9389])}function K5(e,r){var t=de(r),n=1+de(e)*t;return[t*ve(e)/n,ve(r)/n]}K5.invert=wG(function(e){return 2*fc(e)});function MG(){return Ew(K5).scale(250).clipAngle(142)}function q5(e,r){return[vp(xw((tr+r)/2)),-e]}q5.invert=function(e,r){return[-r,2*fc(N5(e))-tr]};function CG(){var e=U5(q5),r=e.center,t=e.rotate;return e.center=function(n){return arguments.length?r([-n[1],n[0]]):(n=r(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?t([n[0],n[1],n.length>2?n[2]+90:90]):(n=t(),[n[0],n[1],n[2]-90])},t([0,0,90]).scale(159.155)}function Lh(){}var $u=1/0,wp=$u,Ff=-$u,_p=Ff,YC={point:SG,lineStart:Lh,lineEnd:Lh,polygonStart:Lh,polygonEnd:Lh,result:function(){var e=[[$u,wp],[Ff,_p]];return Ff=_p=-(wp=$u=1/0),e}};function SG(e,r){e<$u&&($u=e),e>Ff&&(Ff=e),r<wp&&(wp=r),r>_p&&(_p=r)}function Sn(e,r,t){var n=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),z5(t,e.stream(YC));var o=YC.result(),s=Math.min(n/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+r[0][0]+(n-s*(o[1][0]+o[0][0]))/2,l=+r[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return a!=null&&e.clipExtent(a),e.scale(s*150).translate([u,l])}function Vn(e,r,t){return Sn(e,[[0,0],r],t)}const tm=Math.PI,em=2*tm,is=1e-6,TG=em-is;function rm(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Tn(){return new rm}rm.prototype=Tn.prototype={constructor:rm,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,i,a){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,r,t,n,i){e=+e,r=+r,t=+t,n=+n,i=+i;var a=this._x1,o=this._y1,s=t-e,u=n-r,l=a-e,f=o-r,c=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(c>is)if(!(Math.abs(f*s-u*l)>is)||!i)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var h=t-a,v=n-o,g=s*s+u*u,d=h*h+v*v,m=Math.sqrt(g),x=Math.sqrt(c),E=i*Math.tan((tm-Math.acos((g+c-d)/(2*m*x)))/2),_=E/x,M=E/m;Math.abs(_-1)>is&&(this._+="L"+(e+_*l)+","+(r+_*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*v)+","+(this._x1=e+M*s)+","+(this._y1=r+M*u)}},arc:function(e,r,t,n,i,a){e=+e,r=+r,t=+t,a=!!a;var o=t*Math.cos(n),s=t*Math.sin(n),u=e+o,l=r+s,f=1^a,c=a?n-i:i-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>is||Math.abs(this._y1-l)>is)&&(this._+="L"+u+","+l),t&&(c<0&&(c=c%em+em),c>TG?this._+="A"+t+","+t+",0,1,"+f+","+(e-o)+","+(r-s)+"A"+t+","+t+",0,1,"+f+","+(this._x1=u)+","+(this._y1=l):c>is&&(this._+="A"+t+","+t+",0,"+ +(c>=tm)+","+f+","+(this._x1=e+t*Math.cos(i))+","+(this._y1=r+t*Math.sin(i))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function AG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function PG(){var e,r,t=mp(),n,i=_u().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=_u().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(h,v){u=[h,v]}};function f(h){var v=h[0],g=h[1];return u=null,n.point(v,g),u||(a.point(v,g),u)||(s.point(v,g),u)}f.invert=function(h){var v=t.scale(),g=t.translate(),d=(h[0]-g[0])/v,m=(h[1]-g[1])/v;return(m>=.12&&m<.234&&d>=-.425&&d<-.214?i:m>=.166&&m<.234&&d>=-.214&&d<-.115?o:t).invert(h)},f.stream=function(h){return e&&r===h?e:e=AG([t.stream(r=h),i.stream(h),o.stream(h)])},f.precision=function(h){return arguments.length?(t.precision(h),i.precision(h),o.precision(h),c()):t.precision()},f.scale=function(h){return arguments.length?(t.scale(h),i.scale(h*.35),o.scale(h),f.translate(t.translate())):t.scale()},f.translate=function(h){if(!arguments.length)return t.translate();var v=t.scale(),g=+h[0],d=+h[1];return n=t.translate(h).clipExtent([[g-.455*v,d-.238*v],[g+.455*v,d+.238*v]]).stream(l),a=i.translate([g-.307*v,d+.201*v]).clipExtent([[g-.425*v+J,d+.12*v+J],[g-.214*v-J,d+.234*v-J]]).stream(l),s=o.translate([g-.205*v,d+.212*v]).clipExtent([[g-.214*v+J,d+.166*v+J],[g-.115*v-J,d+.234*v-J]]).stream(l),c()},f.fitExtent=function(h,v){return Sn(f,h,v)},f.fitSize=function(h,v){return Vn(f,h,v)};function c(){return e=r=null,f}return f.drawCompositionBorders=function(h){var v=t([-102.91,26.3]),g=t([-104,27.5]),d=t([-108,29.1]),m=t([-110,29.1]),x=t([-110,26.7]),E=t([-112.8,27.6]),_=t([-114.3,30.6]),M=t([-119.3,30.1]);h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.moveTo(x[0],x[1]),h.lineTo(E[0],E[1]),h.lineTo(_[0],_[1]),h.lineTo(M[0],M[1])},f.getCompositionBorders=function(){var h=Tn();return this.drawCompositionBorders(h),h.toString()},f.scale(1070)}function bG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function LG(){var e,r,t=mp(),n,i=_u().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=_u().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u=_u().rotate([66,0]).center([0,18]).parallels([8,18]),l,f=WC().rotate([173,14]),c,h=WC().rotate([-145,-16.8]),v,g,d={point:function(E,_){g=[E,_]}};function m(E){var _=E[0],M=E[1];return g=null,n.point(_,M),g||(a.point(_,M),g)||(s.point(_,M),g)||(l.point(_,M),g)||(c.point(_,M),g)||(v.point(_,M),g)}m.invert=function(E){var _=t.scale(),M=t.translate(),A=(E[0]-M[0])/_,b=(E[1]-M[1])/_;return(b>=.12&&b<.234&&A>=-.425&&A<-.214?i:b>=.166&&b<.234&&A>=-.214&&A<-.115?o:b>=.2064&&b<.2413&&A>=.312&&A<.385?u:b>=.09&&b<.1197&&A>=-.4243&&A<-.3232?f:b>=-.0518&&b<.0895&&A>=-.4243&&A<-.3824?h:t).invert(E)},m.stream=function(E){return e&&r===E?e:e=bG([t.stream(r=E),i.stream(E),o.stream(E),u.stream(E),f.stream(E),h.stream(E)])},m.precision=function(E){return arguments.length?(t.precision(E),i.precision(E),o.precision(E),u.precision(E),f.precision(E),h.precision(E),x()):t.precision()},m.scale=function(E){return arguments.length?(t.scale(E),i.scale(E*.35),o.scale(E),u.scale(E),f.scale(E*2),h.scale(E),m.translate(t.translate())):t.scale()},m.translate=function(E){if(!arguments.length)return t.translate();var _=t.scale(),M=+E[0],A=+E[1];return n=t.translate(E).clipExtent([[M-.455*_,A-.238*_],[M+.455*_,A+.238*_]]).stream(d),a=i.translate([M-.307*_,A+.201*_]).clipExtent([[M-.425*_+J,A+.12*_+J],[M-.214*_-J,A+.233*_-J]]).stream(d),s=o.translate([M-.205*_,A+.212*_]).clipExtent([[M-.214*_+J,A+.166*_+J],[M-.115*_-J,A+.233*_-J]]).stream(d),l=u.translate([M+.35*_,A+.224*_]).clipExtent([[M+.312*_+J,A+.2064*_+J],[M+.385*_-J,A+.233*_-J]]).stream(d),c=f.translate([M-.492*_,A+.09*_]).clipExtent([[M-.4243*_+J,A+.0903*_+J],[M-.3233*_-J,A+.1197*_-J]]).stream(d),v=h.translate([M-.408*_,A+.018*_]).clipExtent([[M-.4244*_+J,A-.0519*_+J],[M-.3824*_-J,A+.0895*_-J]]).stream(d),x()},m.fitExtent=function(E,_){return Sn(m,E,_)},m.fitSize=function(E,_){return Vn(m,E,_)};function x(){return e=r=null,m}return m.drawCompositionBorders=function(E){var _=t([-110.4641,28.2805]),M=t([-104.0597,28.9528]),A=t([-103.7049,25.1031]),b=t([-109.8337,24.4531]),I=t([-124.4745,28.1407]),L=t([-110.931,30.8844]),F=t([-109.8337,24.4531]),$=t([-122.4628,21.8562]),Y=t([-76.8579,25.1544]),k=t([-72.429,24.2097]),z=t([-72.8265,22.7056]),S=t([-77.1852,23.6392]),T=t([-125.0093,29.7791]),O=t([-118.5193,31.3262]),D=t([-118.064,29.6912]),H=t([-124.4369,28.169]),it=t([-128.1314,37.4582]),pt=t([-125.2132,38.214]),yt=t([-122.3616,30.5115]),mt=t([-125.0315,29.8211]);E.moveTo(_[0],_[1]),E.lineTo(M[0],M[1]),E.lineTo(A[0],A[1]),E.lineTo(A[0],A[1]),E.lineTo(b[0],b[1]),E.closePath(),E.moveTo(I[0],I[1]),E.lineTo(L[0],L[1]),E.lineTo(F[0],F[1]),E.lineTo(F[0],F[1]),E.lineTo($[0],$[1]),E.closePath(),E.moveTo(Y[0],Y[1]),E.lineTo(k[0],k[1]),E.lineTo(z[0],z[1]),E.lineTo(z[0],z[1]),E.lineTo(S[0],S[1]),E.closePath(),E.moveTo(T[0],T[1]),E.lineTo(O[0],O[1]),E.lineTo(D[0],D[1]),E.lineTo(D[0],D[1]),E.lineTo(H[0],H[1]),E.closePath(),E.moveTo(it[0],it[1]),E.lineTo(pt[0],pt[1]),E.lineTo(yt[0],yt[1]),E.lineTo(yt[0],yt[1]),E.lineTo(mt[0],mt[1]),E.closePath()},m.getCompositionBorders=function(){var E=Tn();return this.drawCompositionBorders(E),E.toString()},m.scale(1070)}function OG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function IG(){var e,r,t=hn().rotate([5,-38.6]).parallels([0,60]),n,i=hn().rotate([5,-38.6]).parallels([0,60]),a,o,s={point:function(f,c){o=[f,c]}};function u(f){var c=f[0],h=f[1];return o=null,n.point(c,h),o||(a.point(c,h),o)}u.invert=function(f){var c=t.scale(),h=t.translate(),v=(f[0]-h[0])/c,g=(f[1]-h[1])/c;return(g>=.05346&&g<.0897&&v>=-.13388&&v<-.0322?i:t).invert(f)},u.stream=function(f){return e&&r===f?e:e=OG([t.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(t.precision(f),i.precision(f),l()):t.precision()},u.scale=function(f){return arguments.length?(t.scale(f),i.scale(f),u.translate(t.translate())):t.scale()},u.translate=function(f){if(!arguments.length)return t.translate();var c=t.scale(),h=+f[0],v=+f[1];return n=t.translate(f).clipExtent([[h-.06857*c,v-.1288*c],[h+.13249*c,v+.06*c]]).stream(s),a=i.translate([h+.1*c,v-.094*c]).clipExtent([[h-.1331*c+J,v+.053457*c+J],[h-.0354*c-J,v+.08969*c-J]]).stream(s),l()},u.fitExtent=function(f,c){return Sn(u,f,c)},u.fitSize=function(f,c){return Vn(u,f,c)};function l(){return e=r=null,u}return u.drawCompositionBorders=function(f){var c=t([-14.034675,34.965007]),h=t([-7.4208899,35.536988]),v=t([-7.3148275,33.54359]);f.moveTo(c[0],c[1]),f.lineTo(h[0],h[1]),f.lineTo(v[0],v[1])},u.getCompositionBorders=function(){var f=Tn();return this.drawCompositionBorders(f),f.toString()},u.scale(2700)}function DG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function BG(){var e,r,t=hn().rotate([10,-39.3]).parallels([0,60]),n,i=hn().rotate([17,-32.7]).parallels([0,60]),a,o=hn().rotate([27.8,-38.6]).parallels([0,60]),s,u,l={point:function(h,v){u=[h,v]}};function f(h){var v=h[0],g=h[1];return u=null,n.point(v,g),u||(a.point(v,g),u)||(s.point(v,g),u)}f.invert=function(h){var v=t.scale(),g=t.translate(),d=(h[0]-g[0])/v,m=(h[1]-g[1])/v;return(m>=.0093&&m<.03678&&d>=-.03875&&d<-.0116?i:m>=-.0412&&m<.0091&&d>=-.07782&&d<-.01166?o:t).invert(h)},f.stream=function(h){return e&&r===h?e:e=DG([t.stream(r=h),i.stream(h),o.stream(h)])},f.precision=function(h){return arguments.length?(t.precision(h),i.precision(h),o.precision(h),c()):t.precision()},f.scale=function(h){return arguments.length?(t.scale(h),i.scale(h),o.scale(h*.6),f.translate(t.translate())):t.scale()},f.translate=function(h){if(!arguments.length)return t.translate();var v=t.scale(),g=+h[0],d=+h[1];return n=t.translate(h).clipExtent([[g-.0115*v,d-.1138*v],[g+.2105*v,d+.0673*v]]).stream(l),a=i.translate([g-.0265*v,d+.025*v]).clipExtent([[g-.0388*v+J,d+.0093*v+J],[g-.0116*v-J,d+.0368*v-J]]).stream(l),s=o.translate([g-.045*v,d+-.02*v]).clipExtent([[g-.0778*v+J,d-.0413*v+J],[g-.0117*v-J,d+.0091*v-J]]).stream(l),c()},f.fitExtent=function(h,v){return Sn(f,h,v)},f.fitSize=function(h,v){return Vn(f,h,v)};function c(){return e=r=null,f}return f.drawCompositionBorders=function(h){var v=t([-12.8351,38.7113]),g=t([-10.8482,38.7633]),d=t([-10.8181,37.2072]),m=t([-12.7345,37.1573]),x=t([-16.0753,41.4436]),E=t([-10.9168,41.6861]),_=t([-10.8557,38.7747]),M=t([-15.6728,38.5505]);h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.closePath(),h.moveTo(x[0],x[1]),h.lineTo(E[0],E[1]),h.lineTo(_[0],_[1]),h.lineTo(_[0],_[1]),h.lineTo(M[0],M[1]),h.closePath()},f.getCompositionBorders=function(){var h=Tn();return this.drawCompositionBorders(h),h.toString()},f.scale(4200)}function RG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function FG(){var e,r,t=Be().rotate([80,1.5]),n,i=Be().rotate([90.73,1]),a,o,s={point:function(f,c){o=[f,c]}};function u(f){var c=f[0],h=f[1];return o=null,n.point(c,h),o||(a.point(c,h),o)}u.invert=function(f){var c=t.scale(),h=t.translate(),v=(f[0]-h[0])/c,g=(f[1]-h[1])/c;return(g>=-.0676&&g<-.026&&v>=-.0857&&v<-.0263?i:t).invert(f)},u.stream=function(f){return e&&r===f?e:e=RG([t.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(t.precision(f),i.precision(f),l()):t.precision()},u.scale=function(f){return arguments.length?(t.scale(f),i.scale(f),u.translate(t.translate())):t.scale()},u.translate=function(f){if(!arguments.length)return t.translate();var c=t.scale(),h=+f[0],v=+f[1];return n=t.translate(f).clipExtent([[h-.0262*c,v-.0734*c],[h+.1741*c,v+.079*c]]).stream(s),a=i.translate([h-.06*c,v-.04*c]).clipExtent([[h-.0857*c+J,v-.0676*c+J],[h-.0263*c-J,v-.026*c-J]]).stream(s),l()},u.fitExtent=function(f,c){return Sn(u,f,c)},u.fitSize=function(f,c){return Vn(u,f,c)};function l(){return e=r=null,u}return u.drawCompositionBorders=function(f){var c=t([-84.9032,2.3757]),h=t([-81.5047,2.3708]),v=t([-81.5063,-.01]),g=t([-84.9086,-.005]);f.moveTo(c[0],c[1]),f.lineTo(h[0],h[1]),f.lineTo(v[0],v[1]),f.lineTo(g[0],g[1]),f.closePath()},u.getCompositionBorders=function(){var f=Tn();return this.drawCompositionBorders(f),f.toString()},u.scale(3500)}function kG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function $G(){var e,r,t=CG().rotate([72,37]),n,i=MG().rotate([72,0]),a,o=Be().rotate([80,33.5]),s,u=Be().rotate([110,25]),l,f,c={point:function(g,d){f=[g,d]}};function h(g){var d=g[0],m=g[1];return f=null,n.point(d,m),f||(a.point(d,m),f)||(s.point(d,m),f)||(l.point(d,m),f)}h.invert=function(g){var d=t.scale(),m=t.translate(),x=(g[0]-m[0])/d,E=(g[1]-m[1])/d;return(E>=.2582&&E<.32&&x>=-.1036&&x<-.087?i:E>=-.01298&&E<.0133&&x>=-.11396&&x<-.05944?o:E>=.01539&&E<.03911&&x>=-.089&&x<-.0588?u:t).invert(g)},h.stream=function(g){return e&&r===g?e:e=kG([t.stream(r=g),i.stream(g),o.stream(g),u.stream(g)])},h.precision=function(g){return arguments.length?(t.precision(g),i.precision(g),o.precision(g),u.precision(g),v()):t.precision()},h.scale=function(g){return arguments.length?(t.scale(g),i.scale(g*.15),o.scale(g*1.5),u.scale(g*1.5),h.translate(t.translate())):t.scale()},h.translate=function(g){if(!arguments.length)return t.translate();var d=t.scale(),m=+g[0],x=+g[1];return n=t.translate(g).clipExtent([[m-.059*d,x-.3835*d],[m+.4498*d,x+.3375*d]]).stream(c),a=i.translate([m-.087*d,x+.17*d]).clipExtent([[m-.1166*d+J,x+.2582*d+J],[m-.06*d-J,x+.32*d-J]]).stream(c),s=o.translate([m-.092*d,x-0*d]).clipExtent([[m-.114*d+J,x-.013*d+J],[m-.0594*d-J,x+.0133*d-J]]).stream(c),l=u.translate([m-.089*d,x-.0265*d]).clipExtent([[m-.089*d+J,x+.0154*d+J],[m-.0588*d-J,x+.0391*d-J]]).stream(c),v()},h.fitExtent=function(g,d){return Sn(h,g,d)},h.fitSize=function(g,d){return Vn(h,g,d)};function v(){return e=r=null,h}return h.drawCompositionBorders=function(g){var d=t([-82.6999,-51.3043]),m=t([-77.5442,-51.6631]),x=t([-78.0254,-55.186]),E=t([-83.6106,-54.7785]),_=t([-80.0638,-35.984]),M=t([-76.2153,-36.1811]),A=t([-76.2994,-37.6839]),b=t([-80.2231,-37.4757]),I=t([-78.442,-37.706]),L=t([-76.263,-37.8054]),F=t([-76.344,-39.1595]),$=t([-78.5638,-39.0559]);g.moveTo(d[0],d[1]),g.lineTo(m[0],m[1]),g.lineTo(x[0],x[1]),g.lineTo(x[0],x[1]),g.lineTo(E[0],E[1]),g.closePath(),g.moveTo(_[0],_[1]),g.lineTo(M[0],M[1]),g.lineTo(A[0],A[1]),g.lineTo(A[0],A[1]),g.lineTo(b[0],b[1]),g.closePath(),g.moveTo(I[0],I[1]),g.lineTo(L[0],L[1]),g.lineTo(F[0],F[1]),g.lineTo(F[0],F[1]),g.lineTo($[0],$[1]),g.closePath()},h.getCompositionBorders=function(){var g=Tn();return this.drawCompositionBorders(g),g.toString()},h.scale(700)}function NG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function zG(){var e,r,t=cy().rotate([-136,-22]).parallels([40,34]),n,i=cy().rotate([-146,-26]).parallels([40,34]),a,o=cy().rotate([-126,-19]).parallels([40,34]),s,u,l={point:function(h,v){u=[h,v]}};function f(h){var v=h[0],g=h[1];return u=null,n.point(v,g),u||(a.point(v,g),u)||(s.point(v,g),u)}f.invert=function(h){var v=t.scale(),g=t.translate(),d=(h[0]-g[0])/v,m=(h[1]-g[1])/v;return(m>=-.10925&&m<-.02701&&d>=-.135&&d<-.0397?i:m>=.04713&&m<.11138&&d>=-.03986&&d<.051?o:t).invert(h)},f.stream=function(h){return e&&r===h?e:e=NG([t.stream(r=h),i.stream(h),o.stream(h)])},f.precision=function(h){return arguments.length?(t.precision(h),i.precision(h),o.precision(h),c()):t.precision()},f.scale=function(h){return arguments.length?(t.scale(h),i.scale(h),o.scale(h*.7),f.translate(t.translate())):t.scale()},f.translate=function(h){if(!arguments.length)return t.translate();var v=t.scale(),g=+h[0],d=+h[1];return n=t.translate(h).clipExtent([[g-.1352*v,d-.1091*v],[g+.117*v,d+.098*v]]).stream(l),a=i.translate([g-.0425*v,d-.005*v]).clipExtent([[g-.135*v+J,d-.1093*v+J],[g-.0397*v-J,d-.027*v-J]]).stream(l),s=o.translate(h).clipExtent([[g-.0399*v+J,d+.0471*v+J],[g+.051*v-J,d+.1114*v-J]]).stream(l),c()},f.fitExtent=function(h,v){return Sn(f,h,v)},f.fitSize=function(h,v){return Vn(f,h,v)};function c(){return e=r=null,f}return f.drawCompositionBorders=function(h){var v=t([126.01320483689143,41.621090310215585]),g=t([133.04304387025903,42.15087523707186]),d=t([133.3021766080688,37.43975444725098]),m=t([126.87889168628224,36.95488945159779]),x=t([132.9,29.8]),E=t([134,33]),_=t([139.3,33.2]),M=t([139.16,30.5]);h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.closePath(),h.moveTo(x[0],x[1]),h.lineTo(E[0],E[1]),h.lineTo(_[0],_[1]),h.lineTo(M[0],M[1])},f.getCompositionBorders=function(){var h=Tn();return this.drawCompositionBorders(h),h.toString()},f.scale(2200)}function GG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function WG(){var e,r,t=hn().rotate([-3,-46.2]).parallels([0,60]),n,i=Be().center([-53.2,3.9]),a,o=Be().center([-61.03,14.67]),s,u=Be().center([-61.46,16.14]),l,f=Be().center([-62.85,17.92]),c,h=Be().center([-56.23,46.93]),v,g=Be().center([45.16,-12.8]),d,m=Be().center([55.52,-21.13]),x,E=Be().center([165.8,-21.07]),_,M=Be().center([-178.1,-14.3]),A,b=Be().center([-150.55,-17.11]),I,L=Be().center([-150.55,-17.11]),F,$,Y={point:function(S,T){$=[S,T]}};function k(S){var T=S[0],O=S[1];return $=null,n.point(T,O),$||(a.point(T,O),$)||(s.point(T,O),$)||(l.point(T,O),$)||(c.point(T,O),$)||(v.point(T,O),$)||(d.point(T,O),$)||(x.point(T,O),$)||(_.point(T,O),$)||(A.point(T,O),$)||(I.point(T,O),$)||(F.point(T,O),$)}k.invert=function(S){var T=t.scale(),O=t.translate(),D=(S[0]-O[0])/T,H=(S[1]-O[1])/T;return(H>=.029&&H<.0864&&D>=-.14&&D<-.0996?i:H>=0&&H<.029&&D>=-.14&&D<-.0996?o:H>=-.032&&H<0&&D>=-.14&&D<-.0996?u:H>=-.052&&H<-.032&&D>=-.14&&D<-.0996?f:H>=-.076&&H<.052&&D>=-.14&&D<-.0996?h:H>=-.076&&H<-.052&&D>=.0967&&D<.1371?g:H>=-.052&&H<-.02&&D>=.0967&&D<.1371?m:H>=-.02&&H<.012&&D>=.0967&&D<.1371?E:H>=.012&&H<.033&&D>=.0967&&D<.1371?M:H>=.033&&H<.0864&&D>=.0967&&D<.1371?b:t).invert(S)},k.stream=function(S){return e&&r===S?e:e=GG([t.stream(r=S),i.stream(S),o.stream(S),u.stream(S),f.stream(S),h.stream(S),g.stream(S),m.stream(S),E.stream(S),M.stream(S),b.stream(S),L.stream(S)])},k.precision=function(S){return arguments.length?(t.precision(S),i.precision(S),o.precision(S),u.precision(S),f.precision(S),h.precision(S),g.precision(S),m.precision(S),E.precision(S),M.precision(S),b.precision(S),L.precision(S),z()):t.precision()},k.scale=function(S){return arguments.length?(t.scale(S),i.scale(S*.6),o.scale(S*1.6),u.scale(S*1.4),f.scale(S*5),h.scale(S*1.3),g.scale(S*1.6),m.scale(S*1.2),E.scale(S*.3),M.scale(S*2.7),b.scale(S*.5),L.scale(S*.06),k.translate(t.translate())):t.scale()},k.translate=function(S){if(!arguments.length)return t.translate();var T=t.scale(),O=+S[0],D=+S[1];return n=t.translate(S).clipExtent([[O-.0996*T,D-.0908*T],[O+.0967*T,D+.0864*T]]).stream(Y),a=i.translate([O-.12*T,D+.0575*T]).clipExtent([[O-.14*T+J,D+.029*T+J],[O-.0996*T-J,D+.0864*T-J]]).stream(Y),s=o.translate([O-.12*T,D+.013*T]).clipExtent([[O-.14*T+J,D+0*T+J],[O-.0996*T-J,D+.029*T-J]]).stream(Y),l=u.translate([O-.12*T,D-.014*T]).clipExtent([[O-.14*T+J,D-.032*T+J],[O-.0996*T-J,D+0*T-J]]).stream(Y),c=f.translate([O-.12*T,D-.044*T]).clipExtent([[O-.14*T+J,D-.052*T+J],[O-.0996*T-J,D-.032*T-J]]).stream(Y),v=h.translate([O-.12*T,D-.065*T]).clipExtent([[O-.14*T+J,D-.076*T+J],[O-.0996*T-J,D-.052*T-J]]).stream(Y),d=g.translate([O+.117*T,D-.064*T]).clipExtent([[O+.0967*T+J,D-.076*T+J],[O+.1371*T-J,D-.052*T-J]]).stream(Y),x=m.translate([O+.116*T,D-.0355*T]).clipExtent([[O+.0967*T+J,D-.052*T+J],[O+.1371*T-J,D-.02*T-J]]).stream(Y),_=E.translate([O+.116*T,D-.0048*T]).clipExtent([[O+.0967*T+J,D-.02*T+J],[O+.1371*T-J,D+.012*T-J]]).stream(Y),A=M.translate([O+.116*T,D+.022*T]).clipExtent([[O+.0967*T+J,D+.012*T+J],[O+.1371*T-J,D+.033*T-J]]).stream(Y),F=L.translate([O+.11*T,D+.045*T]).clipExtent([[O+.0967*T+J,D+.033*T+J],[O+.1371*T-J,D+.06*T-J]]).stream(Y),I=b.translate([O+.115*T,D+.075*T]).clipExtent([[O+.0967*T+J,D+.06*T+J],[O+.1371*T-J,D+.0864*T-J]]).stream(Y),z()},k.fitExtent=function(S,T){return Sn(k,S,T)},k.fitSize=function(S,T){return Vn(k,S,T)};function z(){return e=r=null,k}return k.drawCompositionBorders=function(S){var T,O,D,H;T=t([-7.938886725111036,43.7219460918835]),O=t([-4.832080896458295,44.12930268549372]),D=t([-4.205299743793263,40.98096346967365]),H=t([-7.071796453126152,40.610037319181444]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([-8.42751373617692,45.32889452553031]),O=t([-5.18599305777107,45.7566442062976]),D=t([-4.832080905154431,44.129302726751426]),H=t([-7.938886737126192,43.72194613263854]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([-9.012656899657046,47.127733821030176]),O=t([-5.6105244772793155,47.579777861410626]),D=t([-5.185993067168585,45.756644248170346]),H=t([-8.427513749141811,45.32889456686326]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([-9.405747558985553,48.26506375557457]),O=t([-5.896175018439575,48.733352850851624]),D=t([-5.610524487556043,47.57977790393761]),H=t([-9.012656913808351,47.127733862971255]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([-9.908436061346974,49.642448789505856]),O=t([-6.262026716233124,50.131426841787174]),D=t([-5.896175029331232,48.73335289377258]),H=t([-9.40574757396393,48.26506379787767]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([11.996907706504462,50.16039028163579]),O=t([15.649907879773343,49.68279246765253]),D=t([15.156712840526632,48.30371557625831]),H=t([11.64122661754411,48.761078240546816]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([11.641226606955788,48.7610781975889]),O=t([15.156712825832164,48.30371553390465]),D=t([14.549932166241172,46.4866532486199]),H=t([11.204443787952183,46.91899233914248]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([11.204443778297161,46.918992296823646]),O=t([14.549932152815039,46.486653206856396]),D=t([13.994409796764009,44.695833444323256]),H=t([10.805306599253848,45.105133870684924]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([10.805306590412085,45.10513382903308]),O=t([13.99440978444733,44.695833403183606]),D=t([13.654633799024392,43.53552468558152]),H=t([10.561516803980956,43.930671459798624]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([10.561516795617383,43.93067141859757]),O=t([13.654633787361952,43.5355246448671]),D=t([12.867691604239901,40.640701985019405]),H=t([9.997809515987688,41.00288343254471]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([10.8,42.4]),O=t([12.8,42.13]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1])},k.getCompositionBorders=function(){var S=Tn();return this.drawCompositionBorders(S),S.toString()},k.scale(2700)}function YG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function HG(){var e,r,t=hn().rotate([-10,-53]).parallels([0,60]),n,i=Be().center([-61.46,16.14]),a,o=Be().center([-53.2,3.9]),s,u=hn().rotate([27.8,-38.9]).parallels([0,60]),l,f=hn().rotate([25.43,-37.398]).parallels([0,60]),c,h=hn().rotate([31.17,-39.539]).parallels([0,60]),v,g=hn().rotate([17,-32.7]).parallels([0,60]),d,m=hn().rotate([16,-28.5]).parallels([0,60]),x,E=Be().center([-61.03,14.67]),_,M=Be().center([45.16,-12.8]),A,b=Be().center([55.52,-21.13]),I,L=hn().rotate([-14.4,-35.95]).parallels([0,60]),F,$,Y={point:function(S,T){$=[S,T]}};function k(S){var T=S[0],O=S[1];return $=null,n.point(T,O),$||(s.point(T,O),$)||(_.point(T,O),$)||(a.point(T,O),$)||(x.point(T,O),$)||(d.point(T,O),$)||(A.point(T,O),$)||(I.point(T,O),$)||(F.point(T,O),$)||(l.point(T,O),$)||(c.point(T,O),$)||(v.point(T,O),$)}k.invert=function(S){var T=t.scale(),O=t.translate(),D=(S[0]-(O[0]+.08*T))/T,H=(S[1]-O[1])/T;return(H>=-.31&&H<-.24&&D>=.14&&D<.24?i:H>=-.24&&H<-.17&&D>=.14&&D<.24?o:H>=-.17&&H<-.12&&D>=.21&&D<.24?f:H>=-.17&&H<-.14&&D>=.14&&D<.165?h:H>=-.17&&H<-.1&&D>=.14&&D<.24?u:H>=-.1&&H<-.03&&D>=.14&&D<.24?g:H>=-.03&&H<.04&&D>=.14&&D<.24?m:H>=-.31&&H<-.24&&D>=.24&&D<.34?E:H>=-.24&&H<-.17&&D>=.24&&D<.34?M:H>=-.17&&H<-.1&&D>=.24&&D<.34?b:H>=-.1&&H<-.03&&D>=.24&&D<.34?L:t).invert(S)},k.stream=function(S){return e&&r===S?e:e=YG([t.stream(r=S),o.stream(S),E.stream(S),i.stream(S),m.stream(S),g.stream(S),M.stream(S),b.stream(S),L.stream(S),u.stream(S),f.stream(S),h.stream(S)])},k.precision=function(S){return arguments.length?(t.precision(S),o.precision(S),E.precision(S),i.precision(S),m.precision(S),g.precision(S),M.precision(S),b.precision(S),L.precision(S),u.precision(S),f.precision(S),h.precision(S),z()):t.precision()},k.scale=function(S){return arguments.length?(t.scale(S),i.scale(S*3),o.scale(S*.8),E.scale(S*3.5),b.scale(S*2.7),u.scale(S*2),f.scale(S*2),h.scale(S*2),g.scale(S*3),m.scale(S),M.scale(S*5.5),L.scale(S*6),k.translate(t.translate())):t.scale()},k.translate=function(S){if(!arguments.length)return t.translate();var T=t.scale(),O=+S[0],D=+S[1];return n=t.translate([O-.08*T,D]).clipExtent([[O-.51*T,D-.33*T],[O+.5*T,D+.33*T]]).stream(Y),a=i.translate([O+.19*T,D-.275*T]).clipExtent([[O+.14*T+J,D-.31*T+J],[O+.24*T-J,D-.24*T-J]]).stream(Y),s=o.translate([O+.19*T,D-.205*T]).clipExtent([[O+.14*T+J,D-.24*T+J],[O+.24*T-J,D-.17*T-J]]).stream(Y),l=u.translate([O+.19*T,D-.135*T]).clipExtent([[O+.14*T+J,D-.17*T+J],[O+.24*T-J,D-.1*T-J]]).stream(Y),c=f.translate([O+.225*T,D-.147*T]).clipExtent([[O+.21*T+J,D-.17*T+J],[O+.24*T-J,D-.12*T-J]]).stream(Y),v=h.translate([O+.153*T,D-.15*T]).clipExtent([[O+.14*T+J,D-.17*T+J],[O+.165*T-J,D-.14*T-J]]).stream(Y),d=g.translate([O+.19*T,D-.065*T]).clipExtent([[O+.14*T+J,D-.1*T+J],[O+.24*T-J,D-.03*T-J]]).stream(Y),x=m.translate([O+.19*T,D+.005*T]).clipExtent([[O+.14*T+J,D-.03*T+J],[O+.24*T-J,D+.04*T-J]]).stream(Y),_=E.translate([O+.29*T,D-.275*T]).clipExtent([[O+.24*T+J,D-.31*T+J],[O+.34*T-J,D-.24*T-J]]).stream(Y),A=M.translate([O+.29*T,D-.205*T]).clipExtent([[O+.24*T+J,D-.24*T+J],[O+.34*T-J,D-.17*T-J]]).stream(Y),I=b.translate([O+.29*T,D-.135*T]).clipExtent([[O+.24*T+J,D-.17*T+J],[O+.34*T-J,D-.1*T-J]]).stream(Y),F=L.translate([O+.29*T,D-.065*T]).clipExtent([[O+.24*T+J,D-.1*T+J],[O+.34*T-J,D-.03*T-J]]).stream(Y),z()},k.fitExtent=function(S,T){return Sn(k,S,T)},k.fitSize=function(S,T){return Vn(k,S,T)};function z(){return e=r=null,k}return k.drawCompositionBorders=function(S){var T,O,D,H;T=t([42.45755610828648,63.343658547914934]),O=t([52.65837266667029,59.35045080290929]),D=t([47.19754502247785,56.12653496548117]),H=t([37.673034273363044,59.61638268506111]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([59.41110754003403,62.35069727399336]),O=t([66.75050228640794,57.11797303636038]),D=t([60.236065725110436,54.63331433818992]),H=t([52.65837313153311,59.350450804599355]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([48.81091130080243,66.93353402634641]),O=t([59.41110730654679,62.35069740653086]),D=t([52.6583728974441,59.3504509222445]),H=t([42.45755631675751,63.34365868805821]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([31.054198418446475,52.1080673766184]),O=t([39.09869284884117,49.400700047190554]),D=t([36.0580811499175,46.02944174908498]),H=t([28.690508588835726,48.433126979386415]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([33.977877745912025,55.849945501331]),O=t([42.75328432167726,52.78455122462353]),D=t([39.09869297540224,49.400700176148625]),H=t([31.05419851807008,52.10806751810923]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([52.658372900759296,59.35045068526415]),O=t([60.23606549583304,54.63331423800264]),D=t([54.6756370953122,51.892298789399455]),H=t([47.19754524788189,56.126534861222794]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([47.19754506082455,56.126534735591456]),O=t([54.675636900123514,51.892298681337095]),D=t([49.94448648951486,48.98775484983285]),H=t([42.75328468716108,52.78455126060818]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([42.75328453416769,52.78455113209101]),O=t([49.94448632339758,48.98775473706457]),D=t([45.912339990394315,45.99361784987003]),H=t([39.09869317356607,49.40070009378711]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([37.673034114296634,59.61638254183119]),O=t([47.197544835420544,56.126534839849846]),D=t([42.75328447467064,52.78455135314068]),H=t([33.977877870363905,55.849945644671145]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([44.56748486446032,57.26489367845818]),D=t([43.9335791193588,53.746540942601726]),H=t([43,56]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath(),T=t([37.673034114296634,59.61638254183119]),O=t([40.25902691953466,58.83002044222639]),D=t([38.458270492742024,57.26232178028002]),H=t([35.97754948030156,58.00266637992386]),S.moveTo(T[0],T[1]),S.lineTo(O[0],O[1]),S.lineTo(D[0],D[1]),S.lineTo(H[0],H[1]),S.closePath()},k.getCompositionBorders=function(){var S=Tn();return this.drawCompositionBorders(S),S.toString()},k.scale(750)}function XG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function VG(){var e,r,t=hn().rotate([-5.5,-52.2]).parallels([0,60]),n,i=Be().center([-68.25,12.2]),a,o=Be().center([-63.1,17.5]),s,u,l={point:function(h,v){u=[h,v]}};function f(h){const[v,g]=h;return u=null,n.point(v,g),u||(a.point(v,g),u)||(s.point(v,g),u)}f.invert=function(h){var v=t.scale(),g=t.translate(),d=(h[0]-g[0])/v,m=(h[1]-g[1])/v;return(m>=-.0067&&m<.0015&&d>=-.0232&&d<-.0154?i:m>=-.022&&m<-.014&&d>=-.023&&d<-.014?o:t).invert(h)},f.stream=function(h){return e&&r===h?e:e=XG([t.stream(r=h),i.stream(h),o.stream(h)])},f.precision=function(h){return arguments.length?(t.precision(h),i.precision(h),o.precision(h),c()):t.precision()},f.scale=function(h){return arguments.length?(t.scale(h),i.scale(h),o.scale(h),f.translate(t.translate())):t.scale()},f.translate=function(h){if(!arguments.length)return t.translate();const v=t.scale(),g=+h[0],d=+h[1];return n=t.translate(h).clipExtent([[g-.0245*v,d-.026*v],[g+.023*v,d+.026*v]]).stream(l),a=i.translate([g-.0186*v,d-.00325*v]).clipExtent([[g-.0232*v+J,d-.0067*v+J],[g-.0154*v-J,d+.0015*v-J]]).stream(l),s=o.translate([g-.0185*v,d-.017*v]).clipExtent([[g-.023*v+J,d-.022*v+J],[g-.014*v-J,d-.014*v-J]]).stream(l),c()},f.fitExtent=function(h,v){return Sn(f,h,v)},f.fitSize=function(h,v){return Vn(f,h,v)};function c(){return e=r=null,f}return f.drawCompositionBorders=function(h){var v=t([3.30573,52.5562]),g=t([4.043,52.572]),d=t([4.0646,52.1017]),m=t([3.3382,52.0861]),x=t([3.262,53.439]),E=t([4.1373,53.4571]),_=t([4.1574,52.9946]),M=t([3.2951,52.9768]);h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.closePath(),h.moveTo(x[0],x[1]),h.lineTo(E[0],E[1]),h.lineTo(_[0],_[1]),h.lineTo(_[0],_[1]),h.lineTo(M[0],M[1]),h.closePath()},f.getCompositionBorders=function(){var h=Tn();return this.drawCompositionBorders(h),h.toString()},f.scale(4200)}function UG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function KG(){var e,r,t=Be().center([105.25,4]),n,i=Be().center([118.65,2.86]),a,o,s={point:function(f,c){o=[f,c]}};function u(f){var c=f[0],h=f[1];return o=null,n.point(c,h),o||(a.point(c,h),o)}u.invert=function(f){var c=t.scale(),h=t.translate(),v=(f[0]-h[0])/c,g=(f[1]-h[1])/c;return(g>=-.0521&&g<.0229&&v>=-.0111&&v<.1?i:t).invert(f)},u.stream=function(f){return e&&r===f?e:e=UG([t.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(t.precision(f),i.precision(f),l()):t.precision()},u.scale=function(f){return arguments.length?(t.scale(f),i.scale(f*.615),u.translate(t.translate())):t.scale()},u.translate=function(f){if(!arguments.length)return t.translate();var c=t.scale(),h=+f[0],v=+f[1];return n=t.translate(f).clipExtent([[h-.11*c,v-.0521*c],[h-.0111*c,v+.0521*c]]).stream(s),a=i.translate([h+.09*c,v-0*c]).clipExtent([[h-.0111*c+J,v-.0521*c+J],[h+.1*c-J,v+.024*c-J]]).stream(s),l()},u.fitExtent=function(f,c){return Sn(u,f,c)},u.fitSize=function(f,c){return Vn(u,f,c)};function l(){return e=r=null,u}return u.drawCompositionBorders=function(f){var c=t([106.3214,2.0228]),h=t([105.1843,2.3761]),v=t([104.2151,3.3618]),g=t([104.215,4.5651]);f.moveTo(c[0],c[1]),f.lineTo(h[0],h[1]),f.lineTo(v[0],v[1]),f.lineTo(g[0],g[1])},u.getCompositionBorders=function(){var f=Tn();return this.drawCompositionBorders(f),f.toString()},u.scale(4800)}function qG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function jG(){var e,r,t=Be().rotate([-9.5,-1.5]),n,i=Be().rotate([-8.6,-3.5]),a,o=Be().rotate([-5.6,1.45]),s,u,l={point:function(h,v){u=[h,v]}};function f(h){var v=h[0],g=h[1];return u=null,n.point(v,g),u||(a.point(v,g),u)||(s.point(v,g),u)}f.invert=function(h){var v=t.scale(),g=t.translate(),d=(h[0]-g[0])/v,m=(h[1]-g[1])/v;return(m>=-.02&&m<0&&d>=-.038&&d<-.005?i:m>=0&&m<.02&&d>=-.038&&d<-.005?o:t).invert(h)},f.stream=function(h){return e&&r===h?e:e=qG([t.stream(r=h),i.stream(h),o.stream(h)])},f.precision=function(h){return arguments.length?(t.precision(h),i.precision(h),o.precision(h),c()):t.precision()},f.scale=function(h){return arguments.length?(t.scale(h),i.scale(h*1.5),o.scale(h*4),f.translate(t.translate())):t.scale()},f.translate=function(h){if(!arguments.length)return t.translate();var v=t.scale(),g=+h[0],d=+h[1];return n=t.translate(h).clipExtent([[g-.005*v,d-.02*v],[g+.038*v,d+.02*v]]).stream(l),a=i.translate([g-.025*v,d-.01*v]).clipExtent([[g-.038*v+J,d-.02*v+J],[g-.005*v-J,d+0*v-J]]).stream(l),s=o.translate([g-.025*v,d+.01*v]).clipExtent([[g-.038*v+J,d-0*v+J],[g-.005*v-J,d+.02*v-J]]).stream(l),c()},f.fitExtent=function(h,v){return Sn(f,h,v)},f.fitSize=function(h,v){return Vn(f,h,v)};function c(){return e=r=null,f}return f.drawCompositionBorders=function(h){var v,g,d,m;v=t([9.21327272751682,2.645820439454123]),g=t([11.679126293239872,2.644755519268689]),d=t([11.676845389029227,.35307824637606433]),m=t([9.213572917774014,.35414205204417754]),h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.closePath(),v=t([7.320873711543669,2.64475551449975]),g=t([9.213272722738658,2.645820434679803]),d=t([9.213422896480349,1.4999812505283054]),m=t([7.322014760520787,1.4989168878985566]),h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.closePath(),v=t([7.3220147605302905,1.4989168783492766]),g=t([9.213422896481598,1.499981240979021]),d=t([9.213572912999604,.354142056817247]),m=t([7.323154615739809,.353078251154504]),h.moveTo(v[0],v[1]),h.lineTo(g[0],g[1]),h.lineTo(d[0],d[1]),h.lineTo(m[0],m[1]),h.closePath()},f.getCompositionBorders=function(){var h=Tn();return this.drawCompositionBorders(h),h.toString()},f.scale(12e3)}function ZG(e){var r=e.length;return{point:function(t,n){for(var i=-1;++i<r;)e[i].point(t,n)},sphere:function(){for(var t=-1;++t<r;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)e[t].polygonEnd()}}}function QG(){var e,r,t=mp().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),n,i=mp().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a,o,s={point:function(f,c){o=[f,c]}};function u(f){var c=f[0],h=f[1];return o=null,n.point(c,h),o||(a.point(c,h),o)}u.invert=function(f){var c=t.scale(),h=t.translate(),v=(f[0]-h[0])/c,g=(f[1]-h[1])/c;return(g>=-.089&&g<.06&&v>=.029&&v<.046?i:t).invert(f)},u.stream=function(f){return e&&r===f?e:e=ZG([t.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(t.precision(f),i.precision(f),l()):t.precision()},u.scale=function(f){return arguments.length?(t.scale(f),i.scale(f),u.translate(t.translate())):t.scale()},u.translate=function(f){if(!arguments.length)return t.translate();var c=t.scale(),h=+f[0],v=+f[1];return n=t.translate(f).clipExtent([[h-.065*c,v-.089*c],[h+.075*c,v+.089*c]]).stream(s),a=i.translate([h+.01*c,v+.025*c]).clipExtent([[h+.029*c+J,v-.089*c+J],[h+.046*c-J,v-.06*c-J]]).stream(s),l()},u.fitExtent=function(f,c){return Sn(u,f,c)},u.fitSize=function(f,c){return Vn(u,f,c)};function l(){return e=r=null,u}return u.drawCompositionBorders=function(f){var c,h,v,g;c=t([-1.113205870242365,59.64920050773357]),h=t([.807899092399606,59.59085836472269]),v=t([.5778611961420386,57.93467822832577]),g=t([-1.25867782078448,57.99029450085142]),f.moveTo(c[0],c[1]),f.lineTo(h[0],h[1]),f.lineTo(v[0],v[1]),f.lineTo(g[0],g[1]),f.closePath()},u.getCompositionBorders=function(){var f=Tn();return this.drawCompositionBorders(f),f.toString()},u.scale(2800)}var JG=Object.freeze(Object.defineProperty({__proto__:null,geoAlbersUsa:PG,geoAlbersUsaTerritories:LG,geoConicConformalSpain:IG,geoConicConformalPortugal:BG,geoMercatorEcuador:FG,geoTransverseMercatorChile:$G,geoConicEquidistantJapan:zG,geoConicConformalFrance:WG,geoConicConformalEurope:HG,geoConicConformalNetherlands:VG,geoMercatorMalaysia:KG,geoMercatorEquatorialGuinea:jG,geoAlbersUk:QG},Symbol.toStringTag,{value:"Module"})),tW=oa(JG);Object.defineProperty(xg,"__esModule",{value:!0});var Cw=C.exports,HC=Ht,hy=Cw.__importStar(lc),vy=Cw.__importStar(F5),py=Cw.__importStar(tW);xg.default=function(e,r){if(r===void 0&&(r=!1),HC.isFunction(e))return r?e:e();if(HC.isString(e)){if(hy[e])return r?hy[e]:hy[e]();if(vy[e])return r?vy[e]:vy[e]();if(py[e])return r?py[e]:py[e]()}return null};var eW=C.exports,rW=Ht,_a=lc,XC=F5,nW=No,Ll=eW.__importDefault(xg),iW={geoArea:function(e){return _a.geoArea(e)},geoAreaByName:function(e){return _a.geoArea(this.geoFeatureByName(e))},geoCentroid:function(e){return _a.geoCentroid(e)},geoCentroidByName:function(e){return _a.geoCentroid(this.geoFeatureByName(e))},geoDistance:function(e,r){return _a.geoDistance(e,r)},geoLength:function(e){return _a.geoLength(e)},geoLengthByName:function(e){return _a.geoLength(this.geoFeatureByName(e))},geoContains:function(e,r){return _a.geoContains(e,r)},geoFeatureByName:function(e){var r=this.rows,t;return r.some(function(n){return n.name===e?(t=n,!0):!1}),t},geoFeatureByPosition:function(e){var r=this.rows,t;return r.some(function(n){return _a.geoContains(n,e)?(t=n,!0):!1}),t},geoNameByPosition:function(e){var r=this.geoFeatureByPosition(e);if(r)return r.name},getGeoProjection:Ll.default,geoProject:function(e,r,t){return r=Ll.default(r,t),XC.geoProject(e,r)},geoProjectByName:function(e,r,t){return r=Ll.default(r,t),XC.geoProject(this.geoFeatureByName(e),r)},geoProjectPosition:function(e,r,t){var n=Ll.default(r,t);return n(e)},geoProjectInvert:function(e,r,t){var n=Ll.default(r,t);return n.invert(e)}};rW.assign(nW.View.prototype,iW);var j5=Ht,nm=No;j5.assign(nm.View.prototype,{getAllNodes:function(){var e=[],r=this.root;return r&&r.each?r.each(function(t){e.push(t)}):r&&r.eachNode&&r.eachNode(function(t){e.push(t)}),e},getAllLinks:function(){for(var e=[],r=[this.root],t;t=r.pop();){var n=t.children;n&&n.forEach(function(i){e.push({source:t,target:i}),r.push(i)})}return e}});j5.assign(nm.View.prototype,{getAllEdges:nm.View.prototype.getAllLinks});var Un={},Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});var gy=Ht;function aW(e,r){r===void 0&&(r=[]);var t=void 0;return gy.isFunction(r)?t=r:gy.isArray(r)?t=function(n,i){for(var a=0;a<r.length;a++){var o=r[a];if(n[o]<i[o])return-1;if(n[o]>i[o])return 1}return 0}:gy.isString(r)&&(t=function(n,i){return n[r]<i[r]?-1:n[r]>i[r]?1:0}),e.sort(t)}Sw.default=aW;Object.defineProperty(Un,"__esModule",{value:!0});var oW=C.exports,Oh=Ht,sW=oW.__importDefault(Sw);Un.default=function(e,r,t){t===void 0&&(t=[]);var n=e;t&&t.length&&(n=sW.default(e,t));var i;Oh.isFunction(r)?i=r:Oh.isArray(r)?i=function(o){return"_"+r.map(function(s){return o[s]}).join("-")}:Oh.isString(r)&&(i=function(o){return"_"+o[r]});var a=Oh.groupBy(n,i);return a};var uW=C.exports,VC=Ht,lW=uW.__importDefault(Un),fW=No;VC.assign(fW.View.prototype,{partition:function(e,r){return r===void 0&&(r=[]),lW.default(this.rows,e,r)},group:function(e,r){r===void 0&&(r=[]);var t=this.partition(e,r);return VC.values(t)},groups:function(e,r){return r===void 0&&(r=[]),this.group(e,r)}});var Bi={exports:{}};(function(e,r){(function(t,n){n(r)})(ui,function(t){function n(R){if(R.length===0)return 0;for(var G,X=R[0],K=0,et=1;et<R.length;et++)G=X+R[et],Math.abs(X)>=Math.abs(R[et])?K+=X-G+R[et]:K+=R[et]-G+X,X=G;return X+K}function i(R){if(R.length===0)throw new Error("mean requires at least one data point");return n(R)/R.length}function a(R,G){var X,K,et=i(R),ft=0;if(G===2)for(K=0;K<R.length;K++)ft+=(X=R[K]-et)*X;else for(K=0;K<R.length;K++)ft+=Math.pow(R[K]-et,G);return ft}function o(R){if(R.length===0)throw new Error("variance requires at least one data point");return a(R,2)/R.length}function s(R){if(R.length===1)return 0;var G=o(R);return Math.sqrt(G)}function u(R){if(R.length===0)throw new Error("mode requires at least one data point");if(R.length===1)return R[0];for(var G=R[0],X=NaN,K=0,et=1,ft=1;ft<R.length+1;ft++)R[ft]!==G?(K<et&&(K=et,X=G),et=1,G=R[ft]):et++;return X}function l(R){return R.slice().sort(function(G,X){return G-X})}function f(R){if(R.length===0)throw new Error("min requires at least one data point");for(var G=R[0],X=1;X<R.length;X++)R[X]<G&&(G=R[X]);return G}function c(R){if(R.length===0)throw new Error("max requires at least one data point");for(var G=R[0],X=1;X<R.length;X++)R[X]>G&&(G=R[X]);return G}function h(R,G){var X=R.length*G;if(R.length===0)throw new Error("quantile requires at least one data point.");if(G<0||1<G)throw new Error("quantiles must be between 0 and 1");return G===1?R[R.length-1]:G===0?R[0]:X%1!=0?R[Math.ceil(X)-1]:R.length%2==0?(R[X-1]+R[X])/2:R[X]}function v(R,G,X,K){for(X=X||0,K=K||R.length-1;X<K;){if(600<K-X){var et=K-X+1,ft=G-X+1,Mt=Math.log(et),xt=.5*Math.exp(2*Mt/3),Ct=.5*Math.sqrt(Mt*xt*(et-xt)/et);ft-et/2<0&&(Ct*=-1),v(R,G,Math.max(X,Math.floor(G-ft*xt/et+Ct)),Math.min(K,Math.floor(G+(et-ft)*xt/et+Ct)))}var Yt=R[G],Ae=X,se=K;for(g(R,X,G),R[K]>Yt&&g(R,X,K);Ae<se;){for(g(R,Ae,se),Ae++,se--;R[Ae]<Yt;)Ae++;for(;R[se]>Yt;)se--}R[X]===Yt?g(R,X,se):g(R,++se,K),se<=G&&(X=se+1),G<=se&&(K=se-1)}}function g(R,G,X){var K=R[G];R[G]=R[X],R[X]=K}function d(R,G){var X=R.slice();if(Array.isArray(G)){(function(ft,Mt){for(var xt=[0],Ct=0;Ct<Mt.length;Ct++)xt.push(E(ft.length,Mt[Ct]));xt.push(ft.length-1),xt.sort(x);for(var Yt=[0,xt.length-1];Yt.length;){var Ae=Math.ceil(Yt.pop()),se=Math.floor(Yt.pop());if(!(Ae-se<=1)){var Ce=Math.floor((se+Ae)/2);m(ft,xt[Ce],xt[se],xt[Ae]),Yt.push(se,Ce,Ce,Ae)}}})(X,G);for(var K=[],et=0;et<G.length;et++)K[et]=h(X,G[et]);return K}return m(X,E(X.length,G),0,X.length-1),h(X,G)}function m(R,G,X,K){G%1==0?v(R,G,X,K):(v(R,G=Math.floor(G),X,K),v(R,G+1,G+1,K))}function x(R,G){return R-G}function E(R,G){var X=R*G;return G===1?R-1:G===0?0:X%1!=0?Math.ceil(X)-1:R%2==0?X-.5:X}function _(R,G){if(G<R[0])return 0;if(G>R[R.length-1])return 1;var X=function(ft,Mt){for(var xt=0,Ct=0,Yt=ft.length;Ct<Yt;)Mt<=ft[xt=Ct+Yt>>>1]?Yt=xt:Ct=-~xt;return Ct}(R,G);if(R[X]!==G)return X/R.length;X++;var K=function(ft,Mt){for(var xt=0,Ct=0,Yt=ft.length;Ct<Yt;)Mt>=ft[xt=Ct+Yt>>>1]?Ct=-~xt:Yt=xt;return Ct}(R,G);if(K===X)return X/R.length;var et=K-X+1;return et*(K+X)/2/et/R.length}function M(R){var G=d(R,.75),X=d(R,.25);if(typeof G=="number"&&typeof X=="number")return G-X}function A(R){return+d(R,.5)}function b(R){for(var G=A(R),X=[],K=0;K<R.length;K++)X.push(Math.abs(R[K]-G));return A(X)}function I(R,G){G=G||Math.random;for(var X,K,et=R.length;0<et;)K=Math.floor(G()*et--),X=R[et],R[et]=R[K],R[K]=X;return R}function L(R,G){return I(R.slice().slice(),G)}function F(R){for(var G,X=0,K=0;K<R.length;K++)K!==0&&R[K]===G||(G=R[K],X++);return X}function $(R,G){for(var X=[],K=0;K<R;K++){for(var et=[],ft=0;ft<G;ft++)et.push(0);X.push(et)}return X}function Y(R,G,X,K){var et;if(0<R){var ft=(X[G]-X[R-1])/(G-R+1);et=K[G]-K[R-1]-(G-R+1)*ft*ft}else et=K[G]-X[G]*X[G]/(G+1);return et<0?0:et}function k(R,G,X,K,et,ft,Mt){if(!(G<R)){var xt=Math.floor((R+G)/2);K[X][xt]=K[X-1][xt-1],et[X][xt]=xt;var Ct=X;X<R&&(Ct=Math.max(Ct,et[X][R-1]||0)),Ct=Math.max(Ct,et[X-1][xt]||0);var Yt,Ae,se,Ce=xt-1;G<K.length-1&&(Ce=Math.min(Ce,et[X][G+1]||0));for(var Lr=Ce;Ct<=Lr&&!((Yt=Y(Lr,xt,ft,Mt))+K[X-1][Ct-1]>=K[X][xt]);--Lr)(Ae=Y(Ct,xt,ft,Mt)+K[X-1][Ct-1])<K[X][xt]&&(K[X][xt]=Ae,et[X][xt]=Ct),Ct++,(se=Yt+K[X-1][Lr-1])<K[X][xt]&&(K[X][xt]=se,et[X][xt]=Lr);k(R,xt-1,X,K,et,ft,Mt),k(xt+1,G,X,K,et,ft,Mt)}}function z(R,G){if(R.length!==G.length)throw new Error("sampleCovariance requires samples with equal lengths");if(R.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var X=i(R),K=i(G),et=0,ft=0;ft<R.length;ft++)et+=(R[ft]-X)*(G[ft]-K);return et/(R.length-1)}function S(R){if(R.length<2)throw new Error("sampleVariance requires at least two data points");return a(R,2)/(R.length-1)}function T(R){var G=S(R);return Math.sqrt(G)}function O(R,G,X,K){return(R*G+X*K)/(G+K)}function D(R){if(R.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var G=0,X=0;X<R.length;X++)G+=Math.pow(R[X],2);return Math.sqrt(G/R.length)}function H(){this.totalCount=0,this.data={}}function it(){this.weights=[],this.bias=0}H.prototype.train=function(R,G){for(var X in this.data[G]||(this.data[G]={}),R){var K=R[X];this.data[G][X]===void 0&&(this.data[G][X]={}),this.data[G][X][K]===void 0&&(this.data[G][X][K]=0),this.data[G][X][K]++}this.totalCount++},H.prototype.score=function(R){var G,X={};for(var K in R){var et=R[K];for(G in this.data)X[G]={},this.data[G][K]?X[G][K+"_"+et]=(this.data[G][K][et]||0)/this.totalCount:X[G][K+"_"+et]=0}var ft={};for(G in X)for(var Mt in ft[G]=0,X[G])ft[G]+=X[G][Mt];return ft},it.prototype.predict=function(R){if(R.length!==this.weights.length)return null;for(var G=0,X=0;X<this.weights.length;X++)G+=this.weights[X]*R[X];return 0<(G+=this.bias)?1:0},it.prototype.train=function(R,G){if(G!==0&&G!==1)return null;R.length!==this.weights.length&&(this.weights=R,this.bias=1);var X=this.predict(R);if(X!==G){for(var K=G-X,et=0;et<this.weights.length;et++)this.weights[et]+=K*R[et];this.bias+=K}return this};var pt=1e-4;function yt(R){if(R<0)throw new Error("factorial requires a non-negative value");if(Math.floor(R)!==R)throw new Error("factorial requires an integer input");for(var G=1,X=2;X<=R;X++)G*=X;return G}var mt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Dt=Math.log(Math.sqrt(2*Math.PI)),oe={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},Ot=Math.sqrt(2*Math.PI),Oe={gaussian:function(R){return Math.exp(-.5*R*R)/Ot}},Er={nrd:function(R){var G=T(R),X=M(R);return typeof X=="number"&&(G=Math.min(G,X/1.34)),1.06*G*Math.pow(R.length,-.2)}};function Mr(R,G,X){var K,et;if(G===void 0)K=Oe.gaussian;else if(typeof G=="string"){if(!Oe[G])throw new Error('Unknown kernel "'+G+'"');K=Oe[G]}else K=G;if(X===void 0)et=Er.nrd(R);else if(typeof X=="string"){if(!Er[X])throw new Error('Unknown bandwidth method "'+X+'"');et=Er[X](R)}else et=X;return function(ft){var Mt=0,xt=0;for(Mt=0;Mt<R.length;Mt++)xt+=K((ft-R[Mt])/et);return xt/et/R.length}}var yr=Math.sqrt(2*Math.PI);function fa(R){for(var G=R,X=R,K=1;K<15;K++)G+=X*=R*R/(2*K+1);return Math.round(1e4*(.5+G/yr*Math.exp(-R*R/2)))/1e4}for(var mr=[],en=0;en<=3.09;en+=.01)mr.push(fa(en));function ca(R){var G=1/(1+.5*Math.abs(R)),X=G*Math.exp(-Math.pow(R,2)-1.26551223+1.00002368*G+.37409196*Math.pow(G,2)+.09678418*Math.pow(G,3)-.18628806*Math.pow(G,4)+.27886807*Math.pow(G,5)-1.13520398*Math.pow(G,6)+1.48851587*Math.pow(G,7)-.82215223*Math.pow(G,8)+.17087277*Math.pow(G,9));return 0<=R?1-X:X-1}function Ne(R){var G=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),X=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*G)+Math.log(1-R*R)/2,2)-Math.log(1-R*R)/G)-(2/(Math.PI*G)+Math.log(1-R*R)/2));return 0<=R?X:-X}function Pn(R){if(typeof R=="number")return R<0?-1:R===0?0:1;throw new TypeError("not a number")}t.linearRegression=function(R){var G,X,K=R.length;if(K===1)X=R[G=0][1];else{for(var et,ft,Mt,xt=0,Ct=0,Yt=0,Ae=0,se=0;se<K;se++)xt+=ft=(et=R[se])[0],Ct+=Mt=et[1],Yt+=ft*ft,Ae+=ft*Mt;X=Ct/K-(G=(K*Ae-xt*Ct)/(K*Yt-xt*xt))*xt/K}return{m:G,b:X}},t.linearRegressionLine=function(R){return function(G){return R.b+R.m*G}},t.standardDeviation=s,t.rSquared=function(R,G){if(R.length<2)return 1;for(var X,K=0,et=0;et<R.length;et++)K+=R[et][1];X=K/R.length;for(var ft=0,Mt=0;Mt<R.length;Mt++)ft+=Math.pow(X-R[Mt][1],2);for(var xt=0,Ct=0;Ct<R.length;Ct++)xt+=Math.pow(R[Ct][1]-G(R[Ct][0]),2);return 1-xt/ft},t.mode=function(R){return u(l(R))},t.modeFast=function(R){for(var G,X=new Map,K=0,et=0;et<R.length;et++){var ft=X.get(R[et]);ft===void 0?ft=1:ft++,K<ft&&(G=R[et],K=ft),X.set(R[et],ft)}if(K===0)throw new Error("mode requires at last one data point");return G},t.modeSorted=u,t.min=f,t.max=c,t.extent=function(R){if(R.length===0)throw new Error("extent requires at least one data point");for(var G=R[0],X=R[0],K=1;K<R.length;K++)R[K]>X&&(X=R[K]),R[K]<G&&(G=R[K]);return[G,X]},t.minSorted=function(R){return R[0]},t.maxSorted=function(R){return R[R.length-1]},t.extentSorted=function(R){return[R[0],R[R.length-1]]},t.sum=n,t.sumSimple=function(R){for(var G=0,X=0;X<R.length;X++)G+=R[X];return G},t.product=function(R){for(var G=1,X=0;X<R.length;X++)G*=R[X];return G},t.quantile=d,t.quantileSorted=h,t.quantileRank=function(R,G){return _(l(R),G)},t.quantileRankSorted=_,t.interquartileRange=M,t.iqr=M,t.medianAbsoluteDeviation=b,t.mad=b,t.chunk=function(R,G){var X=[];if(G<1)throw new Error("chunk size must be a positive number");if(Math.floor(G)!==G)throw new Error("chunk size must be an integer");for(var K=0;K<R.length;K+=G)X.push(R.slice(K,K+G));return X},t.sampleWithReplacement=function(R,G,X){if(R.length===0)return[];X=X||Math.random;for(var K=R.length,et=[],ft=0;ft<G;ft++){var Mt=Math.floor(X()*K);et.push(R[Mt])}return et},t.shuffle=L,t.shuffleInPlace=I,t.sample=function(R,G,X){return L(R,X).slice(0,G)},t.ckmeans=function(R,G){if(G>R.length)throw new Error("cannot generate more classes than there are data values");var X=l(R);if(F(X)===1)return[X];var K=$(G,X.length),et=$(G,X.length);(function(Yt,Ae,se){for(var Ce,Lr=Ae[0].length,Wo=Yt[Math.floor(Lr/2)],yi=[],mi=[],Wr=0;Wr<Lr;++Wr)Ce=Yt[Wr]-Wo,Wr===0?(yi.push(Ce),mi.push(Ce*Ce)):(yi.push(yi[Wr-1]+Ce),mi.push(mi[Wr-1]+Ce*Ce)),Ae[0][Wr]=Y(0,Wr,yi,mi),se[0][Wr]=0;for(var xi=1;xi<Ae.length;++xi)k(xi<Ae.length-1?xi:Lr-1,Lr-1,xi,Ae,se,yi,mi)})(X,K,et);for(var ft=[],Mt=et[0].length-1,xt=et.length-1;0<=xt;xt--){var Ct=et[xt][Mt];ft[xt]=X.slice(Ct,Mt+1),0<xt&&(Mt=Ct-1)}return ft},t.uniqueCountSorted=F,t.sumNthPowerDeviations=a,t.equalIntervalBreaks=function(R,G){if(R.length<2)return R;for(var X=f(R),K=c(R),et=[X],ft=(K-X)/G,Mt=1;Mt<G;Mt++)et.push(et[0]+ft*Mt);return et.push(K),et},t.sampleCovariance=z,t.sampleCorrelation=function(R,G){return z(R,G)/T(R)/T(G)},t.sampleVariance=S,t.sampleStandardDeviation=T,t.sampleSkewness=function(R){if(R.length<3)throw new Error("sampleSkewness requires at least three data points");for(var G,X=i(R),K=0,et=0,ft=0;ft<R.length;ft++)K+=(G=R[ft]-X)*G,et+=G*G*G;var Mt=R.length-1,xt=Math.sqrt(K/Mt),Ct=R.length;return Ct*et/((Ct-1)*(Ct-2)*Math.pow(xt,3))},t.sampleKurtosis=function(R){var G=R.length;if(G<4)throw new Error("sampleKurtosis requires at least four data points");for(var X,K=i(R),et=0,ft=0,Mt=0;Mt<G;Mt++)et+=(X=R[Mt]-K)*X,ft+=X*X*X*X;return(G-1)/((G-2)*(G-3))*(G*(G+1)*ft/(et*et)-3*(G-1))},t.permutationsHeap=function(R){for(var G=new Array(R.length),X=[R.slice()],K=0;K<R.length;K++)G[K]=0;for(K=0;K<R.length;)if(G[K]<K){var et=0;K%2!=0&&(et=G[K]);var ft=R[et];R[et]=R[K],R[K]=ft,X.push(R.slice()),G[K]++,K=0}else G[K]=0,K++;return X},t.combinations=function R(G,X){var K,et,ft,Mt,xt=[];for(K=0;K<G.length;K++)if(X===1)xt.push([G[K]]);else for(ft=R(G.slice(K+1,G.length),X-1),et=0;et<ft.length;et++)(Mt=ft[et]).unshift(G[K]),xt.push(Mt);return xt},t.combinationsReplacement=function R(G,X){for(var K=[],et=0;et<G.length;et++)if(X===1)K.push([G[et]]);else for(var ft=R(G.slice(et,G.length),X-1),Mt=0;Mt<ft.length;Mt++)K.push([G[et]].concat(ft[Mt]));return K},t.addToMean=function(R,G,X){return R+(X-R)/(G+1)},t.combineMeans=O,t.combineVariances=function(R,G,X,K,et,ft){var Mt=O(G,X,et,ft);return(X*(R+Math.pow(G-Mt,2))+ft*(K+Math.pow(et-Mt,2)))/(X+ft)},t.geometricMean=function(R){if(R.length===0)throw new Error("geometricMean requires at least one data point");for(var G=1,X=0;X<R.length;X++){if(R[X]<=0)throw new Error("geometricMean requires only positive numbers as input");G*=R[X]}return Math.pow(G,1/R.length)},t.harmonicMean=function(R){if(R.length===0)throw new Error("harmonicMean requires at least one data point");for(var G=0,X=0;X<R.length;X++){if(R[X]<=0)throw new Error("harmonicMean requires only positive numbers as input");G+=1/R[X]}return R.length/G},t.average=i,t.mean=i,t.median=A,t.medianSorted=function(R){return h(R,.5)},t.subtractFromMean=function(R,G,X){return(R*G-X)/(G-1)},t.rootMeanSquare=D,t.rms=D,t.variance=o,t.tTest=function(R,G){return(i(R)-G)/(s(R)/Math.sqrt(R.length))},t.tTestTwoSample=function(R,G,X){var K=R.length,et=G.length;if(!K||!et)return null;X||(X=0);var ft=i(R),Mt=i(G),xt=S(R),Ct=S(G);if(typeof ft=="number"&&typeof Mt=="number"&&typeof xt=="number"&&typeof Ct=="number"){var Yt=((K-1)*xt+(et-1)*Ct)/(K+et-2);return(ft-Mt-X)/Math.sqrt(Yt*(1/K+1/et))}},t.BayesianClassifier=H,t.bayesian=H,t.PerceptronModel=it,t.perceptron=it,t.epsilon=pt,t.factorial=yt,t.gamma=function R(G){if(typeof(X=G)=="number"&&isFinite(X)&&Math.floor(X)===X)return G<=0?NaN:yt(G-1);var X;if(--G<0)return Math.PI/(Math.sin(Math.PI*-G)*R(-G));var K=G+.25;return Math.pow(G/Math.E,G)*Math.sqrt(2*Math.PI*(G+1/6))*(1+1/144/Math.pow(K,2)-1/12960/Math.pow(K,3)-257/207360/Math.pow(K,4)-52/2612736/Math.pow(K,5)+5741173/9405849600/Math.pow(K,6)+37529/18811699200/Math.pow(K,7))},t.gammaln=function(R){if(R<=0)return 1/0;R--;for(var G=mt[0],X=1;X<15;X++)G+=mt[X]/(R+X);var K=5.2421875+R;return Dt+Math.log(G)-K+(R+.5)*Math.log(K)},t.bernoulliDistribution=function(R){if(R<0||1<R)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-R,R]},t.binomialDistribution=function(R,G){if(!(G<0||1<G||R<=0||R%1!=0)){for(var X=0,K=0,et=[],ft=1;et[X]=ft*Math.pow(G,X)*Math.pow(1-G,R-X),K+=et[X],ft=ft*(R-++X+1)/X,K<1-pt;);return et}},t.poissonDistribution=function(R){if(!(R<=0)){for(var G=0,X=0,K=[],et=1;K[G]=Math.exp(-R)*Math.pow(R,G)/et,X+=K[G],et*=++G,X<1-pt;);return K}},t.chiSquaredDistributionTable=oe,t.chiSquaredGoodnessOfFit=function(R,G,X){for(var K,et,ft=0,Mt=G(i(R)),xt=[],Ct=[],Yt=0;Yt<R.length;Yt++)xt[R[Yt]]===void 0&&(xt[R[Yt]]=0),xt[R[Yt]]++;for(Yt=0;Yt<xt.length;Yt++)xt[Yt]===void 0&&(xt[Yt]=0);for(et in Mt)et in xt&&(Ct[+et]=Mt[et]*R.length);for(et=Ct.length-1;0<=et;et--)Ct[et]<3&&(Ct[et-1]+=Ct[et],Ct.pop(),xt[et-1]+=xt[et],xt.pop());for(et=0;et<xt.length;et++)ft+=Math.pow(xt[et]-Ct[et],2)/Ct[et];return K=xt.length-1-1,oe[K][X]<ft},t.kernelDensityEstimation=Mr,t.kde=Mr,t.zScore=function(R,G,X){return(R-G)/X},t.cumulativeStdNormalProbability=function(R){var G=Math.abs(R),X=Math.min(Math.round(100*G),mr.length-1);return 0<=R?mr[X]:+(1-mr[X]).toFixed(4)},t.standardNormalTable=mr,t.errorFunction=ca,t.erf=ca,t.inverseErrorFunction=Ne,t.probit=function(R){return R===0?R=pt:1<=R&&(R=1-pt),Math.sqrt(2)*Ne(2*R-1)},t.permutationTest=function(R,G,X,K){if(K===void 0&&(K=1e4),X===void 0&&(X="two_side"),X!=="two_side"&&X!=="greater"&&X!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var et=i(R)-i(G),ft=new Array(K),Mt=R.concat(G),xt=Math.floor(Mt.length/2),Ct=0;Ct<K;Ct++){I(Mt);var Yt=Mt.slice(0,xt),Ae=Mt.slice(xt,Mt.length),se=i(Yt)-i(Ae);ft[Ct]=se}var Ce=0;if(X==="two_side")for(Ct=0;Ct<=K;Ct++)Math.abs(ft[Ct])>=Math.abs(et)&&(Ce+=1);else if(X==="greater")for(Ct=0;Ct<=K;Ct++)ft[Ct]>=et&&(Ce+=1);else for(Ct=0;Ct<=K;Ct++)ft[Ct]<=et&&(Ce+=1);return Ce/K},t.bisect=function(R,G,X,K,et){if(typeof R!="function")throw new TypeError("func must be a function");for(var ft=0;ft<K;ft++){var Mt=(G+X)/2;if(R(Mt)===0||Math.abs((X-G)/2)<et)return Mt;Pn(R(Mt))===Pn(R(G))?G=Mt:X=Mt}throw new Error("maximum number of iterations exceeded")},t.quickselect=v,t.sign=Pn,t.numericSort=l,Object.defineProperty(t,"__esModule",{value:!0})})})(Bi,Bi.exports);var _g={};Object.defineProperty(_g,"__esModule",{value:!0});_g.default=function(e){for(var r=1/e,t=[],n=0;n<=1;n=n+r)t.push(n);return t};var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};var Tw=C.exports,Z5=Tw.__importStar(Bi.exports),Sv=Ht,im=No,cW=Tw.__importDefault(_g),hW=Tw.__importDefault(Eg),vW=hW.default.STATISTICS_METHODS;function am(e,r){var t=e.getColumn(r);return Sv.isArray(t)&&Sv.isArray(t[0])&&(t=Sv.flattenDeep(t)),t}vW.forEach(function(e){im.View.prototype[e]=function(r){return Z5[e](am(this,r))}});var UC=Z5.quantile;Sv.assign(im.View.prototype,{average:im.View.prototype.mean,quantile:function(e,r){return UC(am(this,e),r)},quantiles:function(e,r){var t=am(this,e);return r.map(function(n){return UC(t,n)})},quantilesByFraction:function(e,r){return this.quantiles(e,cW.default(r))},range:function(e){return[this.min(e),this.max(e)]},extent:function(e){return this.range(e)}});var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.DataSet=void 0;var Aw=C.exports,cu=Ht,pW=Aw.__importDefault(mw.exports),Tv=No,Q5=Aw.__importDefault(Eg),kf=function(e){Aw.__extends(r,e);function r(t){t===void 0&&(t={state:{}});var n=e.call(this)||this;return n.isDataSet=!0,n._onChangeTimer=null,n.views={},n.state={},n.state=t.state,n}return r.registerConnector=function(t,n){r.connectors[t]=n},r.getConnector=function(t){return r.connectors[t]||r.connectors.default},r.registerTransform=function(t,n){r.transforms[t]=n},r.getTransform=function(t){return r.transforms[t]||r.transforms.default},r.prototype._getUniqueViewName=function(){for(var t=cu.uniqueId("view_");this.views[t];)t=cu.uniqueId("view_");return t},r.prototype.createView=function(t,n){if(cu.isNil(t)&&(t=this._getUniqueViewName()),cu.isObject(t)&&(n=t,t=this._getUniqueViewName()),this.views[t])throw new Error("data view exists: "+t);var i=new Tv.View(this,n);return this.views[t]=i,i},r.prototype.getView=function(t){return this.views[t]},r.prototype.setView=function(t,n){this.views[t]=n},r.prototype.setState=function(t,n){var i=this;this.state[t]=n,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){i.emit("statechange",t,n)},16)},r.CONSTANTS=Q5.default,r.connectors={},r.transforms={},r.DataSet=r,r.DataView=Tv.View,r.View=Tv.View,r.version="____DATASET_VERSION____",r}(pW.default);Ft.DataSet=kf;cu.assign(kf,Q5.default);cu.assign(kf.prototype,{view:kf.prototype.createView});Tv.View.DataSet=kf;var KC=Ht,gW=Ft;gW.DataSet.registerConnector("default",function(e,r){var t;if(KC.isString(e)?t=r.getView(e):t=e,!t)throw new TypeError("Invalid dataView");return KC.deepMix([],t.rows)});var qC={},dy={},yy=34,Ol=10,my=13;function J5(e){return new Function("d","return {"+e.map(function(r,t){return JSON.stringify(r)+": d["+t+'] || ""'}).join(",")+"}")}function dW(e,r){var t=J5(e);return function(n,i){return r(t(n),i,e)}}function jC(e){var r=Object.create(null),t=[];return e.forEach(function(n){for(var i in n)i in r||t.push(r[i]=i)}),t}function ln(e,r){var t=e+"",n=t.length;return n<r?new Array(r-n+1).join(0)+t:t}function yW(e){return e<0?"-"+ln(-e,6):e>9999?"+"+ln(e,6):ln(e,4)}function mW(e){var r=e.getUTCHours(),t=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":yW(e.getUTCFullYear())+"-"+ln(e.getUTCMonth()+1,2)+"-"+ln(e.getUTCDate(),2)+(i?"T"+ln(r,2)+":"+ln(t,2)+":"+ln(n,2)+"."+ln(i,3)+"Z":n?"T"+ln(r,2)+":"+ln(t,2)+":"+ln(n,2)+"Z":t||r?"T"+ln(r,2)+":"+ln(t,2)+"Z":"")}function Pw(e){var r=new RegExp('["'+e+`
\r]`),t=e.charCodeAt(0);function n(c,h){var v,g,d=i(c,function(m,x){if(v)return v(m,x-1);g=m,v=h?dW(m,h):J5(m)});return d.columns=g||[],d}function i(c,h){var v=[],g=c.length,d=0,m=0,x,E=g<=0,_=!1;c.charCodeAt(g-1)===Ol&&--g,c.charCodeAt(g-1)===my&&--g;function M(){if(E)return dy;if(_)return _=!1,qC;var b,I=d,L;if(c.charCodeAt(I)===yy){for(;d++<g&&c.charCodeAt(d)!==yy||c.charCodeAt(++d)===yy;);return(b=d)>=g?E=!0:(L=c.charCodeAt(d++))===Ol?_=!0:L===my&&(_=!0,c.charCodeAt(d)===Ol&&++d),c.slice(I+1,b-1).replace(/""/g,'"')}for(;d<g;){if((L=c.charCodeAt(b=d++))===Ol)_=!0;else if(L===my)_=!0,c.charCodeAt(d)===Ol&&++d;else if(L!==t)continue;return c.slice(I,b)}return E=!0,c.slice(I,g)}for(;(x=M())!==dy;){for(var A=[];x!==qC&&x!==dy;)A.push(x),x=M();h&&(A=h(A,m++))==null||v.push(A)}return v}function a(c,h){return c.map(function(v){return h.map(function(g){return f(v[g])}).join(e)})}function o(c,h){return h==null&&(h=jC(c)),[h.map(f).join(e)].concat(a(c,h)).join(`
`)}function s(c,h){return h==null&&(h=jC(c)),a(c,h).join(`
`)}function u(c){return c.map(l).join(`
`)}function l(c){return c.map(f).join(e)}function f(c){return c==null?"":c instanceof Date?mW(c):r.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:n,parseRows:i,format:o,formatBody:s,formatRows:u,formatRow:l,formatValue:f}}var Bs=Pw(","),xW=Bs.parse,wW=Bs.parseRows,_W=Bs.format,EW=Bs.formatBody,MW=Bs.formatRows,CW=Bs.formatRow,SW=Bs.formatValue,Rs=Pw("	"),TW=Rs.parse,AW=Rs.parseRows,PW=Rs.format,bW=Rs.formatBody,LW=Rs.formatRows,OW=Rs.formatRow,IW=Rs.formatValue;function DW(e){for(var r in e){var t=e[r].trim(),n,i;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(n=+t))t=n;else if(i=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))BW&&!!i[4]&&!i[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;e[r]=t}return e}var BW=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),RW=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:Pw,csvParse:xW,csvParseRows:wW,csvFormat:_W,csvFormatBody:EW,csvFormatRows:MW,csvFormatRow:CW,csvFormatValue:SW,tsvParse:TW,tsvParseRows:AW,tsvFormat:PW,tsvFormatBody:bW,tsvFormatRows:LW,tsvFormatRow:OW,tsvFormatValue:IW,autoType:DW},Symbol.toStringTag,{value:"Module"})),FW=oa(RW),kW=Ht,bw=FW,Lw=Ft;Lw.DataSet.registerConnector("dsv",function(e,r){r===void 0&&(r={});var t=r.delimiter||",";if(!kW.isString(t))throw new TypeError("Invalid delimiter: must be a string!");return bw.dsvFormat(t).parse(e)});Lw.DataSet.registerConnector("csv",function(e){return bw.csvParse(e)});Lw.DataSet.registerConnector("tsv",function(e){return bw.tsvParse(e)});var tL={};Object.defineProperty(tL,"__esModule",{value:!0});var $W=lc,NW=Ft;function eL(e,r){r.dataType="geo-graticule";var t=$W.geoGraticule().lines();return t.map(function(n,i){return n.index=""+i,n}),r.rows=t,t}tL.default=eL;NW.DataSet.registerConnector("geo-graticule",eL);var Ow={},zW=WW,xy={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},GW=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function WW(e){var r=[];return e.replace(GW,function(t,n,i){var a=n.toLowerCase();for(i=HW(i),a=="m"&&i.length>2&&(r.push([n].concat(i.splice(0,2))),a="l",n=n=="m"?"l":"L");;){if(i.length==xy[a])return i.unshift(n),r.push(i);if(i.length<xy[a])throw new Error("malformed path data");r.push([n].concat(i.splice(0,xy[a])))}}),r}var YW=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function HW(e){var r=e.match(YW);return r?r.map(Number):[]}var XW=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},VW=UW;function UW(e){var r=0,t=0,n=0,i=0;return e.map(function(a){a=a.slice();var o=a[0],s=o.toUpperCase();if(o!=s)switch(a[0]=s,o){case"a":a[6]+=n,a[7]+=i;break;case"v":a[1]+=i;break;case"h":a[1]+=n;break;default:for(var u=1;u<a.length;)a[u++]+=n,a[u++]+=i}switch(s){case"Z":n=r,i=t;break;case"H":n=a[1];break;case"V":i=a[1];break;case"M":n=r=a[1],i=t=a[2];break;default:n=a[a.length-2],i=a[a.length-1]}return a})}var KW=zW,qW=XW,jW=VW,rL=Nu;function Nu(e){if(!(this instanceof Nu))return new Nu(e);this._path=qW(e)?e:KW(e),this._path=jW(this._path),this._path=QW(this._path),this._path=ZW(this._path)}Nu.prototype.at=function(e,r){return this._walk(e,r).pos};Nu.prototype.length=function(){return this._walk(null).length};Nu.prototype._walk=function(e,r){for(var t=[0,0],n=[0,0,0],i=[0,0],a=0,o=0;o<this._path.length;o++){var s=this._path[o];if(s[0]==="M"){if(t[0]=s[1],t[1]=s[2],e===0)return{length:a,pos:t}}else if(s[0]==="C"){n[0]=i[0]=t[0],n[1]=i[1]=t[1],n[2]=a;for(var u=100,l=0;l<=u;l++){var f=l/u,c=d(s,f),h=m(s,f);if(a+=wy(t[0],t[1],c,h),t[0]=c,t[1]=h,typeof e=="number"&&a>=e){var v=(a-e)/(a-n[2]),g=[t[0]*(1-v)+n[0]*v,t[1]*(1-v)+n[1]*v];return{length:a,pos:g}}n[0]=t[0],n[1]=t[1],n[2]=a}}else if(s[0]==="Q"){n[0]=i[0]=t[0],n[1]=i[1]=t[1],n[2]=a;for(var u=100,l=0;l<=u;l++){var f=l/u,c=x(s,f),h=E(s,f);if(a+=wy(t[0],t[1],c,h),t[0]=c,t[1]=h,typeof e=="number"&&a>=e){var v=(a-e)/(a-n[2]),g=[t[0]*(1-v)+n[0]*v,t[1]*(1-v)+n[1]*v];return{length:a,pos:g}}n[0]=t[0],n[1]=t[1],n[2]=a}}else if(s[0]==="L"){if(n[0]=t[0],n[1]=t[1],n[2]=a,a+=wy(t[0],t[1],s[1],s[2]),t[0]=s[1],t[1]=s[2],typeof e=="number"&&a>=e){var v=(a-e)/(a-n[2]),g=[t[0]*(1-v)+n[0]*v,t[1]*(1-v)+n[1]*v];return{length:a,pos:g}}n[0]=t[0],n[1]=t[1],n[2]=a}}return{length:a,pos:t};function d(_,M){return Math.pow(1-M,3)*i[0]+3*Math.pow(1-M,2)*M*_[1]+3*(1-M)*Math.pow(M,2)*_[3]+Math.pow(M,3)*_[5]}function m(_,M){return Math.pow(1-M,3)*i[1]+3*Math.pow(1-M,2)*M*_[2]+3*(1-M)*Math.pow(M,2)*_[4]+Math.pow(M,3)*_[6]}function x(_,M){return Math.pow(1-M,2)*i[0]+2*(1-M)*M*_[1]+Math.pow(M,2)*_[3]}function E(_,M){return Math.pow(1-M,2)*i[1]+2*(1-M)*M*_[2]+Math.pow(M,2)*_[4]}};function wy(e,r,t,n){var i=e-t,a=r-n;return Math.sqrt(i*i+a*a)}function ZW(e){for(var r,t=0,n=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},a=0,o=e.length;a<o;a++){var s=e[a],u=i[s[0]];u&&(s[0]=u.to,r&&(r[0]===u.to?(t=2*r[u.x+2]-r[u.x],n=2*r[u.x+3]-r[u.x+1]):(t=r[r.length-2],n=r[r.length-1])),s.splice(1,0,t,n)),r=s}return e}function QW(e){for(var r=[],t=["L",0,0],n,i=0,a=e.length;i<a;i++){var o=e[i];switch(o[0]){case"M":t=["L",o[1],o[2]],r.push(o);break;case"Z":r.push(t);break;case"H":n=r[r.length-1]||["L",0,0],r.push(["L",o[1],n[n.length-1]]);break;case"V":n=r[r.length-1]||["L",0,0],r.push(["L",n[n.length-2],o[1]]);break;default:r.push(o)}}return r}Object.defineProperty(Ow,"__esModule",{value:!0});var JW=C.exports,tY=JW.__importDefault(rL),eY=Ht,rY=lc,Mg=Ft,ZC=rY.geoPath();function Cg(e,r,t){t.dataType=Mg.DataSet.CONSTANTS.GEO;var n=eY.deepMix([],e.features);return n.forEach(function(i){i.name=i.properties.name,i.longitude=[],i.latitude=[];var a=i.pathData=ZC(i),o=tY.default(a);o._path.forEach(function(u){i.longitude.push(u[1]),i.latitude.push(u[2])});var s=ZC.centroid(i);i.centroidX=s[0],i.centroidY=s[1]}),n}Mg.DataSet.registerConnector("geo",Cg);Mg.DataSet.registerConnector("geojson",Cg);Mg.DataSet.registerConnector("GeoJSON",Cg);Ow.default=Cg;var Ih=Ht,Iw=Ft,nY={nodes:function(e){return e.nodes},edges:function(e){return e.edges}};function nL(e,r,t){r=Ih.assign({},nY,r),t.dataType=Iw.DataSet.CONSTANTS.GRAPH;var n=r.nodes,i=r.edges;if(n&&!Ih.isFunction(n))throw new TypeError("Invalid nodes: must be a function!");if(i&&!Ih.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return t.rows=t.graph={nodes:n(e),edges:i(e)},Ih.assign(t,t.graph),t.rows}Iw.DataSet.registerConnector("graph",nL);Iw.DataSet.registerConnector("diagram",nL);var iL={};function iY(e,r,t){var n=e.layout,i=[],a=0;Object.keys(e.hexes).forEach(function(d){e.hexes[d].key=d,i.push(e.hexes[d])});var o=Ao(i,function(d){return+d.q}),s=zr(i,function(d){return+d.q}),u=Ao(i,function(d){return+d.r}),l=zr(i,function(d){return+d.r}),f=o-s+1,c=u-l+1;n==="odd-r"||n==="even-r"?a=zr([r/((f+.5)*Math.sqrt(3)),t/((c+1/3)*1.5)]):a=zr([t/((c+.5)*Math.sqrt(3)),r/((f+1/3)*1.5)]);var h=a*Math.sqrt(3),v=aY(n,h,a),g=oY(v);return i.forEach(function(d){d.qc=d.q-s,d.rc=u-d.r,d.x=Dw(d,n,h,a),d.y=Bw(d,n,h,a),d.vertices=v,d.points=g}),i}function Dw(e,r,t,n){var i=0,a=0;switch(r){case"odd-r":a=e.rc%2===1?t:t/2,i=e.qc*t+a;break;case"even-r":a=e.rc%2===0?t:t/2,i=e.qc*t+a;break;case"odd-q":case"even-q":i=e.qc*n*1.5+n;break}return i}function Bw(e,r,t,n){var i=0,a=0;switch(r){case"odd-r":case"even-r":i=e.rc*n*1.5+n;break;case"odd-q":a=e.qc%2===1?t:t/2,i=e.rc*t+a;break;case"even-q":a=e.qc%2===0?t:t/2,i=e.rc*t+a;break}return i}function aY(e,r,t){var n=[];switch(e){case"odd-r":case"even-r":n.push({x:0,y:0-t}),n.push({x:0+r*.5,y:0-.5*t}),n.push({x:0+r*.5,y:0+.5*t}),n.push({x:0,y:0+t}),n.push({x:0-r*.5,y:0+.5*t}),n.push({x:0-r*.5,y:0-.5*t});break;case"odd-q":case"even-q":n.push({x:0-t,y:0}),n.push({x:0-.5*t,y:0-r*.5}),n.push({x:0+.5*t,y:0-r*.5}),n.push({x:0+t,y:0}),n.push({x:0+.5*t,y:0+r*.5}),n.push({x:0-.5*t,y:0+r*.5});break}return n}function oY(e){var r="";return e.forEach(function(t){r+=t.x+","+t.y+" "}),r.substring(0,r.length-1)}function sY(e){var r={};r.layout=e.layout,r.hexes={};var t=[];Object.keys(e.hexes).forEach(function(f){t.push(e.hexes[f])});var n=Ao(t,function(f){return+f.q}),i=zr(t,function(f){return+f.q}),a=Ao(t,function(f){return+f.r}),o=zr(t,function(f){return+f.r}),s,u,l;for(s=i;s<=n;s++)for(u=o;u<=a;u++)l="Q"+s+"R"+u,r.hexes[l]={q:s,r:u};return r}function uY(e,r,t,n){var i=[],a=e.layout;Object.keys(e.hexes).forEach(function(L){i.push(e.hexes[L])});var o=Ao(i,function(L){return+L.q}),s=zr(i,function(L){return+L.q}),u=Ao(i,function(L){return+L.r}),l=zr(i,function(L){return+L.r}),f=o-s+1,c=u-l+1,h;a==="odd-r"||a==="even-r"?h=zr([r/((f+.5)*Math.sqrt(3)),t/((c+1/3)*1.5)]):h=zr([t/((c+.5)*Math.sqrt(3)),r/((f+1/3)*1.5)]);var v=h*Math.sqrt(3),g=[],d=h*h*4,m=i.length;if(m>1){i.forEach(function(L){L.qc=L.q-s,L.rc=u-L.r,L.x=Dw(L,a,v,h),L.y=Bw(L,a,v,h)});for(var x=0;x<m-1;x++)for(var E=x+1;E<m;E++){var _=i[x],M=i[E];if(_[n]!==M[n]&&Math.abs(_.q-M.q)<=1&&Math.abs(_.r-M.r)<=1&&(_.x-M.x)*(_.x-M.x)+(_.y-M.y)*(_.y-M.y)<d){var A={};A.x=M.x+(_.x-M.x)/2,A.y=M.y+(_.y-M.y)/2;var b={},I=Math.sqrt(3)*4;b.dx=(_.y-M.y)/I,b.dy=-(_.x-M.x)/I,g.push({x:A.x-2*b.dx,y:A.y-2*b.dy}),g.push({x:A.x-b.dx,y:A.y-b.dy}),g.push({x:A.x,y:A.y}),g.push({x:A.x+b.dx,y:A.y+b.dy}),g.push({x:A.x+2*b.dx,y:A.y+2*b.dy})}}}return g}function lY(e,r,t,n){var i=[],a=e.layout;Object.keys(e.hexes).forEach(function(F){i.push(e.hexes[F])});var o=Ao(i,function(F){return+F.q}),s=zr(i,function(F){return+F.q}),u=Ao(i,function(F){return+F.r}),l=zr(i,function(F){return+F.r}),f=o-s+1,c=u-l+1,h;a==="odd-r"||a==="even-r"?h=zr([r/((f+.5)*Math.sqrt(3)),t/((c+1/3)*1.5)]):h=zr([t/((c+.5)*Math.sqrt(3)),r/((f+1/3)*1.5)]);var v=h*Math.sqrt(3),g=[],d=h*h*4,m=i.length;if(m>1){i.forEach(function(F){F.qc=F.q-s,F.rc=u-F.r,F.x=Dw(F,a,v,h),F.y=Bw(F,a,v,h)});for(var x=0;x<m-1;x++)for(var E=x+1;E<m;E++){var _=i[x],M=i[E];if(_[n]!==M[n]&&Math.abs(_.q-M.q)<=1&&Math.abs(_.r-M.r)<=1&&(_.x-M.x)*(_.x-M.x)+(_.y-M.y)*(_.y-M.y)<d){var A={};A.x=M.x+(_.x-M.x)/2,A.y=M.y+(_.y-M.y)/2;var b={},I=1;_[n]<M[n]&&(I=-1);var L=Math.sqrt(3)*2*I;b.dx=(_.y-M.y)/L,b.dy=-(_.x-M.x)/L,g.push({x1:A.x-b.dx,y1:A.y-b.dy,x2:A.x+b.dx,y2:A.y+b.dy})}}}return g}var fY=Object.freeze(Object.defineProperty({__proto__:null,renderHexJSON:iY,getGridForHexJSON:sY,getBoundaryDotsForHexJSON:uY,getBoundarySegmentsForHexJSON:lY},Symbol.toStringTag,{value:"Module"})),cY=oa(fY);Object.defineProperty(iL,"__esModule",{value:!0});var QC=Ht,_y=cY,cc=Ft,hY={width:1,height:1};function JC(e){return e.cx=e.x,e.cy=e.y,e.x=[],e.y=[],e.vertices.forEach(function(r){e.x.push(r.x+e.cx),e.y.push(r.y+e.cy)}),e}function hc(e,r,t){t.dataType=cc.DataSet.CONSTANTS.HEX,r=QC.assign({},hY,r);var n=r.width,i=r.height,a=QC.deepMix([],e);t._HexJSON=a;var o=t._GridHexJSON=_y.getGridForHexJSON(a),s=t.rows=_y.renderHexJSON(a,n,i).map(JC);return t._gridRows=_y.renderHexJSON(o,n,i).map(JC),s}cc.DataSet.registerConnector("hex",hc);cc.DataSet.registerConnector("hexjson",hc);cc.DataSet.registerConnector("hex-json",hc);cc.DataSet.registerConnector("HexJSON",hc);iL.default=hc;function vY(e,r){return e.parent===r.parent?1:2}function pY(e){return e.reduce(gY,0)/e.length}function gY(e,r){return e+r.x}function dY(e){return 1+e.reduce(yY,0)}function yY(e,r){return Math.max(e,r.y)}function mY(e){for(var r;r=e.children;)e=r[0];return e}function xY(e){for(var r;r=e.children;)e=r[r.length-1];return e}function wY(){var e=vY,r=1,t=1,n=!1;function i(a){var o,s=0;a.eachAfter(function(h){var v=h.children;v?(h.x=pY(v),h.y=dY(v)):(h.x=o?s+=e(h,o):0,h.y=0,o=h)});var u=mY(a),l=xY(a),f=u.x-e(u,l)/2,c=l.x+e(l,u)/2;return a.eachAfter(n?function(h){h.x=(h.x-a.x)*r,h.y=(a.y-h.y)*t}:function(h){h.x=(h.x-f)/(c-f)*r,h.y=(1-(a.y?h.y/a.y:1))*t})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(n=!1,r=+a[0],t=+a[1],i):n?null:[r,t]},i.nodeSize=function(a){return arguments.length?(n=!0,r=+a[0],t=+a[1],i):n?[r,t]:null},i}function _Y(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function EY(){return this.eachAfter(_Y)}function MY(e){var r=this,t,n=[r],i,a,o;do for(t=n.reverse(),n=[];r=t.pop();)if(e(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)n.push(i[a]);while(n.length);return this}function CY(e){for(var r=this,t=[r],n,i;r=t.pop();)if(e(r),n=r.children,n)for(i=n.length-1;i>=0;--i)t.push(n[i]);return this}function SY(e){for(var r=this,t=[r],n=[],i,a,o;r=t.pop();)if(n.push(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)t.push(i[a]);for(;r=n.pop();)e(r);return this}function TY(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,i=n&&n.length;--i>=0;)t+=n[i].value;r.value=t})}function AY(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function PY(e){for(var r=this,t=bY(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var i=n.length;e!==t;)n.splice(i,0,e),e=e.parent;return n}function bY(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),i=null;for(e=t.pop(),r=n.pop();e===r;)i=e,e=t.pop(),r=n.pop();return i}function LY(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function OY(){var e=[];return this.each(function(r){e.push(r)}),e}function IY(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function DY(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}function Rw(e,r){var t=new zu(e),n=+e.value&&(t.value=e.value),i,a=[t],o,s,u,l;for(r==null&&(r=RY);i=a.pop();)if(n&&(i.value=+i.data.value),(s=r(i.data))&&(l=s.length))for(i.children=new Array(l),u=l-1;u>=0;--u)a.push(o=i.children[u]=new zu(s[u])),o.parent=i,o.depth=i.depth+1;return t.eachBefore(aL)}function BY(){return Rw(this).eachBefore(FY)}function RY(e){return e.children}function FY(e){e.data=e.data.data}function aL(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function zu(e){this.data=e,this.depth=this.height=0,this.parent=null}zu.prototype=Rw.prototype={constructor:zu,count:EY,each:MY,eachAfter:SY,eachBefore:CY,sum:TY,sort:AY,path:PY,ancestors:LY,descendants:OY,leaves:IY,links:DY,copy:BY};var kY=Array.prototype.slice;function $Y(e){for(var r=e.length,t,n;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function oL(e){for(var r=0,t=(e=$Y(kY.call(e))).length,n=[],i,a;r<t;)i=e[r],a&&sL(a,i)?++r:(a=zY(n=NY(n,i)),r=0);return a}function NY(e,r){var t,n;if(Ey(r,e))return[r];for(t=0;t<e.length;++t)if(Dh(r,e[t])&&Ey(ef(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(Dh(ef(e[t],e[n]),r)&&Dh(ef(e[t],r),e[n])&&Dh(ef(e[n],r),e[t])&&Ey(uL(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function Dh(e,r){var t=e.r-r.r,n=r.x-e.x,i=r.y-e.y;return t<0||t*t<n*n+i*i}function sL(e,r){var t=e.r-r.r+1e-6,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function Ey(e,r){for(var t=0;t<r.length;++t)if(!sL(e,r[t]))return!1;return!0}function zY(e){switch(e.length){case 1:return GY(e[0]);case 2:return ef(e[0],e[1]);case 3:return uL(e[0],e[1],e[2])}}function GY(e){return{x:e.x,y:e.y,r:e.r}}function ef(e,r){var t=e.x,n=e.y,i=e.r,a=r.x,o=r.y,s=r.r,u=a-t,l=o-n,f=s-i,c=Math.sqrt(u*u+l*l);return{x:(t+a+u/c*f)/2,y:(n+o+l/c*f)/2,r:(c+i+s)/2}}function uL(e,r,t){var n=e.x,i=e.y,a=e.r,o=r.x,s=r.y,u=r.r,l=t.x,f=t.y,c=t.r,h=n-o,v=n-l,g=i-s,d=i-f,m=u-a,x=c-a,E=n*n+i*i-a*a,_=E-o*o-s*s+u*u,M=E-l*l-f*f+c*c,A=v*g-h*d,b=(g*M-d*_)/(A*2)-n,I=(d*m-g*x)/A,L=(v*_-h*M)/(A*2)-i,F=(h*x-v*m)/A,$=I*I+F*F-1,Y=2*(a+b*I+L*F),k=b*b+L*L-a*a,z=-($?(Y+Math.sqrt(Y*Y-4*$*k))/(2*$):k/Y);return{x:n+b+I*z,y:i+L+F*z,r:z}}function tS(e,r,t){var n=e.x-r.x,i,a,o=e.y-r.y,s,u,l=n*n+o*o;l?(a=r.r+t.r,a*=a,u=e.r+t.r,u*=u,a>u?(i=(l+u-a)/(2*l),s=Math.sqrt(Math.max(0,u/l-i*i)),t.x=e.x-i*n-s*o,t.y=e.y-i*o+s*n):(i=(l+a-u)/(2*l),s=Math.sqrt(Math.max(0,a/l-i*i)),t.x=r.x+i*n-s*o,t.y=r.y+i*o+s*n)):(t.x=r.x+t.r,t.y=r.y)}function eS(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function rS(e){var r=e._,t=e.next._,n=r.r+t.r,i=(r.x*t.r+t.x*r.r)/n,a=(r.y*t.r+t.y*r.r)/n;return i*i+a*a}function Bh(e){this._=e,this.next=null,this.previous=null}function lL(e){if(!(i=e.length))return 0;var r,t,n,i,a,o,s,u,l,f,c;if(r=e[0],r.x=0,r.y=0,!(i>1))return r.r;if(t=e[1],r.x=-t.r,t.x=r.r,t.y=0,!(i>2))return r.r+t.r;tS(t,r,n=e[2]),r=new Bh(r),t=new Bh(t),n=new Bh(n),r.next=n.previous=t,t.next=r.previous=n,n.next=t.previous=r;t:for(s=3;s<i;++s){tS(r._,t._,n=e[s]),n=new Bh(n),u=t.next,l=r.previous,f=t._.r,c=r._.r;do if(f<=c){if(eS(u._,n._)){t=u,r.next=t,t.previous=r,--s;continue t}f+=u._.r,u=u.next}else{if(eS(l._,n._)){r=l,r.next=t,t.previous=r,--s;continue t}c+=l._.r,l=l.previous}while(u!==l.next);for(n.previous=r,n.next=t,r.next=t.previous=t=n,a=rS(r);(n=n.next)!==t;)(o=rS(n))<a&&(r=n,a=o);t=r.next}for(r=[t._],n=t;(n=n.next)!==t;)r.push(n._);for(n=oL(r),s=0;s<i;++s)r=e[s],r.x-=n.x,r.y-=n.y;return n.r}function WY(e){return lL(e),e}function YY(e){return e==null?null:Ep(e)}function Ep(e){if(typeof e!="function")throw new Error;return e}function ls(){return 0}function su(e){return function(){return e}}function HY(e){return Math.sqrt(e.value)}function XY(){var e=null,r=1,t=1,n=ls;function i(a){return a.x=r/2,a.y=t/2,e?a.eachBefore(nS(e)).eachAfter(My(n,.5)).eachBefore(iS(1)):a.eachBefore(nS(HY)).eachAfter(My(ls,1)).eachAfter(My(n,a.r/Math.min(r,t))).eachBefore(iS(Math.min(r,t)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=YY(a),i):e},i.size=function(a){return arguments.length?(r=+a[0],t=+a[1],i):[r,t]},i.padding=function(a){return arguments.length?(n=typeof a=="function"?a:su(+a),i):n},i}function nS(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function My(e,r){return function(t){if(n=t.children){var n,i,a=n.length,o=e(t)*r||0,s;if(o)for(i=0;i<a;++i)n[i].r+=o;if(s=lL(n),o)for(i=0;i<a;++i)n[i].r-=o;t.r=s+o}}}function iS(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}function fL(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function vc(e,r,t,n,i){for(var a=e.children,o,s=-1,u=a.length,l=e.value&&(n-r)/e.value;++s<u;)o=a[s],o.y0=t,o.y1=i,o.x0=r,o.x1=r+=o.value*l}function VY(){var e=1,r=1,t=0,n=!1;function i(o){var s=o.height+1;return o.x0=o.y0=t,o.x1=e,o.y1=r/s,o.eachBefore(a(r,s)),n&&o.eachBefore(fL),o}function a(o,s){return function(u){u.children&&vc(u,u.x0,o*(u.depth+1)/s,u.x1,o*(u.depth+2)/s);var l=u.x0,f=u.y0,c=u.x1-t,h=u.y1-t;c<l&&(l=c=(l+c)/2),h<f&&(f=h=(f+h)/2),u.x0=l,u.y0=f,u.x1=c,u.y1=h}}return i.round=function(o){return arguments.length?(n=!!o,i):n},i.size=function(o){return arguments.length?(e=+o[0],r=+o[1],i):[e,r]},i.padding=function(o){return arguments.length?(t=+o,i):t},i}var aS="$",UY={depth:-1},oS={};function KY(e){return e.id}function qY(e){return e.parentId}function jY(){var e=KY,r=qY;function t(n){var i,a,o=n.length,s,u,l,f=new Array(o),c,h,v={};for(a=0;a<o;++a)i=n[a],l=f[a]=new zu(i),(c=e(i,a,n))!=null&&(c+="")&&(h=aS+(l.id=c),v[h]=h in v?oS:l);for(a=0;a<o;++a)if(l=f[a],c=r(n[a],a,n),c==null||!(c+="")){if(s)throw new Error("multiple roots");s=l}else{if(u=v[aS+c],!u)throw new Error("missing: "+c);if(u===oS)throw new Error("ambiguous: "+c);u.children?u.children.push(l):u.children=[l],l.parent=u}if(!s)throw new Error("no root");if(s.parent=UY,s.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(aL),s.parent=null,o>0)throw new Error("cycle");return s}return t.id=function(n){return arguments.length?(e=Ep(n),t):e},t.parentId=function(n){return arguments.length?(r=Ep(n),t):r},t}function ZY(e,r){return e.parent===r.parent?1:2}function Cy(e){var r=e.children;return r?r[0]:e.t}function Sy(e){var r=e.children;return r?r[r.length-1]:e.t}function QY(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function JY(e){for(var r=0,t=0,n=e.children,i=n.length,a;--i>=0;)a=n[i],a.z+=r,a.m+=r,r+=a.s+(t+=a.c)}function tH(e,r,t){return e.a.parent===r.parent?e.a:t}function Av(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}Av.prototype=Object.create(zu.prototype);function eH(e){for(var r=new Av(e,0),t,n=[r],i,a,o,s;t=n.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),o=s-1;o>=0;--o)n.push(i=t.children[o]=new Av(a[o],o)),i.parent=t;return(r.parent=new Av(null,0)).children=[r],r}function rH(){var e=ZY,r=1,t=1,n=null;function i(l){var f=eH(l);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(o),n)l.eachBefore(u);else{var c=l,h=l,v=l;l.eachBefore(function(E){E.x<c.x&&(c=E),E.x>h.x&&(h=E),E.depth>v.depth&&(v=E)});var g=c===h?1:e(c,h)/2,d=g-c.x,m=r/(h.x+g+d),x=t/(v.depth||1);l.eachBefore(function(E){E.x=(E.x+d)*m,E.y=E.depth*x})}return l}function a(l){var f=l.children,c=l.parent.children,h=l.i?c[l.i-1]:null;if(f){JY(l);var v=(f[0].z+f[f.length-1].z)/2;h?(l.z=h.z+e(l._,h._),l.m=l.z-v):l.z=v}else h&&(l.z=h.z+e(l._,h._));l.parent.A=s(l,h,l.parent.A||c[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,f,c){if(f){for(var h=l,v=l,g=f,d=h.parent.children[0],m=h.m,x=v.m,E=g.m,_=d.m,M;g=Sy(g),h=Cy(h),g&&h;)d=Cy(d),v=Sy(v),v.a=l,M=g.z+E-h.z-m+e(g._,h._),M>0&&(QY(tH(g,l,c),l,M),m+=M,x+=M),E+=g.m,m+=h.m,_+=d.m,x+=v.m;g&&!Sy(v)&&(v.t=g,v.m+=E-x),h&&!Cy(d)&&(d.t=h,d.m+=m-_,c=l)}return c}function u(l){l.x*=r,l.y=l.depth*t}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(n=!1,r=+l[0],t=+l[1],i):n?null:[r,t]},i.nodeSize=function(l){return arguments.length?(n=!0,r=+l[0],t=+l[1],i):n?[r,t]:null},i}function Sg(e,r,t,n,i){for(var a=e.children,o,s=-1,u=a.length,l=e.value&&(i-t)/e.value;++s<u;)o=a[s],o.x0=r,o.x1=n,o.y0=t,o.y1=t+=o.value*l}var cL=(1+Math.sqrt(5))/2;function hL(e,r,t,n,i,a){for(var o=[],s=r.children,u,l,f=0,c=0,h=s.length,v,g,d=r.value,m,x,E,_,M,A,b;f<h;){v=i-t,g=a-n;do m=s[c++].value;while(!m&&c<h);for(x=E=m,A=Math.max(g/v,v/g)/(d*e),b=m*m*A,M=Math.max(E/b,b/x);c<h;++c){if(m+=l=s[c].value,l<x&&(x=l),l>E&&(E=l),b=m*m*A,_=Math.max(E/b,b/x),_>M){m-=l;break}M=_}o.push(u={value:m,dice:v<g,children:s.slice(f,c)}),u.dice?vc(u,t,n,i,d?n+=g*m/d:a):Sg(u,t,n,d?t+=v*m/d:i,a),d-=m,f=c}return o}var vL=function e(r){function t(n,i,a,o,s){hL(r,n,i,a,o,s)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(cL);function nH(){var e=vL,r=!1,t=1,n=1,i=[0],a=ls,o=ls,s=ls,u=ls,l=ls;function f(h){return h.x0=h.y0=0,h.x1=t,h.y1=n,h.eachBefore(c),i=[0],r&&h.eachBefore(fL),h}function c(h){var v=i[h.depth],g=h.x0+v,d=h.y0+v,m=h.x1-v,x=h.y1-v;m<g&&(g=m=(g+m)/2),x<d&&(d=x=(d+x)/2),h.x0=g,h.y0=d,h.x1=m,h.y1=x,h.children&&(v=i[h.depth+1]=a(h)/2,g+=l(h)-v,d+=o(h)-v,m-=s(h)-v,x-=u(h)-v,m<g&&(g=m=(g+m)/2),x<d&&(d=x=(d+x)/2),e(h,g,d,m,x))}return f.round=function(h){return arguments.length?(r=!!h,f):r},f.size=function(h){return arguments.length?(t=+h[0],n=+h[1],f):[t,n]},f.tile=function(h){return arguments.length?(e=Ep(h),f):e},f.padding=function(h){return arguments.length?f.paddingInner(h).paddingOuter(h):f.paddingInner()},f.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:su(+h),f):a},f.paddingOuter=function(h){return arguments.length?f.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):f.paddingTop()},f.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:su(+h),f):o},f.paddingRight=function(h){return arguments.length?(s=typeof h=="function"?h:su(+h),f):s},f.paddingBottom=function(h){return arguments.length?(u=typeof h=="function"?h:su(+h),f):u},f.paddingLeft=function(h){return arguments.length?(l=typeof h=="function"?h:su(+h),f):l},f}function iH(e,r,t,n,i){var a=e.children,o,s=a.length,u,l=new Array(s+1);for(l[0]=u=o=0;o<s;++o)l[o+1]=u+=a[o].value;f(0,s,e.value,r,t,n,i);function f(c,h,v,g,d,m,x){if(c>=h-1){var E=a[c];E.x0=g,E.y0=d,E.x1=m,E.y1=x;return}for(var _=l[c],M=v/2+_,A=c+1,b=h-1;A<b;){var I=A+b>>>1;l[I]<M?A=I+1:b=I}M-l[A-1]<l[A]-M&&c+1<A&&--A;var L=l[A]-_,F=v-L;if(m-g>x-d){var $=(g*F+m*L)/v;f(c,A,L,g,d,$,x),f(A,h,F,$,d,m,x)}else{var Y=(d*F+x*L)/v;f(c,A,L,g,d,m,Y),f(A,h,F,g,Y,m,x)}}}function aH(e,r,t,n,i){(e.depth&1?Sg:vc)(e,r,t,n,i)}var oH=function e(r){function t(n,i,a,o,s){if((u=n._squarify)&&u.ratio===r)for(var u,l,f,c,h=-1,v,g=u.length,d=n.value;++h<g;){for(l=u[h],f=l.children,c=l.value=0,v=f.length;c<v;++c)l.value+=f[c].value;l.dice?vc(l,i,a,o,a+=(s-a)*l.value/d):Sg(l,i,a,i+=(o-i)*l.value/d,s),d-=l.value}else n._squarify=u=hL(r,n,i,a,o,s),u.ratio=r}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(cL),sH=Object.freeze(Object.defineProperty({__proto__:null,cluster:wY,hierarchy:Rw,pack:XY,packSiblings:WY,packEnclose:oL,partition:VY,stratify:jY,tree:rH,treemap:nH,treemapBinary:iH,treemapDice:vc,treemapSlice:Sg,treemapSliceDice:aH,treemapSquarify:vL,treemapResquarify:oH},Symbol.toStringTag,{value:"Module"})),rl=oa(sH),uH=Ht,lH=rl,Fw=Ft;function pL(e,r,t){t.dataType=Fw.DataSet.CONSTANTS.HIERARCHY;var n=r&&r.children?r.children:null;if(n&&!uH.isFunction(n))throw new TypeError("Invalid children: must be a function!");return r.pureData?t.rows=t.root=e:t.rows=t.root=lH.hierarchy(e,n),e}Fw.DataSet.registerConnector("hierarchy",pL);Fw.DataSet.registerConnector("tree",pL);function gL(e){return e}function kw(e){if(e==null)return gL;var r,t,n=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(s,u){u||(r=t=0);var l=2,f=s.length,c=new Array(f);for(c[0]=(r+=s[0])*n+a,c[1]=(t+=s[1])*i+o;l<f;)c[l]=s[l],++l;return c}}function dL(e){var r=kw(e.transform),t,n=1/0,i=n,a=-n,o=-n;function s(l){l=r(l),l[0]<n&&(n=l[0]),l[0]>a&&(a=l[0]),l[1]<i&&(i=l[1]),l[1]>o&&(o=l[1])}function u(l){switch(l.type){case"GeometryCollection":l.geometries.forEach(u);break;case"Point":s(l.coordinates);break;case"MultiPoint":l.coordinates.forEach(s);break}}e.arcs.forEach(function(l){for(var f=-1,c=l.length,h;++f<c;)h=r(l[f],f),h[0]<n&&(n=h[0]),h[0]>a&&(a=h[0]),h[1]<i&&(i=h[1]),h[1]>o&&(o=h[1])});for(t in e.objects)u(e.objects[t]);return[n,i,a,o]}function fH(e,r){for(var t,n=e.length,i=n-r;i<--n;)t=e[i],e[i++]=e[n],e[n]=t}function cH(e,r){return typeof r=="string"&&(r=e.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return sS(e,t)})}:sS(e,r)}function sS(e,r){var t=r.id,n=r.bbox,i=r.properties==null?{}:r.properties,a=Tg(e,r);return t==null&&n==null?{type:"Feature",properties:i,geometry:a}:n==null?{type:"Feature",id:t,properties:i,geometry:a}:{type:"Feature",id:t,bbox:n,properties:i,geometry:a}}function Tg(e,r){var t=kw(e.transform),n=e.arcs;function i(f,c){c.length&&c.pop();for(var h=n[f<0?~f:f],v=0,g=h.length;v<g;++v)c.push(t(h[v],v));f<0&&fH(c,g)}function a(f){return t(f)}function o(f){for(var c=[],h=0,v=f.length;h<v;++h)i(f[h],c);return c.length<2&&c.push(c[0]),c}function s(f){for(var c=o(f);c.length<4;)c.push(c[0]);return c}function u(f){return f.map(s)}function l(f){var c=f.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:f.geometries.map(l)};case"Point":h=a(f.coordinates);break;case"MultiPoint":h=f.coordinates.map(a);break;case"LineString":h=o(f.arcs);break;case"MultiLineString":h=f.arcs.map(o);break;case"Polygon":h=u(f.arcs);break;case"MultiPolygon":h=f.arcs.map(u);break;default:return null}return{type:c,coordinates:h}}return l(r)}function yL(e,r){var t={},n={},i={},a=[],o=-1;r.forEach(function(l,f){var c=e.arcs[l<0?~l:l],h;c.length<3&&!c[1][0]&&!c[1][1]&&(h=r[++o],r[o]=l,r[f]=h)}),r.forEach(function(l){var f=s(l),c=f[0],h=f[1],v,g;if(v=i[c])if(delete i[v.end],v.push(l),v.end=h,g=n[h]){delete n[g.start];var d=g===v?v:v.concat(g);n[d.start=v.start]=i[d.end=g.end]=d}else n[v.start]=i[v.end]=v;else if(v=n[h])if(delete n[v.start],v.unshift(l),v.start=c,g=i[c]){delete i[g.end];var m=g===v?v:g.concat(v);n[m.start=g.start]=i[m.end=v.end]=m}else n[v.start]=i[v.end]=v;else v=[l],n[v.start=c]=i[v.end=h]=v});function s(l){var f=e.arcs[l<0?~l:l],c=f[0],h;return e.transform?(h=[0,0],f.forEach(function(v){h[0]+=v[0],h[1]+=v[1]})):h=f[f.length-1],l<0?[h,c]:[c,h]}function u(l,f){for(var c in l){var h=l[c];delete f[h.start],delete h.start,delete h.end,h.forEach(function(v){t[v<0?~v:v]=1}),a.push(h)}}return u(i,n),u(n,i),r.forEach(function(l){t[l<0?~l:l]||a.push([l])}),a}function hH(e){return Tg(e,mL.apply(this,arguments))}function mL(e,r,t){var n,i,a;if(arguments.length>1)n=vH(e,r,t);else for(i=0,n=new Array(a=e.arcs.length);i<a;++i)n[i]=i;return{type:"MultiLineString",arcs:yL(e,n)}}function vH(e,r,t){var n=[],i=[],a;function o(c){var h=c<0?~c:c;(i[h]||(i[h]=[])).push({i:c,g:a})}function s(c){c.forEach(o)}function u(c){c.forEach(s)}function l(c){c.forEach(u)}function f(c){switch(a=c,c.type){case"GeometryCollection":c.geometries.forEach(f);break;case"LineString":s(c.arcs);break;case"MultiLineString":case"Polygon":u(c.arcs);break;case"MultiPolygon":l(c.arcs);break}}return f(r),i.forEach(t==null?function(c){n.push(c[0].i)}:function(c){t(c[0].g,c[c.length-1].g)&&n.push(c[0].i)}),n}function pH(e){for(var r=-1,t=e.length,n,i=e[t-1],a=0;++r<t;)n=i,i=e[r],a+=n[0]*i[1]-n[1]*i[0];return Math.abs(a)}function gH(e){return Tg(e,xL.apply(this,arguments))}function xL(e,r){var t={},n=[],i=[];r.forEach(a);function a(u){switch(u.type){case"GeometryCollection":u.geometries.forEach(a);break;case"Polygon":o(u.arcs);break;case"MultiPolygon":u.arcs.forEach(o);break}}function o(u){u.forEach(function(l){l.forEach(function(f){(t[f=f<0?~f:f]||(t[f]=[])).push(u)})}),n.push(u)}function s(u){return pH(Tg(e,{type:"Polygon",arcs:[u]}).coordinates[0])}return n.forEach(function(u){if(!u._){var l=[],f=[u];for(u._=1,i.push(l);u=f.pop();)l.push(u),u.forEach(function(c){c.forEach(function(h){t[h<0?~h:h].forEach(function(v){v._||(v._=1,f.push(v))})})})}}),n.forEach(function(u){delete u._}),{type:"MultiPolygon",arcs:i.map(function(u){var l=[],f;if(u.forEach(function(d){d.forEach(function(m){m.forEach(function(x){t[x<0?~x:x].length<2&&l.push(x)})})}),l=yL(e,l),(f=l.length)>1)for(var c=1,h=s(l[0]),v,g;c<f;++c)(v=s(l[c]))>h&&(g=l[0],l[0]=l[c],l[c]=g,h=v);return l}).filter(function(u){return u.length>0})}}function uS(e,r){for(var t=0,n=e.length;t<n;){var i=t+n>>>1;e[i]<r?t=i+1:n=i}return t}function dH(e){var r={},t=e.map(function(){return[]});function n(d,m){d.forEach(function(x){x<0&&(x=~x);var E=r[x];E?E.push(m):r[x]=[m]})}function i(d,m){d.forEach(function(x){n(x,m)})}function a(d,m){d.type==="GeometryCollection"?d.geometries.forEach(function(x){a(x,m)}):d.type in o&&o[d.type](d.arcs,m)}var o={LineString:n,MultiLineString:i,Polygon:i,MultiPolygon:function(d,m){d.forEach(function(x){i(x,m)})}};e.forEach(a);for(var s in r)for(var u=r[s],l=u.length,f=0;f<l;++f)for(var c=f+1;c<l;++c){var h=u[f],v=u[c],g;(g=t[h])[s=uS(g,v)]!==v&&g.splice(s,0,v),(g=t[v])[s=uS(g,h)]!==h&&g.splice(s,0,h)}return t}function wL(e){if(e==null)return gL;var r,t,n=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(s,u){u||(r=t=0);var l=2,f=s.length,c=new Array(f),h=Math.round((s[0]-a)/n),v=Math.round((s[1]-o)/i);for(c[0]=h-r,r=h,c[1]=v-t,t=v;l<f;)c[l]=s[l],++l;return c}}function yH(e,r){if(e.transform)throw new Error("already quantized");if(!r||!r.scale){if(!((o=Math.floor(r))>=2))throw new Error("n must be \u22652");u=e.bbox||dL(e);var t=u[0],n=u[1],i=u[2],a=u[3],o;r={scale:[i-t?(i-t)/(o-1):1,a-n?(a-n)/(o-1):1],translate:[t,n]}}else u=e.bbox;var s=wL(r),u,l,f=e.objects,c={};function h(d){return s(d)}function v(d){var m;switch(d.type){case"GeometryCollection":m={type:"GeometryCollection",geometries:d.geometries.map(v)};break;case"Point":m={type:"Point",coordinates:h(d.coordinates)};break;case"MultiPoint":m={type:"MultiPoint",coordinates:d.coordinates.map(h)};break;default:return d}return d.id!=null&&(m.id=d.id),d.bbox!=null&&(m.bbox=d.bbox),d.properties!=null&&(m.properties=d.properties),m}function g(d){var m=0,x=1,E=d.length,_,M=new Array(E);for(M[0]=s(d[0],0);++m<E;)((_=s(d[m],m))[0]||_[1])&&(M[x++]=_);return x===1&&(M[x++]=[0,0]),M.length=x,M}for(l in f)c[l]=v(f[l]);return{type:"Topology",bbox:u,transform:r,objects:c,arcs:e.arcs.map(g)}}var mH=Object.freeze(Object.defineProperty({__proto__:null,bbox:dL,feature:cH,mesh:hH,meshArcs:mL,merge:gH,mergeArcs:xL,neighbors:dH,quantize:yH,transform:kw,untransform:wL},Symbol.toStringTag,{value:"Module"})),xH=oa(mH),wH=C.exports,_H=Ht,EH=xH,MH=wH.__importDefault(Ow),_L=Ft;function EL(e,r,t){var n=r.object;if(!_H.isString(n))throw new TypeError("Invalid object: must be a string!");var i=EH.feature(e,e.objects[n]);return MH.default(i,void 0,t)}_L.DataSet.registerConnector("topojson",EL);_L.DataSet.registerConnector("TopoJSON",EL);var CH=Ft;CH.DataSet.registerTransform("default",function(e){return e});var SH=Ft;function TH(e){return!!e}SH.DataSet.registerTransform("filter",function(e,r){e.rows=e.rows.filter(r.callback||TH)});var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.getFields=_e.getField=void 0;var yo=Ht,Ty="Invalid field: it must be a string!",Il="Invalid fields: it must be an array!";function AH(e,r){var t=e.field,n=e.fields;if(yo.isString(t))return t;if(yo.isArray(t))return console.warn(Ty),t[0];if(console.warn(Ty+" will try to get fields instead."),yo.isString(n))return n;if(yo.isArray(n)&&n.length)return n[0];if(r)return r;throw new TypeError(Ty)}_e.getField=AH;function PH(e,r){var t=e.field,n=e.fields;if(yo.isArray(n))return n;if(yo.isString(n))return console.warn(Il),[n];if(console.warn(Il+" will try to get field instead."),yo.isString(t))return console.warn(Il),[t];if(yo.isArray(t)&&t.length)return console.warn(Il),t;if(r)return r;throw new TypeError(Il)}_e.getFields=PH;var Ay=Ht,bH=Ft,LH=_e,OH={fields:[],key:"key",retains:[],value:"value"};bH.DataSet.registerTransform("fold",function(e,r){var t=e.getColumnNames();r=Ay.assign({},OH,r);var n=LH.getFields(r);n.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),n=t);var i=r.key,a=r.value,o=r.retains;(!o||o.length===0)&&(o=Ay.difference(t,n));var s=[];e.rows.forEach(function(u){n.forEach(function(l){var f=Ay.pick(u,o);f[i]=l,f[a]=u[l],s.push(f)})}),e.rows=s});var IH=Ft;function DH(e){return e}IH.DataSet.registerTransform("map",function(e,r){e.rows=e.rows.map(r.callback||DH)});var BH=C.exports,om=Ht,ML=BH.__importDefault(Un),$w=Ft,CL={groupBy:[],orderBy:[]};$w.DataSet.registerTransform("partition",function(e,r){r=om.assign({},CL,r),e.rows=ML.default(e.rows,r.groupBy,r.orderBy)});function SL(e,r){r=om.assign({},CL,r),e.rows=om.values(ML.default(e.rows,r.groupBy,r.orderBy))}$w.DataSet.registerTransform("group",SL);$w.DataSet.registerTransform("groups",SL);var RH=C.exports,eu=Ht,lS=Bi.exports,fS=RH.__importDefault(Un),FH=Ft,kH=_e,$H={groupBy:[],as:"_percent"};function NH(e,r){r=eu.assign({},$H,r);var t=kH.getField(r),n=r.dimension,i=r.groupBy,a=r.as;if(!eu.isString(n))throw new TypeError("Invalid dimension: must be a string!");if(eu.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!eu.isString(a))throw new TypeError("Invalid as: must be a string!");var o=e.rows,s=[],u=fS.default(o,i);eu.forIn(u,function(l){var f=lS.sum(l.map(function(h){return h[t]})),c=fS.default(l,[n]);eu.forIn(c,function(h){var v=lS.sum(h.map(function(m){return m[t]})),g=h[0],d=g[n];g[t]=v,g[n]=d,f===0?g[a]=0:g[a]=v/f,s.push(g)})}),e.rows=s}FH.DataSet.registerTransform("percent",NH);var zH=Ht,GH=Ft,WH=_e;GH.DataSet.registerTransform("pick",function(e,r){var t=WH.getFields(r,e.getColumnNames());e.rows=e.rows.map(function(n){return zH.pick(n,t)})});var YH=C.exports,ru=Ht,cS=YH.__importDefault(Un),HH=Ft,XH=_e,VH={groupBy:[],as:"_proportion"};function UH(e,r){r=ru.assign({},VH,r);var t=XH.getField(r),n=r.dimension,i=r.groupBy,a=r.as;if(!ru.isString(n))throw new TypeError("Invalid dimension: must be a string!");if(ru.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!ru.isString(a))throw new TypeError("Invalid as: must be a string!");var o=e.rows,s=[],u=cS.default(o,i);ru.forIn(u,function(l){var f=l.length,c=cS.default(l,[n]);ru.forIn(c,function(h){var v=h.length,g=h[0],d=g[n];g[t]=v,g[n]=d,g[a]=v/f,s.push(g)})}),e.rows=s}HH.DataSet.registerTransform("proportion",UH);var Dl=Ht,TL=Ft;function AL(e,r){var t=r.map||{},n={};Dl.isPlainObject(t)&&Dl.forIn(t,function(i,a){Dl.isString(i)&&Dl.isString(a)&&(n[a]=i)}),e.rows.forEach(function(i){Dl.forIn(n,function(a,o){var s=i[o];delete i[o],i[a]=s})})}TL.DataSet.registerTransform("rename",AL);TL.DataSet.registerTransform("rename-fields",AL);var KH=Ft;KH.DataSet.registerTransform("reverse",function(e){e.rows.reverse()});var qH=Ft;qH.DataSet.registerTransform("sort",function(e,r){var t=e.getColumnName(0);e.rows.sort(r.callback||function(n,i){return n[t]-i[t]})});var hS=Ht,PL=Ft,jH=_e,vS=["ASC","DESC"];function bL(e,r){var t=jH.getFields(r,[e.getColumnName(0)]);if(!hS.isArray(t))throw new TypeError("Invalid fields: must be an array with strings!");e.rows=hS.sortBy(e.rows,t);var n=r.order;if(n&&vS.indexOf(n)===-1)throw new TypeError("Invalid order: "+n+" must be one of "+vS.join(", "));n==="DESC"&&e.rows.reverse()}PL.DataSet.registerTransform("sort-by",bL);PL.DataSet.registerTransform("sortBy",bL);var ZH=Ft,QH=_e;ZH.DataSet.registerTransform("subset",function(e,r){var t=r.startRowIndex||0,n=r.endRowIndex||e.rows.length-1,i=QH.getFields(r,e.getColumnNames());e.rows=e.getSubset(t,n,i)});var JH=C.exports,Py=Ht,tX=JH.__importDefault(Un),LL=Ft,eX={fillBy:"group",groupBy:[],orderBy:[]};function pS(e,r){var t=e.map(function(n){return n});return r.forEach(function(n){var i=t.indexOf(n);i>-1&&t.splice(i,1)}),t}function OL(e,r){r=Py.assign({},eX,r);var t=e.rows,n=r.groupBy,i=r.orderBy,a=tX.default(t,n,i),o=0,s=[];Py.forIn(a,function(g){g.length>o&&(o=g.length,s=g)});var u=[],l={};if(s.forEach(function(g){var d=i.map(function(m){return g[m]}).join("-");u.push(d),l[d]=g}),r.fillBy==="order"){var f=s[0],c=[],h={};t.forEach(function(g){var d=i.map(function(m){return g[m]}).join("-");c.indexOf(d)===-1&&(c.push(d),h[d]=g)});var v=pS(c,u);v.forEach(function(g){var d={};n.forEach(function(m){d[m]=f[m]}),i.forEach(function(m){d[m]=h[g][m]}),t.push(d),s.push(d),u.push(g),l[g]=d}),o=s.length}Py.forIn(a,function(g){if(g!==s&&g.length<o){var d=g[0],m=[];g.forEach(function(E){m.push(i.map(function(_){return E[_]}).join("-"))});var x=pS(u,m);x.some(function(E,_){if(_>=o-g.length)return!0;var M=l[E],A={};return n.forEach(function(b){A[b]=d[b]}),i.forEach(function(b){A[b]=M[b]}),t.push(A),!1})}})}LL.DataSet.registerTransform("fill-rows",OL);LL.DataSet.registerTransform("fillRows",OL);var IL=C.exports,as=Ht,rX=IL.__importStar(Bi.exports),nX=IL.__importDefault(Un),iX=Ft,aX=_e,oX={groupBy:[]};function gS(e){return e.filter(function(r){return!as.isUndefined(r)})}var DL=["mean","median","max","min"],Nw={};DL.forEach(function(e){Nw[e]=function(r,t){return rX[e](t)}});Nw.value=function(e,r,t){return t};function sX(e,r){r=as.assign({},oX,r);var t=aX.getField(r),n=r.method;if(!n)throw new TypeError("Invalid method!");if(n==="value"&&!as.has(r,"value"))throw new TypeError("Invalid value: it is nil.");var i=gS(e.getColumn(t)),a=nX.default(e.rows,r.groupBy);as.forIn(a,function(o){var s=gS(o.map(function(u){return u[t]}));s.length===0&&(s=i),o.forEach(function(u){if(as.isUndefined(u[t]))if(as.isFunction(n))u[t]=n(u,s,r.value,o);else if(as.isString(n))u[t]=Nw[n](u,s,r.value);else throw new TypeError("Invalid method: must be a function or one of "+DL.join(", "))})})}iX.DataSet.registerTransform("impute",sX);var BL={};Object.defineProperty(BL,"__esModule",{value:!0});var RL=C.exports,Pi=Ht,uX=RL.__importStar(Bi.exports),lX=RL.__importDefault(Un),FL=Ft,kL=FL.DataSet.registerTransform,fX=_e,cX={as:[],fields:[],groupBy:[],operations:[]},dS="count",$f={count:function(e){return e.length},distinct:function(e,r){var t=Pi.uniq(e.map(function(n){return n[r]}));return t.length}};FL.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(e){$f[e]=function(r,t){var n=r.map(function(i){return i[t]});return Pi.isArray(n)&&Pi.isArray(n[0])&&(n=Pi.flattenDeep(n)),uX[e](n)}});$f.average=$f.mean;function $L(e,r){r=Pi.assign({},cX,r);var t=fX.getFields(r);if(!Pi.isArray(t))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var n=r.as||[];Pi.isString(n)&&(n=[n]);var i=r.operations;Pi.isString(i)&&(i=[i]);var a=[dS];if((!Pi.isArray(i)||!i.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),i=a,n=i),!(i.length===1&&i[0]===dS)){if(i.length!==t.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(n.length!==t.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var o=lX.default(e.rows,r.groupBy),s=[];Pi.forIn(o,function(u){var l=u[0];i.forEach(function(f,c){var h=n[c],v=t[c];l[h]=$f[f](u,v)}),s.push(l)}),e.rows=s}kL("aggregate",$L);kL("summary",$L);BL.default={VALID_AGGREGATES:Pi.keys($f)};var NL={},zL={exports:{}};(function(e,r){(function(t,n){n(e)})(ui,function(t){function n(h,v,g){return v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g,h}var i=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(h[d]=g[d])}return h};function a(h){if(Array.isArray(h)){for(var v=0,g=Array(h.length);v<h.length;v++)g[v]=h[v];return g}else return Array.from(h)}var o={order:2,precision:2,period:null};function s(h,v){var g=[],d=[];h.forEach(function(M,A){M[1]!==null&&(d.push(M),g.push(v[A]))});var m=d.reduce(function(M,A){return M+A[1]},0),x=m/d.length,E=d.reduce(function(M,A){var b=A[1]-x;return M+b*b},0),_=d.reduce(function(M,A,b){var I=g[b],L=A[1]-I[1];return M+L*L},0);return 1-_/E}function u(h,v){for(var g=h,d=h.length-1,m=[v],x=0;x<d;x++){for(var E=x,_=x+1;_<d;_++)Math.abs(g[x][_])>Math.abs(g[x][E])&&(E=_);for(var M=x;M<d+1;M++){var A=g[M][x];g[M][x]=g[M][E],g[M][E]=A}for(var b=x+1;b<d;b++)for(var I=d;I>=x;I--)g[I][b]-=g[I][x]*g[x][b]/g[x][x]}for(var L=d-1;L>=0;L--){for(var F=0,$=L+1;$<d;$++)F+=g[$][L]*m[$];m[L]=(g[d][L]-F)/g[L][L]}return m}function l(h,v){var g=Math.pow(10,v);return Math.round(h*g)/g}var f={linear:function(v,g){for(var d=[0,0,0,0,0],m=0,x=0;x<v.length;x++)v[x][1]!==null&&(m++,d[0]+=v[x][0],d[1]+=v[x][1],d[2]+=v[x][0]*v[x][0],d[3]+=v[x][0]*v[x][1],d[4]+=v[x][1]*v[x][1]);var E=m*d[2]-d[0]*d[0],_=m*d[3]-d[0]*d[1],M=E===0?0:l(_/E,g.precision),A=l(d[1]/m-M*d[0]/m,g.precision),b=function(F){return[l(F,g.precision),l(M*F+A,g.precision)]},I=v.map(function(L){return b(L[0])});return{points:I,predict:b,equation:[M,A],r2:l(s(v,I),g.precision),string:A===0?"y = "+M+"x":"y = "+M+"x + "+A}},exponential:function(v,g){for(var d=[0,0,0,0,0,0],m=0;m<v.length;m++)v[m][1]!==null&&(d[0]+=v[m][0],d[1]+=v[m][1],d[2]+=v[m][0]*v[m][0]*v[m][1],d[3]+=v[m][1]*Math.log(v[m][1]),d[4]+=v[m][0]*v[m][1]*Math.log(v[m][1]),d[5]+=v[m][0]*v[m][1]);var x=d[1]*d[2]-d[5]*d[5],E=Math.exp((d[2]*d[3]-d[5]*d[4])/x),_=(d[1]*d[4]-d[5]*d[3])/x,M=l(E,g.precision),A=l(_,g.precision),b=function(F){return[l(F,g.precision),l(M*Math.exp(A*F),g.precision)]},I=v.map(function(L){return b(L[0])});return{points:I,predict:b,equation:[M,A],string:"y = "+M+"e^("+A+"x)",r2:l(s(v,I),g.precision)}},logarithmic:function(v,g){for(var d=[0,0,0,0],m=v.length,x=0;x<m;x++)v[x][1]!==null&&(d[0]+=Math.log(v[x][0]),d[1]+=v[x][1]*Math.log(v[x][0]),d[2]+=v[x][1],d[3]+=Math.pow(Math.log(v[x][0]),2));var E=(m*d[1]-d[2]*d[0])/(m*d[3]-d[0]*d[0]),_=l(E,g.precision),M=l((d[2]-_*d[0])/m,g.precision),A=function(L){return[l(L,g.precision),l(l(M+_*Math.log(L),g.precision),g.precision)]},b=v.map(function(I){return A(I[0])});return{points:b,predict:A,equation:[M,_],string:"y = "+M+" + "+_+" ln(x)",r2:l(s(v,b),g.precision)}},power:function(v,g){for(var d=[0,0,0,0,0],m=v.length,x=0;x<m;x++)v[x][1]!==null&&(d[0]+=Math.log(v[x][0]),d[1]+=Math.log(v[x][1])*Math.log(v[x][0]),d[2]+=Math.log(v[x][1]),d[3]+=Math.pow(Math.log(v[x][0]),2));var E=(m*d[1]-d[0]*d[2])/(m*d[3]-Math.pow(d[0],2)),_=(d[2]-E*d[0])/m,M=l(Math.exp(_),g.precision),A=l(E,g.precision),b=function(F){return[l(F,g.precision),l(l(M*Math.pow(F,A),g.precision),g.precision)]},I=v.map(function(L){return b(L[0])});return{points:I,predict:b,equation:[M,A],string:"y = "+M+"x^"+A,r2:l(s(v,I),g.precision)}},polynomial:function(v,g){for(var d=[],m=[],x=0,E=0,_=v.length,M=g.order+1,A=0;A<M;A++){for(var b=0;b<_;b++)v[b][1]!==null&&(x+=Math.pow(v[b][0],A)*v[b][1]);d.push(x),x=0;for(var I=[],L=0;L<M;L++){for(var F=0;F<_;F++)v[F][1]!==null&&(E+=Math.pow(v[F][0],A+L));I.push(E),E=0}m.push(I)}m.push(d);for(var $=u(m,M).map(function(T){return l(T,g.precision)}),Y=function(O){return[l(O,g.precision),l($.reduce(function(D,H,it){return D+H*Math.pow(O,it)},0),g.precision)]},k=v.map(function(T){return Y(T[0])}),z="y = ",S=$.length-1;S>=0;S--)S>1?z+=$[S]+"x^"+S+" + ":S===1?z+=$[S]+"x + ":z+=$[S];return{string:z,points:k,predict:Y,equation:[].concat(a($)).reverse(),r2:l(s(v,k),g.precision)}}};function c(){var h=function(g,d){return i({_round:l},g,n({},d,function(m,x){return f[d](m,i({},o,x))}))};return Object.keys(f).reduce(h,{})}t.exports=c()})})(zL);var nl={};Object.defineProperty(nl,"__esModule",{value:!0});var hX=C.exports;nl.default=function(e,r){for(var t=r||1,n=hX.__read(e,2),i=n[0],a=n[1],o=[],s=i;s<a;)o.push(s),s+=t;return o.push(a),o};var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.nrd=Ra.silverman=void 0;var sm=Bi.exports;function vX(e){var r=sm.standardDeviation(e),t=4*Math.pow(r,5),n=3*e.length;return Math.pow(t/n,.2)}Ra.silverman=vX;function pX(e){var r=sm.standardDeviation(e),t=sm.interquartileRange(e);return typeof t=="number"&&(r=Math.min(r,t/1.34)),1.06*r*Math.pow(e.length,-.2)}Ra.nrd=pX;Object.defineProperty(NL,"__esModule",{value:!0});var xf=C.exports,gX=xf.__importDefault(zL.exports),Rh=Ht,dX=xf.__importDefault(nl),yX=Ft,mX=_e,xX=Ra,wX={as:["x","y"],method:"linear",order:2,precision:2},um=["linear","exponential","logarithmic","power","polynomial"];function _X(e,r){r=Rh.assign({},wX,r);var t=mX.getFields(r);if(!Rh.isArray(t)||t.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var n=xf.__read(t,2),i=n[0],a=n[1],o=r.method;if(um.indexOf(o)===-1)throw new TypeError("invalid method: "+o+". Must be one of "+um.join(", "));var s=e.rows.map(function(m){return[m[i],m[a]]}),u=gX.default[o](s,r),l=r.extent;(!Rh.isArray(l)||l.length!==2)&&(l=e.range(i));var f=r.bandwidth;(!Rh.isNumber(f)||f<=0)&&(f=xX.silverman(e.getColumn(i)));var c=dX.default(l,f),h=[],v=xf.__read(r.as,2),g=v[0],d=v[1];c.forEach(function(m){var x={},E=xf.__read(u.predict(m),2),_=E[0],M=E[1];x[g]=_,x[d]=M,isFinite(M)&&h.push(x)}),e.rows=h}yX.DataSet.registerTransform("regression",_X);NL.default={REGRESSION_METHODS:um};var GL={},pc={};Object.defineProperty(pc,"__esModule",{value:!0});function yS(e){return Math.abs(e)<=1?.5:0}function EX(e){var r=1-Math.pow(Math.abs(e),3);return Math.pow(r,3)}pc.default={boxcar:yS,cosine:function(e){return Math.abs(e)<=1?Math.PI/4*Math.cos(Math.PI/2*e):0},epanechnikov:function(e){return Math.abs(e)<1?.75*(1-e*e):0},gaussian:function(e){return .3989422804*Math.exp(-.5*e*e)},quartic:function(e){if(Math.abs(e)<1){var r=1-e*e;return 15/16*r*r}return 0},triangular:function(e){var r=Math.abs(e);return r<1?1-r:0},tricube:function(e){return Math.abs(e)<1?70/81*EX(e):0},triweight:function(e){if(Math.abs(e)<1){var r=1-e*e;return 35/32*r*r*r}return 0},uniform:yS};Object.defineProperty(GL,"__esModule",{value:!0});var ds=C.exports,Dr=Ht,MX=ds.__importDefault(nl),WL=ds.__importDefault(pc),Pv=ds.__importStar(Ra),CX=ds.__importDefault(Un),zw=Ft,SX=_e,TX=Bi.exports,AX={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},lm=Dr.keys(WL.default),PX=Dr.keys(Pv);function Gw(e,r){r=Dr.assign({},AX,r);var t=SX.getFields(r);if(!Dr.isArray(t)||t.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var n=r.as;if(!Dr.isArray(n)||n.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var i=r.method;if(Dr.isString(i)){if(lm.indexOf(i)===-1)throw new TypeError("invalid method: "+i+". Must be one of "+lm.join(", "));i=WL.default[i]}if(!Dr.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var a=r.extent;if(!Dr.isArray(a)||a.length===0){var o=[];Dr.each(t,function(h){var v=e.range(h);o=o.concat(v)}),a=[Math.min.apply(Math,ds.__spread(o)),Math.max.apply(Math,ds.__spread(o))]}var s=r.bandwidth;Dr.isString(s)&&Pv[s]?s=Pv[s](e.getColumn(t[0])):Dr.isFunction(s)?s=s(e.getColumn(t[0])):(!Dr.isNumber(s)||s<=0)&&(s=Pv.nrd(e.getColumn(t[0])));var u=MX.default(a,r.step?r.step:s),l=[],f=r.groupBy,c=CX.default(e.rows,f);Dr.forIn(c,function(h){var v={};Dr.each(t,function(g){var d=Dr.pick(h[0],f);v[g]=TX.kernelDensityEstimation(h.map(function(M){return M[g]}),i,s);var m=ds.__read(n,3),x=m[0],E=m[1],_=m[2];d[x]=g,d[E]=[],d[_]=[],Dr.each(u,function(M){var A=v[g](M);A>=r.minSize&&(d[E].push(M),d[_].push(A))}),l.push(d)})}),e.rows=l}zw.DataSet.registerTransform("kernel-density-estimation",Gw);zw.DataSet.registerTransform("kde",Gw);zw.DataSet.registerTransform("KDE",Gw);GL.default={KERNEL_METHODS:lm,BANDWIDTH_METHODS:PX};var Ti=C.exports,Fh=Ht,Ww=Ft,bX=_e,LX={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},mS=Math.sqrt(3),Bl=Math.PI/3,OX=[0,Bl,2*Bl,3*Bl,4*Bl,5*Bl];function xS(e,r,t,n){return Math.sqrt((e-t)*(e-t)+(r-n)*(r-n))}function wS(e,r,t){var n=e-t;r=r/2;var i=Math.floor(n/r),a=r*(i+(Math.abs(i%2)===1?1:0)),o=r*(i+(Math.abs(i%2)===1?0:1));return[a+t,o+t]}function IX(e,r,t){r===void 0&&(r=[1,1]),t===void 0&&(t=[0,0]);var n={},i=Ti.__read(r,2),a=i[0],o=i[1],s=Ti.__read(t,2),u=s[0],l=s[1];return e.forEach(function(f){var c,h,v=Ti.__read(f,2),g=v[0],d=v[1],m=Ti.__read(wS(g,a,u),2),x=m[0],E=m[1],_=Ti.__read(wS(d,o,l),2),M=_[0],A=_[1],b=xS(g,d,x,M),I=xS(g,d,E,A),L,F,$;b<I?(L="x"+x+"y"+M,c=Ti.__read([x,M],2),F=c[0],$=c[1]):(L="x"+E+"y"+A,h=Ti.__read([E,A],2),F=h[0],$=h[1]),n[L]=n[L]||{x:F,y:$,count:0},n[L].count++}),n}function Yw(e,r){r=Fh.assign({},LX,r);var t=bX.getFields(r);if(!Fh.isArray(t)||t.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var n=Ti.__read(t,2),i=n[0],a=n[1],o=e.range(i),s=e.range(a),u=o[1]-o[0],l=s[1]-s[0],f=r.binWidth||[];if(f.length!==2){var c=Ti.__read(r.bins,2),h=c[0],v=c[1];if(h<=0||v<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");f=[u/h,l/v]}var g=Ti.__read(r.offset,2),d=g[0],m=g[1],x=3*f[0]/(mS*f[1]),E=e.rows.map(function(k){return[k[i],x*k[a]]}),_=IX(E,[f[0],x*f[1]],[d,x*m]),M=Ti.__read(r.as,3),A=M[0],b=M[1],I=M[2];if(!A||!b||!I)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var L=f[0]/mS,F=OX.map(function(k){return[Math.sin(k)*L,-Math.cos(k)*L]}),$=[],Y=0;r.sizeByCount&&Fh.forIn(_,function(k){k.count>Y&&(Y=k.count)}),Fh.forIn(_,function(k){var z=k.x,S=k.y,T=k.count,O={};O[I]=T,r.sizeByCount?(O[A]=F.map(function(D){return z+k.count/Y*D[0]}),O[b]=F.map(function(D){return(S+k.count/Y*D[1])/x})):(O[A]=F.map(function(D){return z+D[0]}),O[b]=F.map(function(D){return(S+D[1])/x})),$.push(O)}),e.rows=$}Ww.DataSet.registerTransform("bin.hexagon",Yw);Ww.DataSet.registerTransform("bin.hex",Yw);Ww.DataSet.registerTransform("hexbin",Yw);var fm=C.exports,Rl=Ht,DX=fm.__importDefault(Un),YL=Ft,BX=_e,RX={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function FX(e,r,t){var n=e-t,i=Math.floor(n/r);return[i*r+t,(i+1)*r+t]}function kX(e){return Math.ceil(Math.log(e)/Math.LN2)+1}function HL(e,r){r=Rl.assign({},RX,r);var t=BX.getField(r);if(e.rows.length!==0){var n=e.range(t),i=n[1]-n[0],a=r.binWidth,o=r.bins;if(!a&&o){if(o<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/o}if(!a&&!o){var s=kX(e.rows.length);a=i/s}var u=r.offset%a,l=[],f=r.groupBy,c=DX.default(e.rows,f);Rl.forIn(c,function(h){var v={},g=h.map(function(_){return _[t]});g.forEach(function(_){var M=fm.__read(FX(_,a,u),2),A=M[0],b=M[1],I=A+"-"+b;v[I]=v[I]||{x0:A,x1:b,count:0},v[I].count++});var d=fm.__read(r.as,2),m=d[0],x=d[1];if(!m||!x)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var E=Rl.pick(h[0],f);Rl.forIn(v,function(_){var M=Rl.assign({},E);M[m]=[_.x0,_.x1],M[x]=_.count,l.push(M)})}),e.rows=l}}YL.DataSet.registerTransform("bin.histogram",HL);YL.DataSet.registerTransform("bin.dot",HL);var XL=C.exports,kh=Ht,$X=Bi.exports,NX=XL.__importDefault(Un),zX=XL.__importDefault(_g),GX=Ft,WX=GX.DataSet.registerTransform,YX=_e,HX={as:"_bin",groupBy:[],fraction:4};function XX(e,r){r=kh.assign({},HX,r);var t=YX.getField(r),n=r.as;if(!kh.isString(n))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=r.p,a=r.fraction;(!kh.isArray(i)||i.length===0)&&(i=zX.default(a));var o=e.rows,s=r.groupBy,u=NX.default(o,s),l=[];kh.forIn(u,function(f){var c=f[0],h=f.map(function(g){return g[t]}),v=i.map(function(g){return $X.quantile(h,g)});c[n]=v,l.push(c)}),e.rows=l}WX("bin.quantile",XX);var Qo=C.exports,$h=Ht,VX=Ft,VL=VX.DataSet.registerTransform,UX=_e,KX={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function _S(e,r,t){var n=e-t,i=Math.floor(n/r);return[i*r+t,(i+1)*r+t]}function UL(e,r){r=$h.assign({},KX,r);var t=Qo.__read(UX.getFields(r),2),n=t[0],i=t[1];if(!n||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var a=e.range(n),o=e.range(i),s=a[1]-a[0],u=o[1]-o[0],l=r.binWidth||[];if(l.length!==2){var f=Qo.__read(r.bins,2),c=f[0],h=f[1];if(c<=0||h<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");l=[s/c,u/h]}var v=e.rows.map(function(L){return[L[n],L[i]]}),g={},d=Qo.__read(r.offset,2),m=d[0],x=d[1];v.forEach(function(L){var F=Qo.__read(_S(L[0],l[0],m),2),$=F[0],Y=F[1],k=Qo.__read(_S(L[1],l[1],x),2),z=k[0],S=k[1],T=$+"-"+Y+"-"+z+"-"+S;g[T]=g[T]||{x0:$,x1:Y,y0:z,y1:S,count:0},g[T].count++});var E=[],_=Qo.__read(r.as,3),M=_[0],A=_[1],b=_[2];if(!M||!A||!b)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!r.sizeByCount)$h.forIn(g,function(L){var F={};F[M]=[L.x0,L.x1,L.x1,L.x0],F[A]=[L.y0,L.y0,L.y1,L.y1],F[b]=L.count,E.push(F)});else{var I=0;$h.forIn(g,function(L){L.count>I&&(I=L.count)}),$h.forIn(g,function(L){var F=L.x0,$=L.x1,Y=L.y0,k=L.y1,z=L.count,S=z/I,T=Qo.__read([(F+$)/2,(Y+k)/2],2),O=T[0],D=T[1],H=($-F)*S/2,it=(k-Y)*S/2,pt=O-H,yt=O+H,mt=D-it,Dt=D+it,oe={};oe[M]=[pt,yt,yt,pt],oe[A]=[mt,mt,Dt,Dt],oe[b]=z,E.push(oe)})}e.rows=E}VL("bin.rectangle",UL);VL("bin.rect",UL);var by=Ht,qX=Ft,jX=qX.DataSet.registerTransform,ZX=_e,QX={as:["_centroid_x","_centroid_y"]};function JX(e,r){r=by.assign({},QX,r);var t=ZX.getField(r),n=r.geoView||r.geoDataView;if(by.isString(n)&&e.dataSet&&(n=e.dataSet.getView(n)),!n||n.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!by.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var a=i[0],o=i[1];e.rows.forEach(function(s){var u=n.geoFeatureByName(s[t]);u&&(n._projectedAs?(s[a]=u[n._projectedAs[2]],s[o]=u[n._projectedAs[3]]):(s[a]=u.centroidX,s[o]=u.centroidY))})}jX("geo.centroid",JX);var Hw=C.exports,ES=Ht,tV=lc,eV=Hw.__importDefault(rL),rV=Ft,nV=rV.DataSet.registerTransform,iV=Hw.__importDefault(xg),aV={as:["_x","_y","_centroid_x","_centroid_y"]};function oV(e,r){if(e.dataType!=="geo"&&e.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");r=ES.assign({},aV,r);var t=r.projection;if(!t)throw new TypeError("Invalid projection!");t=iV.default(t);var n=tV.geoPath(t),i=r.as;if(!ES.isArray(i)||i.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');e._projectedAs=i;var a=Hw.__read(i,4),o=a[0],s=a[1],u=a[2],l=a[3];e.rows.forEach(function(f){f[o]=[],f[s]=[];var c=n(f);if(c){var h=eV.default(c);h._path.forEach(function(g){f[o].push(g[1]),f[s].push(g[2])});var v=n.centroid(f);f[u]=v[0],f[l]=v[1]}}),e.rows=e.rows.filter(function(f){return f[o].length!==0})}nV("geo.projection",oV);var Ly=Ht,sV=Ft,uV=sV.DataSet.registerTransform,lV=_e,fV={as:["_x","_y"]};function cV(e,r){r=Ly.assign({},fV,r);var t=lV.getField(r),n=r.geoView||r.geoDataView;if(Ly.isString(n)&&(n=e.dataSet.getView(n)),!n||n.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!Ly.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var a=i[0],o=i[1];e.rows.forEach(function(s){var u=n.geoFeatureByName(s[t]);u&&(n._projectedAs?(s[a]=u[n._projectedAs[0]],s[o]=u[n._projectedAs[1]]):(s[a]=u.longitude,s[o]=u.latitude))})}uV("geo.region",cV);var Gu=Ht,KL=Ft,hV={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null};function vV(e,r,t){return t===void 0&&(t={}),e.forEach(function(n){var i=r.edgeSource(n),a=r.edgeTarget(n);t[i]||(t[i]={id:i}),t[a]||(t[a]={id:a})}),Gu.values(t)}function pV(e,r,t){Gu.forIn(e,function(n,i){n.inEdges=r.filter(function(a){return""+t.target(a)==""+i}),n.outEdges=r.filter(function(a){return""+t.source(a)==""+i}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(a){n.value+=t.targetWeight(a)}),n.outEdges.forEach(function(a){n.value+=t.sourceWeight(a)})})}function gV(e,r){var t={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+r.id(i)).localeCompare(""+r.id(a))}},n=t[r.sortBy];!n&&Gu.isFunction(r.sortBy)&&(n=r.sortBy),n&&e.sort(n)}function dV(e,r){var t=e.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var n=r.marginRatio;if(n<0||n>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=n/(2*t),a=r.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;e.forEach(function(u){o+=u.value}),e.forEach(function(u){u.weight=u.value/o,u.width=u.weight*(1-n),u.height=a}),e.forEach(function(u,l){for(var f=0,c=l-1;c>=0;c--)f+=e[c].width+2*i;var h=u.minX=i+f,v=u.maxX=u.minX+u.width,g=u.minY=r.y-a/2,d=u.maxY=g+a;u.x=[h,v,v,h],u.y=[g,g,d,d]})}else{var s=1/t;e.forEach(function(u,l){u.x=(l+.5)*s,u.y=r.y})}}function yV(e,r,t){if(t.weight){var n={};Gu.forIn(e,function(i,a){n[a]=i.value}),r.forEach(function(i){var a=t.source(i),o=t.target(i),s=e[a],u=e[o];if(s&&u){var l=n[a],f=t.sourceWeight(i),c=s.minX+(s.value-l)/s.value*s.width,h=c+f/s.value*s.width;n[a]-=f;var v=n[o],g=t.targetWeight(i),d=u.minX+(u.value-v)/u.value*u.width,m=d+g/u.value*u.width;n[o]-=g;var x=t.y;i.x=[c,h,d,m],i.y=[x,x,x,x]}})}else r.forEach(function(i){var a=e[t.source(i)],o=e[t.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y])})}function qL(e,r){r=Gu.assign({},hV,r);var t={},n=e.nodes,i=e.edges;(!Gu.isArray(n)||n.length===0)&&(n=vV(i,r,t)),n.forEach(function(a){var o=r.id(a);t[o]=a}),pV(t,i,r),gV(n,r),dV(n,r),yV(t,i,r),e.nodes=n,e.edges=i}KL.DataSet.registerTransform("diagram.arc",qL);KL.DataSet.registerTransform("arc",qL);var Mp;if(typeof NP=="function")try{Mp=require("graphlib")}catch{}Mp||(Mp=window.graphlib);var ki=Mp,Cp;if(typeof NP=="function")try{Cp={cloneDeep:require("lodash/cloneDeep"),constant:require("lodash/constant"),defaults:require("lodash/defaults"),each:require("lodash/each"),filter:require("lodash/filter"),find:require("lodash/find"),flatten:require("lodash/flatten"),forEach:require("lodash/forEach"),forIn:require("lodash/forIn"),has:require("lodash/has"),isUndefined:require("lodash/isUndefined"),last:require("lodash/last"),map:require("lodash/map"),mapValues:require("lodash/mapValues"),max:require("lodash/max"),merge:require("lodash/merge"),min:require("lodash/min"),minBy:require("lodash/minBy"),now:require("lodash/now"),pick:require("lodash/pick"),range:require("lodash/range"),reduce:require("lodash/reduce"),sortBy:require("lodash/sortBy"),uniqueId:require("lodash/uniqueId"),values:require("lodash/values"),zipObject:require("lodash/zipObject")}}catch{}Cp||(Cp=window._);var He=Cp,mV=Ag;function Ag(){var e={};e._next=e._prev=e,this._sentinel=e}Ag.prototype.dequeue=function(){var e=this._sentinel,r=e._prev;if(r!==e)return jL(r),r};Ag.prototype.enqueue=function(e){var r=this._sentinel;e._prev&&e._next&&jL(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r};Ag.prototype.toString=function(){for(var e=[],r=this._sentinel,t=r._prev;t!==r;)e.push(JSON.stringify(t,xV)),t=t._prev;return"["+e.join(", ")+"]"};function jL(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function xV(e,r){if(e!=="_next"&&e!=="_prev")return r}var Aa=He,wV=ki.Graph,_V=mV,EV=CV,MV=Aa.constant(1);function CV(e,r){if(e.nodeCount()<=1)return[];var t=TV(e,r||MV),n=SV(t.graph,t.buckets,t.zeroIdx);return Aa.flatten(Aa.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}function SV(e,r,t){for(var n=[],i=r[r.length-1],a=r[0],o;e.nodeCount();){for(;o=a.dequeue();)Oy(e,r,t,o);for(;o=i.dequeue();)Oy(e,r,t,o);if(e.nodeCount()){for(var s=r.length-2;s>0;--s)if(o=r[s].dequeue(),o){n=n.concat(Oy(e,r,t,o,!0));break}}}return n}function Oy(e,r,t,n,i){var a=i?[]:void 0;return Aa.forEach(e.inEdges(n.v),function(o){var s=e.edge(o),u=e.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=s,cm(r,t,u)}),Aa.forEach(e.outEdges(n.v),function(o){var s=e.edge(o),u=o.w,l=e.node(u);l.in-=s,cm(r,t,l)}),e.removeNode(n.v),a}function TV(e,r){var t=new wV,n=0,i=0;Aa.forEach(e.nodes(),function(s){t.setNode(s,{v:s,in:0,out:0})}),Aa.forEach(e.edges(),function(s){var u=t.edge(s.v,s.w)||0,l=r(s),f=u+l;t.setEdge(s.v,s.w,f),i=Math.max(i,t.node(s.v).out+=l),n=Math.max(n,t.node(s.w).in+=l)});var a=Aa.range(i+n+3).map(function(){return new _V}),o=n+1;return Aa.forEach(t.nodes(),function(s){cm(a,o,t.node(s))}),{graph:t,buckets:a,zeroIdx:o}}function cm(e,r,t){t.out?t.in?e[t.out-t.in+r].enqueue(t):e[e.length-1].enqueue(t):e[0].enqueue(t)}var cs=He,AV=EV,PV={run:bV,undo:OV};function bV(e){var r=e.graph().acyclicer==="greedy"?AV(e,t(e)):LV(e);cs.forEach(r,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,cs.uniqueId("rev"))});function t(n){return function(i){return n.edge(i).weight}}}function LV(e){var r=[],t={},n={};function i(a){cs.has(n,a)||(n[a]=!0,t[a]=!0,cs.forEach(e.outEdges(a),function(o){cs.has(t,o.w)?r.push(o):i(o.w)}),delete t[a])}return cs.forEach(e.nodes(),i),r}function OV(e){cs.forEach(e.edges(),function(r){var t=e.edge(r);if(t.reversed){e.removeEdge(r);var n=t.forwardName;delete t.reversed,delete t.forwardName,e.setEdge(r.w,r.v,t,n)}})}var we=He,ZL=ki.Graph,Cn={addDummyNode:QL,simplify:IV,asNonCompoundGraph:DV,successorWeights:BV,predecessorWeights:RV,intersectRect:FV,buildLayerMatrix:kV,normalizeRanks:$V,removeEmptyRanks:NV,addBorderNode:zV,maxRank:JL,partition:GV,time:WV,notime:YV};function QL(e,r,t,n){var i;do i=we.uniqueId(n);while(e.hasNode(i));return t.dummy=r,e.setNode(i,t),i}function IV(e){var r=new ZL().setGraph(e.graph());return we.forEach(e.nodes(),function(t){r.setNode(t,e.node(t))}),we.forEach(e.edges(),function(t){var n=r.edge(t.v,t.w)||{weight:0,minlen:1},i=e.edge(t);r.setEdge(t.v,t.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),r}function DV(e){var r=new ZL({multigraph:e.isMultigraph()}).setGraph(e.graph());return we.forEach(e.nodes(),function(t){e.children(t).length||r.setNode(t,e.node(t))}),we.forEach(e.edges(),function(t){r.setEdge(t,e.edge(t))}),r}function BV(e){var r=we.map(e.nodes(),function(t){var n={};return we.forEach(e.outEdges(t),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return we.zipObject(e.nodes(),r)}function RV(e){var r=we.map(e.nodes(),function(t){var n={};return we.forEach(e.inEdges(t),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return we.zipObject(e.nodes(),r)}function FV(e,r){var t=e.x,n=e.y,i=r.x-t,a=r.y-n,o=e.width/2,s=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),u=s*i/a,l=s):(i<0&&(o=-o),u=o,l=o*a/i),{x:t+u,y:n+l}}function kV(e){var r=we.map(we.range(JL(e)+1),function(){return[]});return we.forEach(e.nodes(),function(t){var n=e.node(t),i=n.rank;we.isUndefined(i)||(r[i][n.order]=t)}),r}function $V(e){var r=we.min(we.map(e.nodes(),function(t){return e.node(t).rank}));we.forEach(e.nodes(),function(t){var n=e.node(t);we.has(n,"rank")&&(n.rank-=r)})}function NV(e){var r=we.min(we.map(e.nodes(),function(a){return e.node(a).rank})),t=[];we.forEach(e.nodes(),function(a){var o=e.node(a).rank-r;t[o]||(t[o]=[]),t[o].push(a)});var n=0,i=e.graph().nodeRankFactor;we.forEach(t,function(a,o){we.isUndefined(a)&&o%i!==0?--n:n&&we.forEach(a,function(s){e.node(s).rank+=n})})}function zV(e,r,t,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=t,i.order=n),QL(e,"border",i,r)}function JL(e){return we.max(we.map(e.nodes(),function(r){var t=e.node(r).rank;if(!we.isUndefined(t))return t}))}function GV(e,r){var t={lhs:[],rhs:[]};return we.forEach(e,function(n){r(n)?t.lhs.push(n):t.rhs.push(n)}),t}function WV(e,r){var t=we.now();try{return r()}finally{console.log(e+" time: "+(we.now()-t)+"ms")}}function YV(e,r){return r()}var tO=He,HV=Cn,XV={run:VV,undo:KV};function VV(e){e.graph().dummyChains=[],tO.forEach(e.edges(),function(r){UV(e,r)})}function UV(e,r){var t=r.v,n=e.node(t).rank,i=r.w,a=e.node(i).rank,o=r.name,s=e.edge(r),u=s.labelRank;if(a!==n+1){e.removeEdge(r);var l,f,c;for(c=0,++n;n<a;++c,++n)s.points=[],f={width:0,height:0,edgeLabel:s,edgeObj:r,rank:n},l=HV.addDummyNode(e,"edge",f,"_d"),n===u&&(f.width=s.width,f.height=s.height,f.dummy="edge-label",f.labelpos=s.labelpos),e.setEdge(t,l,{weight:s.weight},o),c===0&&e.graph().dummyChains.push(l),t=l;e.setEdge(t,i,{weight:s.weight},o)}}function KV(e){tO.forEach(e.graph().dummyChains,function(r){var t=e.node(r),n=t.edgeLabel,i;for(e.setEdge(t.edgeObj,n);t.dummy;)i=e.successors(r)[0],e.removeNode(r),n.points.push({x:t.x,y:t.y}),t.dummy==="edge-label"&&(n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height),r=i,t=e.node(r)})}var Nh=He,Pg={longestPath:qV,slack:jV};function qV(e){var r={};function t(n){var i=e.node(n);if(Nh.has(r,n))return i.rank;r[n]=!0;var a=Nh.min(Nh.map(e.outEdges(n),function(o){return t(o.w)-e.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Nh.forEach(e.sources(),t)}function jV(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}var Sp=He,ZV=ki.Graph,Tp=Pg.slack,eO=QV;function QV(e){var r=new ZV({directed:!1}),t=e.nodes()[0],n=e.nodeCount();r.setNode(t,{});for(var i,a;JV(r,e)<n;)i=tU(r,e),a=r.hasNode(i.v)?Tp(e,i):-Tp(e,i),eU(r,e,a);return r}function JV(e,r){function t(n){Sp.forEach(r.nodeEdges(n),function(i){var a=i.v,o=n===a?i.w:a;!e.hasNode(o)&&!Tp(r,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),t(o))})}return Sp.forEach(e.nodes(),t),e.nodeCount()}function tU(e,r){return Sp.minBy(r.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return Tp(r,t)})}function eU(e,r,t){Sp.forEach(e.nodes(),function(n){r.node(n).rank+=t})}var Fa=He,rU=eO,nU=Pg.slack,iU=Pg.longestPath,aU=ki.alg.preorder,oU=ki.alg.postorder,sU=Cn.simplify,uU=Fs;Fs.initLowLimValues=Vw;Fs.initCutValues=Xw;Fs.calcCutValue=rO;Fs.leaveEdge=iO;Fs.enterEdge=aO;Fs.exchangeEdges=oO;function Fs(e){e=sU(e),iU(e);var r=rU(e);Vw(r),Xw(r,e);for(var t,n;t=iO(r);)n=aO(r,e,t),oO(r,e,t,n)}function Xw(e,r){var t=oU(e,e.nodes());t=t.slice(0,t.length-1),Fa.forEach(t,function(n){lU(e,r,n)})}function lU(e,r,t){var n=e.node(t),i=n.parent;e.edge(t,i).cutvalue=rO(e,r,t)}function rO(e,r,t){var n=e.node(t),i=n.parent,a=!0,o=r.edge(t,i),s=0;return o||(a=!1,o=r.edge(i,t)),s=o.weight,Fa.forEach(r.nodeEdges(t),function(u){var l=u.v===t,f=l?u.w:u.v;if(f!==i){var c=l===a,h=r.edge(u).weight;if(s+=c?h:-h,cU(e,t,f)){var v=e.edge(t,f).cutvalue;s+=c?-v:v}}}),s}function Vw(e,r){arguments.length<2&&(r=e.nodes()[0]),nO(e,{},1,r)}function nO(e,r,t,n,i){var a=t,o=e.node(n);return r[n]=!0,Fa.forEach(e.neighbors(n),function(s){Fa.has(r,s)||(t=nO(e,r,t,s,n))}),o.low=a,o.lim=t++,i?o.parent=i:delete o.parent,t}function iO(e){return Fa.find(e.edges(),function(r){return e.edge(r).cutvalue<0})}function aO(e,r,t){var n=t.v,i=t.w;r.hasEdge(n,i)||(n=t.w,i=t.v);var a=e.node(n),o=e.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=Fa.filter(r.edges(),function(f){return u===MS(e,e.node(f.v),s)&&u!==MS(e,e.node(f.w),s)});return Fa.minBy(l,function(f){return nU(r,f)})}function oO(e,r,t,n){var i=t.v,a=t.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),Vw(e),Xw(e,r),fU(e,r)}function fU(e,r){var t=Fa.find(e.nodes(),function(i){return!r.node(i).parent}),n=aU(e,t);n=n.slice(1),Fa.forEach(n,function(i){var a=e.node(i).parent,o=r.edge(i,a),s=!1;o||(o=r.edge(a,i),s=!0),r.node(i).rank=r.node(a).rank+(s?o.minlen:-o.minlen)})}function cU(e,r,t){return e.hasEdge(r,t)}function MS(e,r,t){return t.low<=r.lim&&r.lim<=t.lim}var hU=Pg,sO=hU.longestPath,vU=eO,pU=uU,gU=dU;function dU(e){switch(e.graph().ranker){case"network-simplex":CS(e);break;case"tight-tree":mU(e);break;case"longest-path":yU(e);break;default:CS(e)}}var yU=sO;function mU(e){sO(e),vU(e)}function CS(e){pU(e)}var hm=He,xU=wU;function wU(e){var r=EU(e);hm.forEach(e.graph().dummyChains,function(t){for(var n=e.node(t),i=n.edgeObj,a=_U(e,r,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],f=!0;t!==i.w;){if(n=e.node(t),f){for(;(l=o[u])!==s&&e.node(l).maxRank<n.rank;)u++;l===s&&(f=!1)}if(!f){for(;u<o.length-1&&e.node(l=o[u+1]).minRank<=n.rank;)u++;l=o[u]}e.setParent(t,l),t=e.successors(t)[0]}})}function _U(e,r,t,n){var i=[],a=[],o=Math.min(r[t].low,r[n].low),s=Math.max(r[t].lim,r[n].lim),u,l;u=t;do u=e.parent(u),i.push(u);while(u&&(r[u].low>o||s>r[u].lim));for(l=u,u=n;(u=e.parent(u))!==l;)a.push(u);return{path:i.concat(a.reverse()),lca:l}}function EU(e){var r={},t=0;function n(i){var a=t;hm.forEach(e.children(i),n),r[i]={low:a,lim:t++}}return hm.forEach(e.children(),n),r}var Pa=He,vm=Cn,MU={run:CU,cleanup:AU};function CU(e){var r=vm.addDummyNode(e,"root",{},"_root"),t=SU(e),n=Pa.max(Pa.values(t))-1,i=2*n+1;e.graph().nestingRoot=r,Pa.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var a=TU(e)+1;Pa.forEach(e.children(),function(o){uO(e,r,i,a,n,t,o)}),e.graph().nodeRankFactor=i}function uO(e,r,t,n,i,a,o){var s=e.children(o);if(!s.length){o!==r&&e.setEdge(r,o,{weight:0,minlen:t});return}var u=vm.addBorderNode(e,"_bt"),l=vm.addBorderNode(e,"_bb"),f=e.node(o);e.setParent(u,o),f.borderTop=u,e.setParent(l,o),f.borderBottom=l,Pa.forEach(s,function(c){uO(e,r,t,n,i,a,c);var h=e.node(c),v=h.borderTop?h.borderTop:c,g=h.borderBottom?h.borderBottom:c,d=h.borderTop?n:2*n,m=v!==g?1:i-a[o]+1;e.setEdge(u,v,{weight:d,minlen:m,nestingEdge:!0}),e.setEdge(g,l,{weight:d,minlen:m,nestingEdge:!0})}),e.parent(o)||e.setEdge(r,u,{weight:0,minlen:i+a[o]})}function SU(e){var r={};function t(n,i){var a=e.children(n);a&&a.length&&Pa.forEach(a,function(o){t(o,i+1)}),r[n]=i}return Pa.forEach(e.children(),function(n){t(n,1)}),r}function TU(e){return Pa.reduce(e.edges(),function(r,t){return r+e.edge(t).weight},0)}function AU(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,Pa.forEach(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}var Iy=He,PU=Cn,bU=LU;function LU(e){function r(t){var n=e.children(t),i=e.node(t);if(n.length&&Iy.forEach(n,r),Iy.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)SS(e,"borderLeft","_bl",t,i,a),SS(e,"borderRight","_br",t,i,a)}}Iy.forEach(e.children(),r)}function SS(e,r,t,n,i,a){var o={width:0,height:0,rank:a,borderType:r},s=i[r][a-1],u=PU.addDummyNode(e,"border",o,t);i[r][a]=u,e.setParent(u,n),s&&e.setEdge(s,u,{weight:1})}var Zi=He,OU={adjust:IU,undo:DU};function IU(e){var r=e.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&lO(e)}function DU(e){var r=e.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&BU(e),(r==="lr"||r==="rl")&&(RU(e),lO(e))}function lO(e){Zi.forEach(e.nodes(),function(r){TS(e.node(r))}),Zi.forEach(e.edges(),function(r){TS(e.edge(r))})}function TS(e){var r=e.width;e.width=e.height,e.height=r}function BU(e){Zi.forEach(e.nodes(),function(r){Dy(e.node(r))}),Zi.forEach(e.edges(),function(r){var t=e.edge(r);Zi.forEach(t.points,Dy),Zi.has(t,"y")&&Dy(t)})}function Dy(e){e.y=-e.y}function RU(e){Zi.forEach(e.nodes(),function(r){By(e.node(r))}),Zi.forEach(e.edges(),function(r){var t=e.edge(r);Zi.forEach(t.points,By),Zi.has(t,"x")&&By(t)})}function By(e){var r=e.x;e.x=e.y,e.y=r}var Ea=He,FU=kU;function kU(e){var r={},t=Ea.filter(e.nodes(),function(s){return!e.children(s).length}),n=Ea.max(Ea.map(t,function(s){return e.node(s).rank})),i=Ea.map(Ea.range(n+1),function(){return[]});function a(s){if(!Ea.has(r,s)){r[s]=!0;var u=e.node(s);i[u.rank].push(s),Ea.forEach(e.successors(s),a)}}var o=Ea.sortBy(t,function(s){return e.node(s).rank});return Ea.forEach(o,a),i}var eo=He,$U=NU;function NU(e,r){for(var t=0,n=1;n<r.length;++n)t+=zU(e,r[n-1],r[n]);return t}function zU(e,r,t){for(var n=eo.zipObject(t,eo.map(t,function(l,f){return f})),i=eo.flatten(eo.map(r,function(l){return eo.sortBy(eo.map(e.outEdges(l),function(f){return{pos:n[f.w],weight:e.edge(f).weight}}),"pos")}),!0),a=1;a<t.length;)a<<=1;var o=2*a-1;a-=1;var s=eo.map(new Array(o),function(){return 0}),u=0;return eo.forEach(i.forEach(function(l){var f=l.pos+a;s[f]+=l.weight;for(var c=0;f>0;)f%2&&(c+=s[f+1]),f=f-1>>1,s[f]+=l.weight;u+=l.weight*c})),u}var AS=He,GU=WU;function WU(e,r){return AS.map(r,function(t){var n=e.inEdges(t);if(n.length){var i=AS.reduce(n,function(a,o){var s=e.edge(o),u=e.node(o.v);return{sum:a.sum+s.weight*u.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:t}})}var $n=He,YU=HU;function HU(e,r){var t={};$n.forEach(e,function(i,a){var o=t[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};$n.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),$n.forEach(r.edges(),function(i){var a=t[i.v],o=t[i.w];!$n.isUndefined(a)&&!$n.isUndefined(o)&&(o.indegree++,a.out.push(t[i.w]))});var n=$n.filter(t,function(i){return!i.indegree});return XU(n)}function XU(e){var r=[];function t(a){return function(o){o.merged||($n.isUndefined(o.barycenter)||$n.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&VU(a,o)}}function n(a){return function(o){o.in.push(a),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();r.push(i),$n.forEach(i.in.reverse(),t(i)),$n.forEach(i.out,n(i))}return $n.map($n.filter(r,function(a){return!a.merged}),function(a){return $n.pick(a,["vs","i","barycenter","weight"])})}function VU(e,r){var t=0,n=0;e.weight&&(t+=e.barycenter*e.weight,n+=e.weight),r.weight&&(t+=r.barycenter*r.weight,n+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=t/n,e.weight=n,e.i=Math.min(r.i,e.i),r.merged=!0}var rf=He,UU=Cn,KU=qU;function qU(e,r){var t=UU.partition(e,function(f){return rf.has(f,"barycenter")}),n=t.lhs,i=rf.sortBy(t.rhs,function(f){return-f.i}),a=[],o=0,s=0,u=0;n.sort(jU(!!r)),u=PS(a,i,u),rf.forEach(n,function(f){u+=f.vs.length,a.push(f.vs),o+=f.barycenter*f.weight,s+=f.weight,u=PS(a,i,u)});var l={vs:rf.flatten(a,!0)};return s&&(l.barycenter=o/s,l.weight=s),l}function PS(e,r,t){for(var n;r.length&&(n=rf.last(r)).i<=t;)r.pop(),e.push(n.vs),t++;return t}function jU(e){return function(r,t){return r.barycenter<t.barycenter?-1:r.barycenter>t.barycenter?1:e?t.i-r.i:r.i-t.i}}var vo=He,ZU=GU,QU=YU,JU=KU,tK=fO;function fO(e,r,t,n){var i=e.children(r),a=e.node(r),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,u={};o&&(i=vo.filter(i,function(g){return g!==o&&g!==s}));var l=ZU(e,i);vo.forEach(l,function(g){if(e.children(g.v).length){var d=fO(e,g.v,t,n);u[g.v]=d,vo.has(d,"barycenter")&&rK(g,d)}});var f=QU(l,t);eK(f,u);var c=JU(f,n);if(o&&(c.vs=vo.flatten([o,c.vs,s],!0),e.predecessors(o).length)){var h=e.node(e.predecessors(o)[0]),v=e.node(e.predecessors(s)[0]);vo.has(c,"barycenter")||(c.barycenter=0,c.weight=0),c.barycenter=(c.barycenter*c.weight+h.order+v.order)/(c.weight+2),c.weight+=2}return c}function eK(e,r){vo.forEach(e,function(t){t.vs=vo.flatten(t.vs.map(function(n){return r[n]?r[n].vs:n}),!0)})}function rK(e,r){vo.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var nf=He,nK=ki.Graph,iK=aK;function aK(e,r,t){var n=oK(e),i=new nK({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return e.node(a)});return nf.forEach(e.nodes(),function(a){var o=e.node(a),s=e.parent(a);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||n),nf.forEach(e[t](a),function(u){var l=u.v===a?u.w:u.v,f=i.edge(l,a),c=nf.isUndefined(f)?0:f.weight;i.setEdge(l,a,{weight:e.edge(u).weight+c})}),nf.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),i}function oK(e){for(var r;e.hasNode(r=nf.uniqueId("_root")););return r}var sK=He,uK=lK;function lK(e,r,t){var n={},i;sK.forEach(t,function(a){for(var o=e.parent(a),s,u;o;){if(s=e.parent(o),s?(u=n[s],n[s]=o):(u=i,i=o),u&&u!==o){r.setEdge(u,o);return}o=s}})}var _o=He,fK=FU,cK=$U,hK=tK,vK=iK,pK=uK,gK=ki.Graph,bS=Cn,dK=yK;function yK(e){var r=bS.maxRank(e),t=LS(e,_o.range(1,r+1),"inEdges"),n=LS(e,_o.range(r-1,-1,-1),"outEdges"),i=fK(e);OS(e,i);for(var a=Number.POSITIVE_INFINITY,o,s=0,u=0;u<4;++s,++u){mK(s%2?t:n,s%4>=2),i=bS.buildLayerMatrix(e);var l=cK(e,i);l<a&&(u=0,o=_o.cloneDeep(i),a=l)}OS(e,o)}function LS(e,r,t){return _o.map(r,function(n){return vK(e,n,t)})}function mK(e,r){var t=new gK;_o.forEach(e,function(n){var i=n.graph().root,a=hK(n,i,t,r);_o.forEach(a.vs,function(o,s){n.node(o).order=s}),pK(n,t,a.vs)})}function OS(e,r){_o.forEach(r,function(t){_o.forEach(t,function(n,i){e.node(n).order=i})})}var Ut=He,xK=ki.Graph,wK=Cn,_K={positionX:CK,findType1Conflicts:cO,findType2Conflicts:hO,addConflict:Uw,hasConflict:vO,verticalAlignment:pO,horizontalCompaction:gO,alignCoordinates:yO,findSmallestWidthAlignment:dO,balance:mO};function cO(e,r){var t={};function n(i,a){var o=0,s=0,u=i.length,l=Ut.last(a);return Ut.forEach(a,function(f,c){var h=EK(e,f),v=h?e.node(h).order:u;(h||f===l)&&(Ut.forEach(a.slice(s,c+1),function(g){Ut.forEach(e.predecessors(g),function(d){var m=e.node(d),x=m.order;(x<o||v<x)&&!(m.dummy&&e.node(g).dummy)&&Uw(t,d,g)})}),s=c+1,o=v)}),a}return Ut.reduce(r,n),t}function hO(e,r){var t={};function n(a,o,s,u,l){var f;Ut.forEach(Ut.range(o,s),function(c){f=a[c],e.node(f).dummy&&Ut.forEach(e.predecessors(f),function(h){var v=e.node(h);v.dummy&&(v.order<u||v.order>l)&&Uw(t,h,f)})})}function i(a,o){var s=-1,u,l=0;return Ut.forEach(o,function(f,c){if(e.node(f).dummy==="border"){var h=e.predecessors(f);h.length&&(u=e.node(h[0]).order,n(o,l,c,s,u),l=c,s=u)}n(o,l,o.length,u,a.length)}),o}return Ut.reduce(r,i),t}function EK(e,r){if(e.node(r).dummy)return Ut.find(e.predecessors(r),function(t){return e.node(t).dummy})}function Uw(e,r,t){if(r>t){var n=r;r=t,t=n}var i=e[r];i||(e[r]=i={}),i[t]=!0}function vO(e,r,t){if(r>t){var n=r;r=t,t=n}return Ut.has(e[r],t)}function pO(e,r,t,n){var i={},a={},o={};return Ut.forEach(r,function(s){Ut.forEach(s,function(u,l){i[u]=u,a[u]=u,o[u]=l})}),Ut.forEach(r,function(s){var u=-1;Ut.forEach(s,function(l){var f=n(l);if(f.length){f=Ut.sortBy(f,function(d){return o[d]});for(var c=(f.length-1)/2,h=Math.floor(c),v=Math.ceil(c);h<=v;++h){var g=f[h];a[l]===l&&u<o[g]&&!vO(t,l,g)&&(a[g]=l,a[l]=i[l]=i[g],u=o[g])}}})}),{root:i,align:a}}function gO(e,r,t,n,i){var a={},o=MK(e,r,t,i),s=i?"borderLeft":"borderRight";function u(c,h){for(var v=o.nodes(),g=v.pop(),d={};g;)d[g]?c(g):(d[g]=!0,v.push(g),v=v.concat(h(g))),g=v.pop()}function l(c){a[c]=o.inEdges(c).reduce(function(h,v){return Math.max(h,a[v.v]+o.edge(v))},0)}function f(c){var h=o.outEdges(c).reduce(function(g,d){return Math.min(g,a[d.w]-o.edge(d))},Number.POSITIVE_INFINITY),v=e.node(c);h!==Number.POSITIVE_INFINITY&&v.borderType!==s&&(a[c]=Math.max(a[c],h))}return u(l,o.predecessors.bind(o)),u(f,o.successors.bind(o)),Ut.forEach(n,function(c){a[c]=a[t[c]]}),a}function MK(e,r,t,n){var i=new xK,a=e.graph(),o=SK(a.nodesep,a.edgesep,n);return Ut.forEach(r,function(s){var u;Ut.forEach(s,function(l){var f=t[l];if(i.setNode(f),u){var c=t[u],h=i.edge(c,f);i.setEdge(c,f,Math.max(o(e,l,u),h||0))}u=l})}),i}function dO(e,r){return Ut.minBy(Ut.values(r),function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Ut.forIn(t,function(a,o){var s=TK(e,o)/2;n=Math.max(a+s,n),i=Math.min(a-s,i)}),n-i})}function yO(e,r){var t=Ut.values(r),n=Ut.min(t),i=Ut.max(t);Ut.forEach(["u","d"],function(a){Ut.forEach(["l","r"],function(o){var s=a+o,u=e[s],l;if(u!==r){var f=Ut.values(u);l=o==="l"?n-Ut.min(f):i-Ut.max(f),l&&(e[s]=Ut.mapValues(u,function(c){return c+l}))}})})}function mO(e,r){return Ut.mapValues(e.ul,function(t,n){if(r)return e[r.toLowerCase()][n];var i=Ut.sortBy(Ut.map(e,n));return(i[1]+i[2])/2})}function CK(e){var r=wK.buildLayerMatrix(e),t=Ut.merge(cO(e,r),hO(e,r)),n={},i;Ut.forEach(["u","d"],function(o){i=o==="u"?r:Ut.values(r).reverse(),Ut.forEach(["l","r"],function(s){s==="r"&&(i=Ut.map(i,function(c){return Ut.values(c).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),l=pO(e,i,t,u),f=gO(e,i,l.root,l.align,s==="r");s==="r"&&(f=Ut.mapValues(f,function(c){return-c})),n[o+s]=f})});var a=dO(e,n);return yO(n,a),mO(n,e.graph().align)}function SK(e,r,t){return function(n,i,a){var o=n.node(i),s=n.node(a),u=0,l;if(u+=o.width/2,Ut.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=t?l:-l),l=0,u+=(o.dummy?r:e)/2,u+=(s.dummy?r:e)/2,u+=s.width/2,Ut.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(u+=t?l:-l),l=0,u}}function TK(e,r){return e.node(r).width}var af=He,xO=Cn,AK=_K.positionX,PK=bK;function bK(e){e=xO.asNonCompoundGraph(e),LK(e),af.forEach(AK(e),function(r,t){e.node(t).x=r})}function LK(e){var r=xO.buildLayerMatrix(e),t=e.graph().ranksep,n=0;af.forEach(r,function(i){var a=af.max(af.map(i,function(o){return e.node(o).height}));af.forEach(i,function(o){e.node(o).y=n+a/2}),n+=a+t})}var ee=He,IS=PV,DS=XV,OK=gU,IK=Cn.normalizeRanks,DK=xU,BK=Cn.removeEmptyRanks,BS=MU,RK=bU,RS=OU,FK=dK,kK=PK,Lo=Cn,$K=ki.Graph,NK=zK;function zK(e,r){var t=r&&r.debugTiming?Lo.time:Lo.notime;t("layout",function(){var n=t("  buildLayoutGraph",function(){return ZK(e)});t("  runLayout",function(){GK(n,t)}),t("  updateInputGraph",function(){WK(e,n)})})}function GK(e,r){r("    makeSpaceForEdgeLabels",function(){QK(e)}),r("    removeSelfEdges",function(){sq(e)}),r("    acyclic",function(){IS.run(e)}),r("    nestingGraph.run",function(){BS.run(e)}),r("    rank",function(){OK(Lo.asNonCompoundGraph(e))}),r("    injectEdgeLabelProxies",function(){JK(e)}),r("    removeEmptyRanks",function(){BK(e)}),r("    nestingGraph.cleanup",function(){BS.cleanup(e)}),r("    normalizeRanks",function(){IK(e)}),r("    assignRankMinMax",function(){tq(e)}),r("    removeEdgeLabelProxies",function(){eq(e)}),r("    normalize.run",function(){DS.run(e)}),r("    parentDummyChains",function(){DK(e)}),r("    addBorderSegments",function(){RK(e)}),r("    order",function(){FK(e)}),r("    insertSelfEdges",function(){uq(e)}),r("    adjustCoordinateSystem",function(){RS.adjust(e)}),r("    position",function(){kK(e)}),r("    positionSelfEdges",function(){lq(e)}),r("    removeBorderNodes",function(){oq(e)}),r("    normalize.undo",function(){DS.undo(e)}),r("    fixupEdgeLabelCoords",function(){iq(e)}),r("    undoCoordinateSystem",function(){RS.undo(e)}),r("    translateGraph",function(){rq(e)}),r("    assignNodeIntersects",function(){nq(e)}),r("    reversePoints",function(){aq(e)}),r("    acyclic.undo",function(){IS.undo(e)})}function WK(e,r){ee.forEach(e.nodes(),function(t){var n=e.node(t),i=r.node(t);n&&(n.x=i.x,n.y=i.y,r.children(t).length&&(n.width=i.width,n.height=i.height))}),ee.forEach(e.edges(),function(t){var n=e.edge(t),i=r.edge(t);n.points=i.points,ee.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height}var YK=["nodesep","edgesep","ranksep","marginx","marginy"],HK={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},XK=["acyclicer","ranker","rankdir","align"],VK=["width","height"],UK={width:0,height:0},KK=["minlen","weight","width","height","labeloffset"],qK={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},jK=["labelpos"];function ZK(e){var r=new $K({multigraph:!0,compound:!0}),t=Fy(e.graph());return r.setGraph(ee.merge({},HK,Ry(t,YK),ee.pick(t,XK))),ee.forEach(e.nodes(),function(n){var i=Fy(e.node(n));r.setNode(n,ee.defaults(Ry(i,VK),UK)),r.setParent(n,e.parent(n))}),ee.forEach(e.edges(),function(n){var i=Fy(e.edge(n));r.setEdge(n,ee.merge({},qK,Ry(i,KK),ee.pick(i,jK)))}),r}function QK(e){var r=e.graph();r.ranksep/=2,ee.forEach(e.edges(),function(t){var n=e.edge(t);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function JK(e){ee.forEach(e.edges(),function(r){var t=e.edge(r);if(t.width&&t.height){var n=e.node(r.v),i=e.node(r.w),a={rank:(i.rank-n.rank)/2+n.rank,e:r};Lo.addDummyNode(e,"edge-proxy",a,"_ep")}})}function tq(e){var r=0;ee.forEach(e.nodes(),function(t){var n=e.node(t);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,r=ee.max(r,n.maxRank))}),e.graph().maxRank=r}function eq(e){ee.forEach(e.nodes(),function(r){var t=e.node(r);t.dummy==="edge-proxy"&&(e.edge(t.e).labelRank=t.rank,e.removeNode(r))})}function rq(e){var r=Number.POSITIVE_INFINITY,t=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function u(l){var f=l.x,c=l.y,h=l.width,v=l.height;r=Math.min(r,f-h/2),t=Math.max(t,f+h/2),n=Math.min(n,c-v/2),i=Math.max(i,c+v/2)}ee.forEach(e.nodes(),function(l){u(e.node(l))}),ee.forEach(e.edges(),function(l){var f=e.edge(l);ee.has(f,"x")&&u(f)}),r-=o,n-=s,ee.forEach(e.nodes(),function(l){var f=e.node(l);f.x-=r,f.y-=n}),ee.forEach(e.edges(),function(l){var f=e.edge(l);ee.forEach(f.points,function(c){c.x-=r,c.y-=n}),ee.has(f,"x")&&(f.x-=r),ee.has(f,"y")&&(f.y-=n)}),a.width=t-r+o,a.height=i-n+s}function nq(e){ee.forEach(e.edges(),function(r){var t=e.edge(r),n=e.node(r.v),i=e.node(r.w),a,o;t.points?(a=t.points[0],o=t.points[t.points.length-1]):(t.points=[],a=i,o=n),t.points.unshift(Lo.intersectRect(n,a)),t.points.push(Lo.intersectRect(i,o))})}function iq(e){ee.forEach(e.edges(),function(r){var t=e.edge(r);if(ee.has(t,"x"))switch((t.labelpos==="l"||t.labelpos==="r")&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset;break}})}function aq(e){ee.forEach(e.edges(),function(r){var t=e.edge(r);t.reversed&&t.points.reverse()})}function oq(e){ee.forEach(e.nodes(),function(r){if(e.children(r).length){var t=e.node(r),n=e.node(t.borderTop),i=e.node(t.borderBottom),a=e.node(ee.last(t.borderLeft)),o=e.node(ee.last(t.borderRight));t.width=Math.abs(o.x-a.x),t.height=Math.abs(i.y-n.y),t.x=a.x+t.width/2,t.y=n.y+t.height/2}}),ee.forEach(e.nodes(),function(r){e.node(r).dummy==="border"&&e.removeNode(r)})}function sq(e){ee.forEach(e.edges(),function(r){if(r.v===r.w){var t=e.node(r.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:r,label:e.edge(r)}),e.removeEdge(r)}})}function uq(e){var r=Lo.buildLayerMatrix(e);ee.forEach(r,function(t){var n=0;ee.forEach(t,function(i,a){var o=e.node(i);o.order=a+n,ee.forEach(o.selfEdges,function(s){Lo.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++n,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function lq(e){ee.forEach(e.nodes(),function(r){var t=e.node(r);if(t.dummy==="selfedge"){var n=e.node(t.e.v),i=n.x+n.width/2,a=n.y,o=t.x-i,s=n.height/2;e.setEdge(t.e,t.label),e.removeNode(r),t.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],t.label.x=t.x,t.label.y=t.y}})}function Ry(e,r){return ee.mapValues(ee.pick(e,r),Number)}function Fy(e){var r={};return ee.forEach(e,function(t,n){r[n.toLowerCase()]=t}),r}var zh=He,fq=Cn,cq=ki.Graph,hq={debugOrdering:vq};function vq(e){var r=fq.buildLayerMatrix(e),t=new cq({compound:!0,multigraph:!0}).setGraph({});return zh.forEach(e.nodes(),function(n){t.setNode(n,{label:n}),t.setParent(n,"layer"+e.node(n).rank)}),zh.forEach(e.edges(),function(n){t.setEdge(n.v,n.w,{},n.name)}),zh.forEach(r,function(n,i){var a="layer"+i;t.setNode(a,{rank:"same"}),zh.reduce(n,function(o,s){return t.setEdge(o,s,{style:"invis"}),s})}),t}var pq="0.8.5",gq={graphlib:ki,layout:NK,debug:hq,util:{time:Cn.time,notime:Cn.notime},version:pq},dq=C.exports,yq=Ht,FS=dq.__importDefault(gq),wO=Ft,mq={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(e){return e.source},target:function(e){return e.target}};function _O(e,r){r=yq.assign({},mq,r);var t=new FS.default.graphlib.Graph;t.setGraph({}),t.setDefaultEdgeLabel(function(){return{}}),e.nodes.forEach(function(a){var o=r.nodeId?r.nodeId(a):a.id;!a.height&&!a.width&&(a.height=a.width=r.edgesep),t.setNode(o,a)}),e.edges.forEach(function(a){t.setEdge(r.source(a),r.target(a))}),FS.default.layout(t);var n=[],i=[];t.nodes().forEach(function(a){var o=t.node(a),s=o.x,u=o.y,l=o.height,f=o.width;o.x=[s-f/2,s+f/2,s+f/2,s-f/2],o.y=[u+l/2,u+l/2,u-l/2,u-l/2],n.push(o)}),t.edges().forEach(function(a){var o=t.edge(a).points,s={};s.x=o.map(function(u){return u.x}),s.y=o.map(function(u){return u.y}),i.push(s)}),e.nodes=n,e.edges=i}wO.DataSet.registerTransform("diagram.dagre",_O);wO.DataSet.registerTransform("dagre",_O);var ni="$";function Ap(){}Ap.prototype=gc.prototype={constructor:Ap,has:function(e){return ni+e in this},get:function(e){return this[ni+e]},set:function(e,r){return this[ni+e]=r,this},remove:function(e){var r=ni+e;return r in this&&delete this[r]},clear:function(){for(var e in this)e[0]===ni&&delete this[e]},keys:function(){var e=[];for(var r in this)r[0]===ni&&e.push(r.slice(1));return e},values:function(){var e=[];for(var r in this)r[0]===ni&&e.push(this[r]);return e},entries:function(){var e=[];for(var r in this)r[0]===ni&&e.push({key:r.slice(1),value:this[r]});return e},size:function(){var e=0;for(var r in this)r[0]===ni&&++e;return e},empty:function(){for(var e in this)if(e[0]===ni)return!1;return!0},each:function(e){for(var r in this)r[0]===ni&&e(this[r],r.slice(1),this)}};function gc(e,r){var t=new Ap;if(e instanceof Ap)e.each(function(s,u){t.set(u,s)});else if(Array.isArray(e)){var n=-1,i=e.length,a;if(r==null)for(;++n<i;)t.set(n,e[n]);else for(;++n<i;)t.set(r(a=e[n],n,e),a)}else if(e)for(var o in e)t.set(o,e[o]);return t}function xq(){var e=[],r=[],t,n,i;function a(s,u,l,f){if(u>=e.length)return t!=null&&s.sort(t),n!=null?n(s):s;for(var c=-1,h=s.length,v=e[u++],g,d,m=gc(),x,E=l();++c<h;)(x=m.get(g=v(d=s[c])+""))?x.push(d):m.set(g,[d]);return m.each(function(_,M){f(E,M,a(_,u,l,f))}),E}function o(s,u){if(++u>e.length)return s;var l,f=r[u-1];return n!=null&&u>=e.length?l=s.entries():(l=[],s.each(function(c,h){l.push({key:h,values:o(c,u)})})),f!=null?l.sort(function(c,h){return f(c.key,h.key)}):l}return i={object:function(s){return a(s,0,wq,_q)},map:function(s){return a(s,0,kS,$S)},entries:function(s){return o(a(s,0,kS,$S),0)},key:function(s){return e.push(s),i},sortKeys:function(s){return r[e.length-1]=s,i},sortValues:function(s){return t=s,i},rollup:function(s){return n=s,i}}}function wq(){return{}}function _q(e,r,t){e[r]=t}function kS(){return gc()}function $S(e,r,t){e.set(r,t)}function NS(){}var Jo=gc.prototype;NS.prototype={constructor:NS,has:Jo.has,add:function(e){return e+="",this[ni+e]=e,this},remove:Jo.remove,clear:Jo.clear,values:Jo.keys,size:Jo.size,empty:Jo.empty,each:Jo.each};function Eq(e){return e.target.depth}function Mq(e){return e.depth}function Cq(e,r){return r-1-e.height}function EO(e,r){return e.sourceLinks.length?e.depth:r-1}function Sq(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?zr(e.sourceLinks,Eq)-1:0}function Gh(e){return function(){return e}}function zS(e,r){return Kw(e.source,r.source)||e.index-r.index}function GS(e,r){return Kw(e.target,r.target)||e.index-r.index}function Kw(e,r){return e.y0-r.y0}function ky(e){return e.value}function Tq(e){return e.index}function Aq(e){return e.nodes}function Pq(e){return e.links}function WS(e,r){var t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function bq(){var e=0,r=0,t=1,n=1,i=24,a=8,o=Tq,s=EO,u,l=Aq,f=Pq,c=6;function h(){var E={nodes:l.apply(null,arguments),links:f.apply(null,arguments)};return v(E),g(E),d(E),m(E),x(E),E}h.update=function(E){return x(E),E},h.nodeId=function(E){return arguments.length?(o=typeof E=="function"?E:Gh(E),h):o},h.nodeAlign=function(E){return arguments.length?(s=typeof E=="function"?E:Gh(E),h):s},h.nodeSort=function(E){return arguments.length?(u=E,h):u},h.nodeWidth=function(E){return arguments.length?(i=+E,h):i},h.nodePadding=function(E){return arguments.length?(a=+E,h):a},h.nodes=function(E){return arguments.length?(l=typeof E=="function"?E:Gh(E),h):l},h.links=function(E){return arguments.length?(f=typeof E=="function"?E:Gh(E),h):f},h.size=function(E){return arguments.length?(e=r=0,t=+E[0],n=+E[1],h):[t-e,n-r]},h.extent=function(E){return arguments.length?(e=+E[0][0],t=+E[1][0],r=+E[0][1],n=+E[1][1],h):[[e,r],[t,n]]},h.iterations=function(E){return arguments.length?(c=+E,h):c};function v(E){E.nodes.forEach(function(M,A){M.index=A,M.sourceLinks=[],M.targetLinks=[]});var _=gc(E.nodes,o);E.links.forEach(function(M,A){M.index=A;var b=M.source,I=M.target;typeof b!="object"&&(b=M.source=WS(_,b)),typeof I!="object"&&(I=M.target=WS(_,I)),b.sourceLinks.push(M),I.targetLinks.push(M)})}function g(E){E.nodes.forEach(function(_){_.value=Math.max(q0(_.sourceLinks,ky),q0(_.targetLinks,ky))})}function d(E){var _,M,A,b=E.nodes.length;for(_=E.nodes,M=[],A=0;_.length;++A,_=M,M=[]){if(A>b)throw new Error("circular link");_.forEach(function(L){L.depth=A,L.sourceLinks.forEach(function(F){M.indexOf(F.target)<0&&M.push(F.target)})})}for(_=E.nodes,M=[],A=0;_.length;++A,_=M,M=[]){if(A>b)throw new Error("circular link");_.forEach(function(L){L.height=A,L.targetLinks.forEach(function(F){M.indexOf(F.source)<0&&M.push(F.source)})})}var I=(t-e-i)/(A-1);E.nodes.forEach(function(L){L.x1=(L.x0=e+Math.max(0,Math.min(A-1,Math.floor(s.call(null,L,A))))*I)+i})}function m(E){var _=xq().key(function($){return $.x0}).sortKeys(px).entries(E.nodes).map(function($){return $.values});b(),F();for(var M=.9,A=c;A>0;--A,M*=.9)L(M),F(),I(M),F();function b(){var $=zr(_,function(Y){return(n-r-(Y.length-1)*a)/q0(Y,ky)});_.forEach(function(Y){u!=null&&Y.sort(u),Y.forEach(function(k,z){k.y1=(k.y0=z)+k.value*$})}),E.links.forEach(function(Y){Y.width=Y.value*$})}function I($){_.forEach(function(Y){Y.forEach(function(k){let z=k.y0;for(const{target:S,width:T,value:O}of k.sourceLinks.sort(GS)){if(O>0){let D=0;for(const{source:H,width:it}of S.targetLinks){if(H===k)break;D+=it+a/2}D=(z-D-S.y0)*$*(O/Math.min(k.value,S.value)),S.y0+=D,S.y1+=D}z+=T+a/2}})})}function L($){_.slice().reverse().forEach(function(Y){Y.forEach(function(k){let z=k.y0;for(const{source:S,width:T,value:O}of k.targetLinks.sort(zS)){if(O>0){let D=0;for(const{target:H,width:it}of S.sourceLinks){if(H===k)break;D+=it+a/2}D=(z-D-S.y0)*$*(O/Math.min(k.value,S.value)),S.y0+=D,S.y1+=D}z+=T+a/2}})})}function F(){_.forEach(function($){var Y,k,z=r,S=$.length,T;for(u===void 0&&$.sort(Kw),T=0;T<S;++T)Y=$[T],k=z-Y.y0,k>0&&(Y.y0+=k,Y.y1+=k),z=Y.y1+a;if(k=z-a-n,k>0)for(z=Y.y0-=k,Y.y1-=k,T=S-2;T>=0;--T)Y=$[T],k=Y.y1+a-z,k>0&&(Y.y0-=k,Y.y1-=k),z=Y.y0})}}function x(E){E.nodes.forEach(function(_){_.sourceLinks.sort(GS),_.targetLinks.sort(zS)}),E.nodes.forEach(function(_){var M=_.y0,A=M;_.sourceLinks.forEach(function(b){b.y0=M+b.width/2,M+=b.width}),_.targetLinks.forEach(function(b){b.y1=A+b.width/2,A+=b.width})})}return h}var pm=Math.PI,gm=2*pm,os=1e-6,Lq=gm-os;function dm(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function MO(){return new dm}dm.prototype=MO.prototype={constructor:dm,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,i,a){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,r,t,n,i){e=+e,r=+r,t=+t,n=+n,i=+i;var a=this._x1,o=this._y1,s=t-e,u=n-r,l=a-e,f=o-r,c=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(c>os)if(!(Math.abs(f*s-u*l)>os)||!i)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var h=t-a,v=n-o,g=s*s+u*u,d=h*h+v*v,m=Math.sqrt(g),x=Math.sqrt(c),E=i*Math.tan((pm-Math.acos((g+c-d)/(2*m*x)))/2),_=E/x,M=E/m;Math.abs(_-1)>os&&(this._+="L"+(e+_*l)+","+(r+_*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*v)+","+(this._x1=e+M*s)+","+(this._y1=r+M*u)}},arc:function(e,r,t,n,i,a){e=+e,r=+r,t=+t,a=!!a;var o=t*Math.cos(n),s=t*Math.sin(n),u=e+o,l=r+s,f=1^a,c=a?n-i:i-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>os||Math.abs(this._y1-l)>os)&&(this._+="L"+u+","+l),t&&(c<0&&(c=c%gm+gm),c>Lq?this._+="A"+t+","+t+",0,1,"+f+","+(e-o)+","+(r-s)+"A"+t+","+t+",0,1,"+f+","+(this._x1=u)+","+(this._y1=l):c>os&&(this._+="A"+t+","+t+",0,"+ +(c>=pm)+","+f+","+(this._x1=e+t*Math.cos(i))+","+(this._y1=r+t*Math.sin(i))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function YS(e){return function(){return e}}function Oq(e){return e[0]}function Iq(e){return e[1]}var Dq=Array.prototype.slice;function Bq(e){return e.source}function Rq(e){return e.target}function Fq(e){var r=Bq,t=Rq,n=Oq,i=Iq,a=null;function o(){var s,u=Dq.call(arguments),l=r.apply(this,u),f=t.apply(this,u);if(a||(a=s=MO()),e(a,+n.apply(this,(u[0]=l,u)),+i.apply(this,u),+n.apply(this,(u[0]=f,u)),+i.apply(this,u)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(r=s,o):r},o.target=function(s){return arguments.length?(t=s,o):t},o.x=function(s){return arguments.length?(n=typeof s=="function"?s:YS(+s),o):n},o.y=function(s){return arguments.length?(i=typeof s=="function"?s:YS(+s),o):i},o.context=function(s){return arguments.length?(a=s==null?null:s,o):a},o}function kq(e,r,t,n,i){e.moveTo(r,t),e.bezierCurveTo(r=(r+n)/2,t,r,i,n,i)}function $q(){return Fq(kq)}function Nq(e){return[e.source.x1,e.y0]}function zq(e){return[e.target.x0,e.y1]}function Gq(){return $q().source(Nq).target(zq)}var Wq=Object.freeze(Object.defineProperty({__proto__:null,sankey:bq,sankeyCenter:Sq,sankeyLeft:Mq,sankeyRight:Cq,sankeyJustify:EO,sankeyLinkHorizontal:Gq},Symbol.toStringTag,{value:"Module"})),Yq=oa(Wq),Wh=Ht,of=Yq,CO=Ft,Hq={sankeyLeft:of.sankeyLeft,sankeyRight:of.sankeyRight,sankeyCenter:of.sankeyCenter,sankeyJustify:of.sankeyJustify},Xq={value:function(e){return e.value},source:function(e){return e.source},target:function(e){return e.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function SO(e,r){r=Wh.assign({},Xq,r);var t=null;Wh.isString(r.nodeAlign)?t=Hq[r.nodeAlign]:Wh.isFunction(r.nodeAlign)&&(t=r.nodeAlign);var n=of.sankey().nodeSort(r.sort).links(function(i){return i.edges}).nodeWidth(r.nodeWidth).nodePadding(r.nodePadding).extent([[0,0],[1,1]]);Wh.isFunction(r.nodeId)&&n.nodeId(r.nodeId),t&&n.nodeAlign(t),n(e),e.nodes.forEach(function(i){var a=i.x0,o=i.x1,s=i.y0,u=i.y1;i.x=[a,o,o,a],i.y=[s,s,u,u]}),e.edges.forEach(function(i){var a=i.source,o=i.target,s=a.x1,u=o.x0;i.x=[s,s,u,u];var l=i.width/2;i.y=[i.y0+l,i.y0-l,i.y1+l,i.y1-l]})}CO.DataSet.registerTransform("diagram.sankey",SO);CO.DataSet.registerTransform("sankey",SO);function HS(e){return function(){return e}}function Vq(e){return e[0]}function Uq(e){return e[1]}function Pp(){this._=null}function bg(e){e.U=e.C=e.L=e.R=e.P=e.N=null}Pp.prototype={constructor:Pp,insert:function(e,r){var t,n,i;if(e){if(r.P=e,r.N=e.N,e.N&&(e.N.P=r),e.N=r,e.R){for(e=e.R;e.L;)e=e.L;e.L=r}else e.R=r;t=e}else this._?(e=XS(this._),r.P=null,r.N=e,e.P=e.L=r,t=e):(r.P=r.N=null,this._=r,t=null);for(r.L=r.R=null,r.U=t,r.C=!0,e=r;t&&t.C;)n=t.U,t===n.L?(i=n.R,i&&i.C?(t.C=i.C=!1,n.C=!0,e=n):(e===t.R&&(Fl(this,t),e=t,t=e.U),t.C=!1,n.C=!0,kl(this,n))):(i=n.L,i&&i.C?(t.C=i.C=!1,n.C=!0,e=n):(e===t.L&&(kl(this,t),e=t,t=e.U),t.C=!1,n.C=!0,Fl(this,n))),t=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var r=e.U,t,n=e.L,i=e.R,a,o;if(n?i?a=XS(i):a=n:a=i,r?r.L===e?r.L=a:r.R=a:this._=a,n&&i?(o=a.C,a.C=e.C,a.L=n,n.U=a,a!==i?(r=a.U,a.U=e.U,e=a.R,r.L=e,a.R=i,i.U=a):(a.U=r,r=a,e=a.R)):(o=e.C,e=a),e&&(e.U=r),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===r.L){if(t=r.R,t.C&&(t.C=!1,r.C=!0,Fl(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,kl(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Fl(this,r),e=this._;break}}else if(t=r.L,t.C&&(t.C=!1,r.C=!0,kl(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,Fl(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,kl(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}};function Fl(e,r){var t=r,n=r.R,i=t.U;i?i.L===t?i.L=n:i.R=n:e._=n,n.U=i,t.U=n,t.R=n.L,t.R&&(t.R.U=t),n.L=t}function kl(e,r){var t=r,n=r.L,i=t.U;i?i.L===t?i.L=n:i.R=n:e._=n,n.U=i,t.U=n,t.L=n.R,t.L&&(t.L.U=t),n.R=t}function XS(e){for(;e.L;)e=e.L;return e}function sf(e,r,t,n){var i=[null,null],a=Br.push(i)-1;return i.left=e,i.right=r,t&&bp(i,e,r,t),n&&bp(i,r,e,n),zn[e.index].halfedges.push(a),zn[r.index].halfedges.push(a),i}function $l(e,r,t){var n=[r,t];return n.left=e,n}function bp(e,r,t,n){!e[0]&&!e[1]?(e[0]=n,e.left=r,e.right=t):e.left===t?e[1]=n:e[0]=n}function Kq(e,r,t,n,i){var a=e[0],o=e[1],s=a[0],u=a[1],l=o[0],f=o[1],c=0,h=1,v=l-s,g=f-u,d;if(d=r-s,!(!v&&d>0)){if(d/=v,v<0){if(d<c)return;d<h&&(h=d)}else if(v>0){if(d>h)return;d>c&&(c=d)}if(d=n-s,!(!v&&d<0)){if(d/=v,v<0){if(d>h)return;d>c&&(c=d)}else if(v>0){if(d<c)return;d<h&&(h=d)}if(d=t-u,!(!g&&d>0)){if(d/=g,g<0){if(d<c)return;d<h&&(h=d)}else if(g>0){if(d>h)return;d>c&&(c=d)}if(d=i-u,!(!g&&d<0)){if(d/=g,g<0){if(d>h)return;d>c&&(c=d)}else if(g>0){if(d<c)return;d<h&&(h=d)}return!(c>0)&&!(h<1)||(c>0&&(e[0]=[s+c*v,u+c*g]),h<1&&(e[1]=[s+h*v,u+h*g])),!0}}}}}function qq(e,r,t,n,i){var a=e[1];if(a)return!0;var o=e[0],s=e.left,u=e.right,l=s[0],f=s[1],c=u[0],h=u[1],v=(l+c)/2,g=(f+h)/2,d,m;if(h===f){if(v<r||v>=n)return;if(l>c){if(!o)o=[v,t];else if(o[1]>=i)return;a=[v,i]}else{if(!o)o=[v,i];else if(o[1]<t)return;a=[v,t]}}else if(d=(l-c)/(h-f),m=g-d*v,d<-1||d>1)if(l>c){if(!o)o=[(t-m)/d,t];else if(o[1]>=i)return;a=[(i-m)/d,i]}else{if(!o)o=[(i-m)/d,i];else if(o[1]<t)return;a=[(t-m)/d,t]}else if(f<h){if(!o)o=[r,d*r+m];else if(o[0]>=n)return;a=[n,d*n+m]}else{if(!o)o=[n,d*n+m];else if(o[0]<r)return;a=[r,d*r+m]}return e[0]=o,e[1]=a,!0}function jq(e,r,t,n){for(var i=Br.length,a;i--;)(!qq(a=Br[i],e,r,t,n)||!Kq(a,e,r,t,n)||!(Math.abs(a[0][0]-a[1][0])>Pe||Math.abs(a[0][1]-a[1][1])>Pe))&&delete Br[i]}function Zq(e){return zn[e.index]={site:e,halfedges:[]}}function Qq(e,r){var t=e.site,n=r.left,i=r.right;return t===i&&(i=n,n=t),i?Math.atan2(i[1]-n[1],i[0]-n[0]):(t===n?(n=r[1],i=r[0]):(n=r[0],i=r[1]),Math.atan2(n[0]-i[0],i[1]-n[1]))}function TO(e,r){return r[+(r.left!==e.site)]}function Jq(e,r){return r[+(r.left===e.site)]}function tj(){for(var e=0,r=zn.length,t,n,i,a;e<r;++e)if((t=zn[e])&&(a=(n=t.halfedges).length)){var o=new Array(a),s=new Array(a);for(i=0;i<a;++i)o[i]=i,s[i]=Qq(t,Br[n[i]]);for(o.sort(function(u,l){return s[l]-s[u]}),i=0;i<a;++i)s[i]=n[o[i]];for(i=0;i<a;++i)n[i]=s[i]}}function ej(e,r,t,n){var i=zn.length,a,o,s,u,l,f,c,h,v,g,d,m,x=!0;for(a=0;a<i;++a)if(o=zn[a]){for(s=o.site,l=o.halfedges,u=l.length;u--;)Br[l[u]]||l.splice(u,1);for(u=0,f=l.length;u<f;)g=Jq(o,Br[l[u]]),d=g[0],m=g[1],c=TO(o,Br[l[++u%f]]),h=c[0],v=c[1],(Math.abs(d-h)>Pe||Math.abs(m-v)>Pe)&&(l.splice(u,0,Br.push($l(s,g,Math.abs(d-e)<Pe&&n-m>Pe?[e,Math.abs(h-e)<Pe?v:n]:Math.abs(m-n)<Pe&&t-d>Pe?[Math.abs(v-n)<Pe?h:t,n]:Math.abs(d-t)<Pe&&m-r>Pe?[t,Math.abs(h-t)<Pe?v:r]:Math.abs(m-r)<Pe&&d-e>Pe?[Math.abs(v-r)<Pe?h:e,r]:null))-1),++f);f&&(x=!1)}if(x){var E,_,M,A=1/0;for(a=0,x=null;a<i;++a)(o=zn[a])&&(s=o.site,E=s[0]-e,_=s[1]-r,M=E*E+_*_,M<A&&(A=M,x=o));if(x){var b=[e,r],I=[e,n],L=[t,n],F=[t,r];x.halfedges.push(Br.push($l(s=x.site,b,I))-1,Br.push($l(s,I,L))-1,Br.push($l(s,L,F))-1,Br.push($l(s,F,b))-1)}}for(a=0;a<i;++a)(o=zn[a])&&(o.halfedges.length||delete zn[a])}var AO=[],qw;function rj(){bg(this),this.x=this.y=this.arc=this.site=this.cy=null}function hu(e){var r=e.P,t=e.N;if(!(!r||!t)){var n=r.site,i=e.site,a=t.site;if(n!==a){var o=i[0],s=i[1],u=n[0]-o,l=n[1]-s,f=a[0]-o,c=a[1]-s,h=2*(u*c-l*f);if(!(h>=-sj)){var v=u*u+l*l,g=f*f+c*c,d=(c*v-l*g)/h,m=(u*g-f*v)/h,x=AO.pop()||new rj;x.arc=e,x.site=i,x.x=d+o,x.y=(x.cy=m+s)+Math.sqrt(d*d+m*m),e.circle=x;for(var E=null,_=Nf._;_;)if(x.y<_.y||x.y===_.y&&x.x<=_.x)if(_.L)_=_.L;else{E=_.P;break}else if(_.R)_=_.R;else{E=_;break}Nf.insert(E,x),E||(qw=x)}}}}function Eu(e){var r=e.circle;r&&(r.P||(qw=r.N),Nf.remove(r),AO.push(r),bg(r),e.circle=null)}var PO=[];function nj(){bg(this),this.edge=this.site=this.circle=null}function VS(e){var r=PO.pop()||new nj;return r.site=e,r}function $y(e){Eu(e),Mu.remove(e),PO.push(e),bg(e)}function ij(e){var r=e.circle,t=r.x,n=r.cy,i=[t,n],a=e.P,o=e.N,s=[e];$y(e);for(var u=a;u.circle&&Math.abs(t-u.circle.x)<Pe&&Math.abs(n-u.circle.cy)<Pe;)a=u.P,s.unshift(u),$y(u),u=a;s.unshift(u),Eu(u);for(var l=o;l.circle&&Math.abs(t-l.circle.x)<Pe&&Math.abs(n-l.circle.cy)<Pe;)o=l.N,s.push(l),$y(l),l=o;s.push(l),Eu(l);var f=s.length,c;for(c=1;c<f;++c)l=s[c],u=s[c-1],bp(l.edge,u.site,l.site,i);u=s[0],l=s[f-1],l.edge=sf(u.site,l.site,null,i),hu(u),hu(l)}function aj(e){for(var r=e[0],t=e[1],n,i,a,o,s=Mu._;s;)if(a=bO(s,t)-r,a>Pe)s=s.L;else if(o=r-oj(s,t),o>Pe){if(!s.R){n=s;break}s=s.R}else{a>-Pe?(n=s.P,i=s):o>-Pe?(n=s,i=s.N):n=i=s;break}Zq(e);var u=VS(e);if(Mu.insert(n,u),!(!n&&!i)){if(n===i){Eu(n),i=VS(n.site),Mu.insert(u,i),u.edge=i.edge=sf(n.site,u.site),hu(n),hu(i);return}if(!i){u.edge=sf(n.site,u.site);return}Eu(n),Eu(i);var l=n.site,f=l[0],c=l[1],h=e[0]-f,v=e[1]-c,g=i.site,d=g[0]-f,m=g[1]-c,x=2*(h*m-v*d),E=h*h+v*v,_=d*d+m*m,M=[(m*E-v*_)/x+f,(h*_-d*E)/x+c];bp(i.edge,l,g,M),u.edge=sf(l,e,null,M),i.edge=sf(e,g,null,M),hu(n),hu(i)}}function bO(e,r){var t=e.site,n=t[0],i=t[1],a=i-r;if(!a)return n;var o=e.P;if(!o)return-1/0;t=o.site;var s=t[0],u=t[1],l=u-r;if(!l)return s;var f=s-n,c=1/a-1/l,h=f/l;return c?(-h+Math.sqrt(h*h-2*c*(f*f/(-2*l)-u+l/2+i-a/2)))/c+n:(n+s)/2}function oj(e,r){var t=e.N;if(t)return bO(t,r);var n=e.site;return n[1]===r?n[0]:1/0}var Pe=1e-6,sj=1e-12,Mu,zn,Nf,Br;function uj(e,r,t){return(e[0]-t[0])*(r[1]-e[1])-(e[0]-r[0])*(t[1]-e[1])}function lj(e,r){return r[1]-e[1]||r[0]-e[0]}function ym(e,r){var t=e.sort(lj).pop(),n,i,a;for(Br=[],zn=new Array(e.length),Mu=new Pp,Nf=new Pp;;)if(a=qw,t&&(!a||t[1]<a.y||t[1]===a.y&&t[0]<a.x))(t[0]!==n||t[1]!==i)&&(aj(t),n=t[0],i=t[1]),t=e.pop();else if(a)ij(a.arc);else break;if(tj(),r){var o=+r[0][0],s=+r[0][1],u=+r[1][0],l=+r[1][1];jq(o,s,u,l),ej(o,s,u,l)}this.edges=Br,this.cells=zn,Mu=Nf=Br=zn=null}ym.prototype={constructor:ym,polygons:function(){var e=this.edges;return this.cells.map(function(r){var t=r.halfedges.map(function(n){return TO(r,e[n])});return t.data=r.site.data,t})},triangles:function(){var e=[],r=this.edges;return this.cells.forEach(function(t,n){if(!!(s=(a=t.halfedges).length))for(var i=t.site,a,o=-1,s,u,l=r[a[s-1]],f=l.left===i?l.right:l.left;++o<s;)u=f,l=r[a[o]],f=l.left===i?l.right:l.left,u&&f&&n<u.index&&n<f.index&&uj(i,u,f)<0&&e.push([i.data,u.data,f.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,r,t){for(var n=this,i,a=n._found||0,o=n.cells.length,s;!(s=n.cells[a]);)if(++a>=o)return null;var u=e-s.site[0],l=r-s.site[1],f=u*u+l*l;do s=n.cells[i=a],a=null,s.halfedges.forEach(function(c){var h=n.edges[c],v=h.left;if(!((v===s.site||!v)&&!(v=h.right))){var g=e-v[0],d=r-v[1],m=g*g+d*d;m<f&&(f=m,a=v.index)}});while(a!==null);return n._found=i,t==null||f<=t*t?s.site:null}};function fj(){var e=Vq,r=Uq,t=null;function n(i){return new ym(i.map(function(a,o){var s=[Math.round(e(a,o,i)/Pe)*Pe,Math.round(r(a,o,i)/Pe)*Pe];return s.index=o,s.data=a,s}),t)}return n.polygons=function(i){return n(i).polygons()},n.links=function(i){return n(i).links()},n.triangles=function(i){return n(i).triangles()},n.x=function(i){return arguments.length?(e=typeof i=="function"?i:HS(+i),n):e},n.y=function(i){return arguments.length?(r=typeof i=="function"?i:HS(+i),n):r},n.extent=function(i){return arguments.length?(t=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],n):t&&[[t[0][0],t[0][1]],[t[1][0],t[1][1]]]},n.size=function(i){return arguments.length?(t=i==null?null:[[0,0],[+i[0],+i[1]]],n):t&&[t[1][0]-t[0][0],t[1][1]-t[0][1]]},n}var cj=Object.freeze(Object.defineProperty({__proto__:null,voronoi:fj},Symbol.toStringTag,{value:"Module"})),hj=oa(cj),vj=C.exports,pj=vj.__importStar(hj),Ny=Ht,gj=Ft,LO=gj.DataSet.registerTransform,dj=_e,yj={as:["_x","_y"]};function OO(e,r){r=Ny.assign({},yj,r);var t=r.as;if(!Ny.isArray(t)||t.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var n=t[0],i=t[1],a=dj.getFields(r);if(!Ny.isArray(a)||a.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var o=a[0],s=a[1],u=e.rows,l=u.map(function(h){return[h[o],h[s]]}),f=pj.voronoi();r.extend&&f.extent(r.extend),r.size&&f.size(r.size);var c=f(l).polygons();u.forEach(function(h,v){var g=c[v].filter(function(d){return!!d});h[n]=g.map(function(d){return d[0]}),h[i]=g.map(function(d){return d[1]})})}LO("diagram.voronoi",OO);LO("voronoi",OO);var mj=C.exports,xj=mj.__importStar(rl),US=Ht,jw=Ft,wj=_e,_j={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function IO(e,r){if(e.dataType!==jw.DataSet.CONSTANTS.HIERARCHY||!e.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var t=e.root;r=US.assign({},_j,r);var n=r.as;if(!US.isArray(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=wj.getField(r)}catch(u){console.warn(u)}i&&t.sum(function(u){return u[i]});var a=xj.cluster();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(t);var o=n[0],s=n[1];t.each(function(u){u[o]=u.x,u[s]=u.y})}jw.DataSet.registerTransform("hierarchy.cluster",IO);jw.DataSet.registerTransform("dendrogram",IO);var Lg={exports:{}};(function(e,r){(function(n,i){e.exports=i()})(typeof self!="undefined"?self:ui,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=31)}([function(t,n,i){var a=i(4);n.a=function(o){return Array.isArray?Array.isArray(o):Object(a.a)(o,"Array")}},function(t,n,i){var a=function(o){return o!==null&&typeof o!="function"&&isFinite(o.length)};n.a=a},function(t,n,i){var a=i(0),o=i(13);function s(u,l){if(!!u){var f;if(Object(a.a)(u))for(var c=0,h=u.length;c<h&&(f=l(u[c],c),f!==!1);c++);else if(Object(o.a)(u)){for(var v in u)if(u.hasOwnProperty(v)&&(f=l(u[v],v),f===!1))break}}}n.a=s},function(t,n,i){var a=i(4);n.a=function(o){return Object(a.a)(o,"Function")}},function(t,n,i){var a={}.toString,o=function(s,u){return a.call(s)==="[object "+u+"]"};n.a=o},function(t,n,i){var a=i(4),o=function(s){return Object(a.a)(s,"Number")};n.a=o},function(t,n,i){var a=function(o){return o==null};n.a=a},function(t,n,i){var a=i(33),o=a.mix;t.exports={assign:o}},function(t,n,i){var a=i(4);n.a=function(o){return Object(a.a)(o,"String")}},function(t,n,i){var a=i(15),o=i(4),s=function(u){if(!Object(a.a)(u)||!Object(o.a)(u,"Object"))return!1;if(Object.getPrototypeOf(u)===null)return!0;for(var l=u;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l};n.a=s},function(t,n,i){var a=i(6);n.a=function(o){return Object(a.a)(o)?"":o.toString()}},function(t,n,i){var a=i(18),o=function(){function s(l,f){f===void 0&&(f={});var c=this;c.options=f,c.rootNode=a(l,f)}var u=s.prototype;return u.execute=function(){throw new Error("please override this method")},s}();t.exports=o},function(t,n,i){var a=i(1),o=function(s,u){return Object(a.a)(s)?s.indexOf(u)>-1:!1};n.a=o},function(t,n,i){n.a=function(a){var o=typeof a;return a!==null&&o==="object"||o==="function"}},function(t,n,i){var a=i(2),o=i(1),s=function(u,l){if(!Object(o.a)(u))return u;var f=[];return Object(a.a)(u,function(c,h){l(c,h)&&f.push(c)}),f};n.a=s},function(t,n,i){var a=function(o){return typeof o=="object"&&o!==null};n.a=a},function(t,n,i){n.a=o;function a(s,u){for(var l in u)u.hasOwnProperty(l)&&l!=="constructor"&&u[l]!==void 0&&(s[l]=u[l])}function o(s,u,l,f){return u&&a(s,u),l&&a(s,l),f&&a(s,f),s}},function(t,n,i){var a=i(30),o=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],u=function(c){return s.indexOf(c)>-1},l=o[0];t.exports=function(f,c,h){var v=c.direction||l;if(c.isHorizontal=u(v),v&&o.indexOf(v)===-1)throw new TypeError("Invalid direction: "+v);if(v===o[0])h(f,c);else if(v===o[1])h(f,c),f.right2left();else if(v===o[2])h(f,c);else if(v===o[3])h(f,c),f.bottom2top();else if(v===o[4]||v===o[5]){var g=a(f,c),d=g.left,m=g.right;h(d,c),h(m,c),c.isHorizontal?d.right2left():d.bottom2top(),m.translate(d.x-m.x,d.y-m.y),f.x=d.x,f.y=m.y;var x=f.getBoundingBox();c.isHorizontal?x.top<0&&f.translate(0,-x.top):x.left<0&&f.translate(-x.left,0)}var E=c.fixedRoot;return E===void 0&&(E=!0),E&&f.translate(-(f.x+f.width/2+f.hgap),-(f.y+f.height/2+f.vgap)),f}},function(t,n,i){var a=i(7),o=18,s=o*2,u=o,l={getId:function(v){return v.id||v.name},getPreH:function(v){return v.preH||0},getPreV:function(v){return v.preV||0},getHGap:function(v){return v.hgap||u},getVGap:function(v){return v.vgap||u},getChildren:function(v){return v.children},getHeight:function(v){return v.height||s},getWidth:function(v){var g=v.label||" ";return v.width||g.split("").length*o}};function f(h,v){var g=this;if(g.vgap=g.hgap=0,h instanceof f)return h;g.data=h;var d=v.getHGap(h),m=v.getVGap(h);return g.preH=v.getPreH(h),g.preV=v.getPreV(h),g.width=v.getWidth(h),g.height=v.getHeight(h),g.width+=g.preH,g.height+=g.preV,g.id=v.getId(h),g.x=g.y=0,g.depth=0,g.children||(g.children=[]),g.addGap(d,m),g}a.assign(f.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(v,g){var d=this;d.hgap+=v,d.vgap+=g,d.width+=2*v,d.height+=2*g},eachNode:function(v){for(var g=this,d=[g],m;m=d.shift();)v(m),d=m.children.concat(d)},DFTraverse:function(v){this.eachNode(v)},BFTraverse:function(v){for(var g=this,d=[g],m;m=d.shift();)v(m),d=d.concat(m.children)},getBoundingBox:function(){var v={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(g){v.left=Math.min(v.left,g.x),v.top=Math.min(v.top,g.y),v.width=Math.max(v.width,g.x+g.width),v.height=Math.max(v.height,g.y+g.height)}),v},translate:function(v,g){v===void 0&&(v=0),g===void 0&&(g=0),this.eachNode(function(d){d.x+=v,d.y+=g,d.x+=d.preH,d.y+=d.preV})},right2left:function(){var v=this,g=v.getBoundingBox();v.eachNode(function(d){d.x=d.x-(d.x-g.left)*2-d.width}),v.translate(g.width,0)},bottom2top:function(){var v=this,g=v.getBoundingBox();v.eachNode(function(d){d.y=d.y-(d.y-g.top)*2-d.height}),v.translate(0,g.height)}});function c(h,v,g){v===void 0&&(v={}),v=a.assign({},l,v);var d=new f(h,v),m=[d],x;if(!g&&!h.collapsed){for(;x=m.shift();)if(!x.data.collapsed){var E=v.getChildren(x.data),_=E?E.length:0;if(x.children=new Array(_),E&&_)for(var M=0;M<_;M++){var A=new f(E[M],v);x.children[M]=A,m.push(A),A.parent=x,A.depth=x.depth+1}}}return d}t.exports=c},function(t,n,i){var a=i(6),o=i(20);function s(u,l){var f=Object(o.a)(l),c=f.length;if(Object(a.a)(u))return!c;for(var h=0;h<c;h+=1){var v=f[h];if(l[v]!==u[v]||!(v in u))return!1}return!0}n.a=s},function(t,n,i){var a=i(2),o=i(3),s=Object.keys?function(u){return Object.keys(u)}:function(u){var l=[];return Object(a.a)(u,function(f,c){Object(o.a)(u)&&c==="prototype"||l.push(c)}),l};n.a=s},function(t,n,i){var a=i(1),o=Array.prototype.splice,s=function(l,f){if(!Object(a.a)(l))return[];for(var c=l?f.length:0,h=c-1;c--;){var v=void 0,g=f[c];(c===h||g!==v)&&(v=g,o.call(l,g,1))}return l};n.a=s},function(t,n,i){var a=i(12),o=i(2),s=function(u){var l=[];return Object(o.a)(u,function(f){Object(a.a)(l,f)||l.push(f)}),l};n.a=s},function(t,n,i){var a=i(0),o=i(3),s=i(24),u=function(l,f){if(!f)return{0:l};if(!Object(o.a)(f)){var c=Object(a.a)(f)?f:f.replace(/\s+/g,"").split("*");f=function(v){for(var g="_",d=0,m=c.length;d<m;d++)g+=v[c[d]]&&v[c[d]].toString();return g}}var h=Object(s.a)(l,f);return h};n.a=u},function(t,n,i){var a=i(2),o=i(0),s=i(3),u=Object.prototype.hasOwnProperty;function l(f,c){if(!c||!Object(o.a)(f))return{};var h={},v=Object(s.a)(c)?c:function(d){return d[c]},g;return Object(a.a)(f,function(d){g=v(d),u.call(h,g)?h[g].push(d):h[g]=[d]}),h}n.a=l},function(t,n,i){n.a=function(a,o){return a.hasOwnProperty(o)}},function(t,n,i){var a=i(2),o=i(3),s=Object.values?function(u){return Object.values(u)}:function(u){var l=[];return Object(a.a)(u,function(f,c){Object(o.a)(u)&&c==="prototype"||l.push(f)}),l};n.a=s},function(t,n,i){var a={}.toString,o=function(s){return a.call(s).replace(/^\[object /,"").replace(/]$/,"")};n.a=o},function(t,n,i){var a=Object.prototype,o=function(s){var u=s&&s.constructor,l=typeof u=="function"&&u.prototype||a;return s===l};n.a=o},function(t,n,i){var a=i(15),o=i(1),s=i(8),u=function(l,f){if(l===f)return!0;if(!l||!f||Object(s.a)(l)||Object(s.a)(f))return!1;if(Object(o.a)(l)||Object(o.a)(f)){if(l.length!==f.length)return!1;for(var c=!0,h=0;h<l.length&&(c=u(l[h],f[h]),!!c);h++);return c}if(Object(a.a)(l)||Object(a.a)(f)){var v=Object.keys(l),g=Object.keys(f);if(v.length!==g.length)return!1;for(var c=!0,h=0;h<v.length&&(c=u(l[v[h]],f[v[h]]),!!c);h++);return c}return!1};n.a=u},function(t,n,i){var a=i(18);t.exports=function(o,s){for(var u=a(o.data,s,!0),l=a(o.data,s,!0),f=o.children.length,c=Math.round(f/2),h=s.getSide||function(m,x){return x<c?"right":"left"},v=0;v<f;v++){var g=o.children[v],d=h(g,v);d==="right"?l.children.push(g):u.children.push(g)}return u.eachNode(function(m){m.isRoot()||(m.side="left")}),l.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:u,right:l}}},function(t,n,i){var a={compactBox:i(32),dendrogram:i(114),indented:i(116),mindmap:i(118)};t.exports=a},function(t,n,i){function a(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var o=i(11),s=i(113),u=i(17),l=i(7),f=function(v){a(g,v);function g(){return v.apply(this,arguments)||this}var d=g.prototype;return d.execute=function(){var x=this;return u(x.rootNode,x.options,s)},g}(o),c={};function h(v,g){return g=l.assign({},c,g),new f(v,g).execute()}t.exports=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);i.d(n,"contains",function(){return a.a}),i.d(n,"includes",function(){return a.a});var o=i(34);i.d(n,"difference",function(){return o.a});var s=i(35);i.d(n,"find",function(){return s.a});var u=i(36);i.d(n,"findIndex",function(){return u.a});var l=i(37);i.d(n,"firstValue",function(){return l.a});var f=i(38);i.d(n,"flatten",function(){return f.a});var c=i(39);i.d(n,"flattenDeep",function(){return c.a});var h=i(40);i.d(n,"getRange",function(){return h.a});var v=i(41);i.d(n,"pull",function(){return v.a});var g=i(21);i.d(n,"pullAt",function(){return g.a});var d=i(42);i.d(n,"reduce",function(){return d.a});var m=i(43);i.d(n,"remove",function(){return m.a});var x=i(44);i.d(n,"sortBy",function(){return x.a});var E=i(45);i.d(n,"union",function(){return E.a});var _=i(22);i.d(n,"uniq",function(){return _.a});var M=i(46);i.d(n,"valuesOfKey",function(){return M.a});var A=i(47);i.d(n,"head",function(){return A.a});var b=i(48);i.d(n,"last",function(){return b.a});var I=i(49);i.d(n,"startsWith",function(){return I.a});var L=i(50);i.d(n,"endsWith",function(){return L.a});var F=i(14);i.d(n,"filter",function(){return F.a});var $=i(51);i.d(n,"every",function(){return $.a});var Y=i(52);i.d(n,"some",function(){return Y.a});var k=i(53);i.d(n,"group",function(){return k.a});var z=i(24);i.d(n,"groupBy",function(){return z.a});var S=i(23);i.d(n,"groupToMap",function(){return S.a});var T=i(54);i.d(n,"getWrapBehavior",function(){return T.a});var O=i(55);i.d(n,"wrapBehavior",function(){return O.a});var D=i(56);i.d(n,"number2color",function(){return D.a});var H=i(57);i.d(n,"parseRadius",function(){return H.a});var it=i(58);i.d(n,"clamp",function(){return it.a});var pt=i(59);i.d(n,"fixedBase",function(){return pt.a});var yt=i(60);i.d(n,"isDecimal",function(){return yt.a});var mt=i(61);i.d(n,"isEven",function(){return mt.a});var Dt=i(62);i.d(n,"isInteger",function(){return Dt.a});var oe=i(63);i.d(n,"isNegative",function(){return oe.a});var Ot=i(64);i.d(n,"isNumberEqual",function(){return Ot.a});var Oe=i(65);i.d(n,"isOdd",function(){return Oe.a});var Er=i(66);i.d(n,"isPositive",function(){return Er.a});var Mr=i(67);i.d(n,"maxBy",function(){return Mr.a});var yr=i(68);i.d(n,"minBy",function(){return yr.a});var fa=i(69);i.d(n,"mod",function(){return fa.a});var mr=i(70);i.d(n,"toDegree",function(){return mr.a});var en=i(71);i.d(n,"toInteger",function(){return en.a});var ca=i(72);i.d(n,"toRadian",function(){return ca.a});var Ne=i(73);i.d(n,"forIn",function(){return Ne.a});var Pn=i(25);i.d(n,"has",function(){return Pn.a});var R=i(74);i.d(n,"hasKey",function(){return R.a});var G=i(75);i.d(n,"hasValue",function(){return G.a});var X=i(20);i.d(n,"keys",function(){return X.a});var K=i(19);i.d(n,"isMatch",function(){return K.a});var et=i(26);i.d(n,"values",function(){return et.a});var ft=i(76);i.d(n,"lowerCase",function(){return ft.a});var Mt=i(77);i.d(n,"lowerFirst",function(){return Mt.a});var xt=i(78);i.d(n,"substitute",function(){return xt.a});var Ct=i(79);i.d(n,"upperCase",function(){return Ct.a});var Yt=i(80);i.d(n,"upperFirst",function(){return Yt.a});var Ae=i(27);i.d(n,"getType",function(){return Ae.a});var se=i(81);i.d(n,"isArguments",function(){return se.a});var Ce=i(0);i.d(n,"isArray",function(){return Ce.a});var Lr=i(1);i.d(n,"isArrayLike",function(){return Lr.a});var Wo=i(82);i.d(n,"isBoolean",function(){return Wo.a});var yi=i(83);i.d(n,"isDate",function(){return yi.a});var mi=i(84);i.d(n,"isError",function(){return mi.a});var Wr=i(3);i.d(n,"isFunction",function(){return Wr.a});var xi=i(85);i.d(n,"isFinite",function(){return xi.a});var ll=i(6);i.d(n,"isNil",function(){return ll.a});var fl=i(86);i.d(n,"isNull",function(){return fl.a});var cl=i(5);i.d(n,"isNumber",function(){return cl.a});var ud=i(13);i.d(n,"isObject",function(){return ud.a});var ld=i(15);i.d(n,"isObjectLike",function(){return ld.a});var fd=i(9);i.d(n,"isPlainObject",function(){return fd.a});var Cc=i(28);i.d(n,"isPrototype",function(){return Cc.a});var Sc=i(87);i.d(n,"isRegExp",function(){return Sc.a});var cd=i(8);i.d(n,"isString",function(){return cd.a});var hd=i(4);i.d(n,"isType",function(){return hd.a});var vd=i(88);i.d(n,"isUndefined",function(){return vd.a});var pd=i(89);i.d(n,"isElement",function(){return pd.a});var Tc=i(90);i.d(n,"requestAnimationFrame",function(){return Tc.a});var gd=i(91);i.d(n,"clearAnimationFrame",function(){return gd.a});var dd=i(92);i.d(n,"augment",function(){return dd.a});var yd=i(93);i.d(n,"clone",function(){return yd.a});var hl=i(94);i.d(n,"debounce",function(){return hl.a});var md=i(95);i.d(n,"memoize",function(){return md.a});var vl=i(96);i.d(n,"deepMix",function(){return vl.a});var xd=i(2);i.d(n,"each",function(){return xd.a});var wd=i(97);i.d(n,"extend",function(){return wd.a});var _d=i(98);i.d(n,"indexOf",function(){return _d.a});var Ed=i(99);i.d(n,"isEmpty",function(){return Ed.a});var Md=i(29);i.d(n,"isEqual",function(){return Md.a});var Cd=i(100);i.d(n,"isEqualWith",function(){return Cd.a});var Sd=i(101);i.d(n,"map",function(){return Sd.a});var Td=i(102);i.d(n,"mapValues",function(){return Td.a});var pl=i(16);i.d(n,"mix",function(){return pl.a}),i.d(n,"assign",function(){return pl.a});var Ad=i(103);i.d(n,"get",function(){return Ad.a});var Pd=i(104);i.d(n,"set",function(){return Pd.a});var bd=i(105);i.d(n,"pick",function(){return bd.a});var Ld=i(106);i.d(n,"throttle",function(){return Ld.a});var Od=i(107);i.d(n,"toArray",function(){return Od.a});var Id=i(10);i.d(n,"toString",function(){return Id.a});var $s=i(108);i.d(n,"uniqueId",function(){return $s.a});var Dd=i(109);i.d(n,"noop",function(){return Dd.a});var Ns=i(110);i.d(n,"identity",function(){return Ns.a});var Bd=i(111);i.d(n,"size",function(){return Bd.a});var Rd=i(112);i.d(n,"Cache",function(){return Rd.a})},function(t,n,i){var a=i(14),o=i(12),s=function(u,l){return l===void 0&&(l=[]),Object(a.a)(u,function(f){return!Object(o.a)(l,f)})};n.a=s},function(t,n,i){var a=i(3),o=i(19),s=i(0),u=i(9);function l(f,c){if(!Object(s.a)(f))return null;var h;if(Object(a.a)(c)&&(h=c),Object(u.a)(c)&&(h=function(g){return Object(o.a)(g,c)}),h){for(var v=0;v<f.length;v+=1)if(h(f[v]))return f[v]}return null}n.a=l},function(t,n,i){function a(o,s,u){u===void 0&&(u=0);for(var l=u;l<o.length;l++)if(s(o[l],l))return l;return-1}n.a=a},function(t,n,i){var a=i(6),o=i(0),s=function(u,l){for(var f=null,c=0;c<u.length;c++){var h=u[c],v=h[l];if(!Object(a.a)(v)){Object(o.a)(v)?f=v[0]:f=v;break}}return f};n.a=s},function(t,n,i){var a=i(0),o=function(s){if(!Object(a.a)(s))return[];for(var u=[],l=0;l<s.length;l++)u=u.concat(s[l]);return u};n.a=o},function(t,n,i){var a=i(0),o=function(s,u){if(u===void 0&&(u=[]),!Object(a.a)(s))u.push(s);else for(var l=0;l<s.length;l+=1)o(s[l],u);return u};n.a=o},function(t,n,i){var a=i(0),o=i(14),s=function(u){if(u=Object(o.a)(u,function(v){return!isNaN(v)}),!u.length)return{min:0,max:0};if(Object(a.a)(u[0])){for(var l=[],f=0;f<u.length;f++)l=l.concat(u[f]);u=l}var c=Math.max.apply(null,u),h=Math.min.apply(null,u);return{min:h,max:c}};n.a=s},function(t,n,i){var a=Array.prototype,o=a.splice,s=a.indexOf,u=function(l){for(var f=[],c=1;c<arguments.length;c++)f[c-1]=arguments[c];for(var h=0;h<f.length;h++)for(var v=f[h],g=-1;(g=s.call(l,v))>-1;)o.call(l,g,1);return l};n.a=u},function(t,n,i){var a=i(2),o=i(0),s=i(9),u=function(l,f,c){if(!Object(o.a)(l)&&!Object(s.a)(l))return l;var h=c;return Object(a.a)(l,function(v,g){h=f(h,v,g)}),h};n.a=u},function(t,n,i){var a=i(1),o=i(21),s=function(u,l){var f=[];if(!Object(a.a)(u))return f;for(var c=-1,h=[],v=u.length;++c<v;){var g=u[c];l(g,c,u)&&(f.push(g),h.push(c))}return Object(o.a)(u,h),f};n.a=s},function(t,n,i){var a=i(0),o=i(8),s=i(3);function u(l,f){var c;if(Object(s.a)(f))c=function(v,g){return f(v)-f(g)};else{var h=[];Object(o.a)(f)?h.push(f):Object(a.a)(f)&&(h=f),c=function(v,g){for(var d=0;d<h.length;d+=1){var m=h[d];if(v[m]>g[m])return 1;if(v[m]<g[m])return-1}return 0}}return l.sort(c),l}n.a=u},function(t,n,i){var a=i(22),o=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return Object(a.a)([].concat.apply([],s))};n.a=o},function(t,n,i){var a=i(2),o=i(0),s=i(6);n.a=function(u,l){var f=[],c={};return u.forEach(function(h){var v=h[l];Object(s.a)(v)||(Object(o.a)(v)||(v=[v]),Object(a.a)(v,function(g){c[g]||(f.push(g),c[g]=!0)}))}),f}},function(t,n,i){n.a=o;var a=i(1);function o(s){if(Object(a.a)(s))return s[0]}},function(t,n,i){n.a=o;var a=i(1);function o(s){if(Object(a.a)(s)){var u=s;return u[u.length-1]}}},function(t,n,i){var a=i(0),o=i(8);function s(u,l){return Object(a.a)(u)||Object(o.a)(u)?u[0]===l:!1}n.a=s},function(t,n,i){var a=i(0),o=i(8);function s(u,l){return Object(a.a)(u)||Object(o.a)(u)?u[u.length-1]===l:!1}n.a=s},function(t,n,i){var a=function(o,s){for(var u=0;u<o.length;u++)if(!s(o[u],u))return!1;return!0};n.a=a},function(t,n,i){var a=function(o,s){for(var u=0;u<o.length;u++)if(s(o[u],u))return!0;return!1};n.a=a},function(t,n,i){var a=i(23);n.a=function(o,s){if(!s)return[o];var u=Object(a.a)(o,s),l=[];for(var f in u)l.push(u[f]);return l}},function(t,n,i){function a(o,s){return o["_wrap_"+s]}n.a=a},function(t,n,i){function a(o,s){if(o["_wrap_"+s])return o["_wrap_"+s];var u=function(l){o[s](l)};return o["_wrap_"+s]=u,u}n.a=a},function(t,n,i){var a={};function o(s){var u=a[s];if(!u){for(var l=s.toString(16),f=l.length;f<6;f++)l="0"+l;u="#"+l,a[s]=u}return u}n.a=o},function(t,n,i){var a=i(0);function o(s){var u=0,l=0,f=0,c=0;return Object(a.a)(s)?s.length===1?u=l=f=c=s[0]:s.length===2?(u=f=s[0],l=c=s[1]):s.length===3?(u=s[0],l=c=s[1],f=s[2]):(u=s[0],l=s[1],f=s[2],c=s[3]):u=l=f=c=s,{r1:u,r2:l,r3:f,r4:c}}n.a=o},function(t,n,i){var a=function(o,s,u){return o<s?s:o>u?u:o};n.a=a},function(t,n,i){var a=function(o,s){var u=s.toString(),l=u.indexOf(".");if(l===-1)return Math.round(o);var f=u.substr(l+1).length;return f>20&&(f=20),parseFloat(o.toFixed(f))};n.a=a},function(t,n,i){var a=i(5),o=function(s){return Object(a.a)(s)&&s%1!==0};n.a=o},function(t,n,i){var a=i(5),o=function(s){return Object(a.a)(s)&&s%2===0};n.a=o},function(t,n,i){var a=i(5),o=Number.isInteger?Number.isInteger:function(s){return Object(a.a)(s)&&s%1===0};n.a=o},function(t,n,i){var a=i(5),o=function(s){return Object(a.a)(s)&&s<0};n.a=o},function(t,n,i){n.a=o;var a=1e-5;function o(s,u,l){return l===void 0&&(l=a),Math.abs(s-u)<l}},function(t,n,i){var a=i(5),o=function(s){return Object(a.a)(s)&&s%2!==0};n.a=o},function(t,n,i){var a=i(5),o=function(s){return Object(a.a)(s)&&s>0};n.a=o},function(t,n,i){var a=i(2),o=i(0),s=i(3);n.a=function(u,l){if(!!Object(o.a)(u)){var f=u[0],c;Object(s.a)(l)?c=l(u[0]):c=u[0][l];var h;return Object(a.a)(u,function(v){Object(s.a)(l)?h=l(v):h=v[l],h>c&&(f=v,c=h)}),f}}},function(t,n,i){var a=i(2),o=i(0),s=i(3);n.a=function(u,l){if(!!Object(o.a)(u)){var f=u[0],c;Object(s.a)(l)?c=l(u[0]):c=u[0][l];var h;return Object(a.a)(u,function(v){Object(s.a)(l)?h=l(v):h=v[l],h<c&&(f=v,c=h)}),f}}},function(t,n,i){var a=function(o,s){return(o%s+s)%s};n.a=a},function(t,n,i){var a=180/Math.PI,o=function(s){return a*s};n.a=o},function(t,n,i){n.a=parseInt},function(t,n,i){var a=Math.PI/180,o=function(s){return a*s};n.a=o},function(t,n,i){var a=i(2);n.a=a.a},function(t,n,i){var a=i(25);n.a=a.a},function(t,n,i){var a=i(12),o=i(26);n.a=function(s,u){return Object(a.a)(Object(o.a)(s),u)}},function(t,n,i){var a=i(10),o=function(s){return Object(a.a)(s).toLowerCase()};n.a=o},function(t,n,i){var a=i(10),o=function(s){var u=Object(a.a)(s);return u.charAt(0).toLowerCase()+u.substring(1)};n.a=o},function(t,n,i){function a(o,s){return!o||!s?o:o.replace(/\\?\{([^{}]+)\}/g,function(u,l){return u.charAt(0)==="\\"?u.slice(1):s[l]===void 0?"":s[l]})}n.a=a},function(t,n,i){var a=i(10),o=function(s){return Object(a.a)(s).toUpperCase()};n.a=o},function(t,n,i){var a=i(10),o=function(s){var u=Object(a.a)(s);return u.charAt(0).toUpperCase()+u.substring(1)};n.a=o},function(t,n,i){var a=i(4),o=function(s){return Object(a.a)(s,"Arguments")};n.a=o},function(t,n,i){var a=i(4),o=function(s){return Object(a.a)(s,"Boolean")};n.a=o},function(t,n,i){var a=i(4),o=function(s){return Object(a.a)(s,"Date")};n.a=o},function(t,n,i){var a=i(4),o=function(s){return Object(a.a)(s,"Error")};n.a=o},function(t,n,i){var a=i(5);n.a=function(o){return Object(a.a)(o)&&isFinite(o)}},function(t,n,i){var a=function(o){return o===null};n.a=a},function(t,n,i){var a=i(4),o=function(s){return Object(a.a)(s,"RegExp")};n.a=o},function(t,n,i){var a=function(o){return o===void 0};n.a=a},function(t,n,i){var a=function(o){return o instanceof Element||o instanceof HTMLDocument};n.a=a},function(t,n,i){n.a=a;function a(o){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,16)};return s(o)}},function(t,n,i){n.a=a;function a(o){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(o)}},function(t,n,i){var a=i(16),o=i(3),s=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];for(var f=u[0],c=1;c<u.length;c++){var h=u[c];Object(o.a)(h)&&(h=h.prototype),Object(a.a)(f.prototype,h)}};n.a=s},function(t,n,i){var a=i(0),o=function(s){if(typeof s!="object"||s===null)return s;var u;if(Object(a.a)(s)){u=[];for(var l=0,f=s.length;l<f;l++)typeof s[l]=="object"&&s[l]!=null?u[l]=o(s[l]):u[l]=s[l]}else{u={};for(var c in s)typeof s[c]=="object"&&s[c]!=null?u[c]=o(s[c]):u[c]=s[c]}return u};n.a=o},function(t,n,i){function a(o,s,u){var l;return function(){var f=this,c=arguments,h=function(){l=null,u||o.apply(f,c)},v=u&&!l;clearTimeout(l),l=setTimeout(h,s),v&&o.apply(f,c)}}n.a=a},function(t,n,i){var a=i(3);n.a=function(o,s){if(!Object(a.a)(o))throw new TypeError("Expected a function");var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=s?s.apply(this,l):l[0],h=u.cache;if(h.has(c))return h.get(c);var v=o.apply(this,l);return h.set(c,v),v};return u.cache=new Map,u}},function(t,n,i){var a=i(0),o=i(9),s=5;function u(f,c,h,v){h=h||0,v=v||s;for(var g in c)if(c.hasOwnProperty(g)){var d=c[g];d!==null&&Object(o.a)(d)?(Object(o.a)(f[g])||(f[g]={}),h<v?u(f[g],d,h+1,v):f[g]=c[g]):Object(a.a)(d)?(f[g]=[],f[g]=f[g].concat(d)):d!==void 0&&(f[g]=d)}}var l=function(f){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];for(var v=0;v<c.length;v+=1)u(f,c[v]);return f};n.a=l},function(t,n,i){var a=i(16),o=i(3),s=function(u,l,f,c){Object(o.a)(l)||(f=l,l=u,u=function(){});var h=Object.create?function(g,d){return Object.create(g,{constructor:{value:d}})}:function(g,d){function m(){}m.prototype=g;var x=new m;return x.constructor=d,x},v=h(l.prototype,u);return u.prototype=Object(a.a)(v,u.prototype),u.superclass=h(l.prototype,l),Object(a.a)(v,f),Object(a.a)(u,c),u};n.a=s},function(t,n,i){var a=i(1),o=function(s,u){if(!Object(a.a)(s))return-1;var l=Array.prototype.indexOf;if(l)return l.call(s,u);for(var f=-1,c=0;c<s.length;c++)if(s[c]===u){f=c;break}return f};n.a=o},function(t,n,i){var a=i(6),o=i(1),s=i(27),u=i(28),l=Object.prototype.hasOwnProperty;function f(c){if(Object(a.a)(c))return!0;if(Object(o.a)(c))return!c.length;var h=Object(s.a)(c);if(h==="Map"||h==="Set")return!c.size;if(Object(u.a)(c))return!Object.keys(c).length;for(var v in c)if(l.call(c,v))return!1;return!0}n.a=f},function(t,n,i){var a=i(3),o=i(29);n.a=function(s,u,l){return Object(a.a)(l)?!!l(s,u):Object(o.a)(s,u)}},function(t,n,i){var a=i(2),o=i(1),s=function(u,l){if(!Object(o.a)(u))return u;var f=[];return Object(a.a)(u,function(c,h){f.push(l(c,h))}),f};n.a=s},function(t,n,i){var a=i(6),o=i(13),s=function(u){return u};n.a=function(u,l){l===void 0&&(l=s);var f={};return Object(o.a)(u)&&!Object(a.a)(u)&&Object.keys(u).forEach(function(c){f[c]=l(u[c],c)}),f}},function(t,n,i){var a=i(8);n.a=function(o,s,u){for(var l=0,f=Object(a.a)(s)?s.split("."):s;o&&l<f.length;)o=o[f[l++]];return o===void 0||l<f.length?u:o}},function(t,n,i){var a=i(13),o=i(8),s=i(5);n.a=function(u,l,f){var c=u,h=Object(o.a)(l)?l.split("."):l;return h.forEach(function(v,g){g<h.length-1?(Object(a.a)(c[v])||(c[v]=Object(s.a)(h[g+1])?[]:{}),c=c[v]):c[v]=f}),u}},function(t,n,i){var a=i(2),o=i(9),s=Object.prototype.hasOwnProperty;n.a=function(u,l){if(u===null||!Object(o.a)(u))return{};var f={};return Object(a.a)(l,function(c){s.call(u,c)&&(f[c]=u[c])}),f}},function(t,n,i){n.a=function(a,o,s){var u,l,f,c,h=0;s||(s={});var v=function(){h=s.leading===!1?0:Date.now(),u=null,c=a.apply(l,f),u||(l=f=null)},g=function(){var d=Date.now();!h&&s.leading===!1&&(h=d);var m=o-(d-h);return l=this,f=arguments,m<=0||m>o?(u&&(clearTimeout(u),u=null),h=d,c=a.apply(l,f),u||(l=f=null)):!u&&s.trailing!==!1&&(u=setTimeout(v,m)),c};return g.cancel=function(){clearTimeout(u),h=0,u=l=f=null},g}},function(t,n,i){var a=i(1);n.a=function(o){return Object(a.a)(o)?Array.prototype.slice.call(o):[]}},function(t,n,i){var a={};n.a=function(o){return o=o||"g",a[o]?a[o]+=1:a[o]=1,o+a[o]}},function(t,n,i){n.a=function(){}},function(t,n,i){n.a=function(a){return a}},function(t,n,i){n.a=s;var a=i(6),o=i(1);function s(u){return Object(a.a)(u)?0:Object(o.a)(u)?u.length:Object.keys(u).length}},function(t,n,i){var a=function(){function o(){this.map={}}return o.prototype.has=function(s){return this.map[s]!==void 0},o.prototype.get=function(s,u){var l=this.map[s];return l===void 0?u:l},o.prototype.set=function(s,u){this.map[s]=u},o.prototype.clear=function(){this.map={}},o.prototype.delete=function(s){delete this.map[s]},o.prototype.size=function(){return Object.keys(this.map).length},o}();n.a=a},function(t,n){function i(f,c,h,v){v===void 0&&(v=[]);var g=this;g.w=f||0,g.h=c||0,g.y=h||0,g.x=0,g.c=v||[],g.cs=v.length,g.prelim=0,g.mod=0,g.shift=0,g.change=0,g.tl=null,g.tr=null,g.el=null,g.er=null,g.msel=0,g.mser=0}i.fromNode=function(f,c){if(!f)return null;var h=[];return f.children.forEach(function(v){h.push(i.fromNode(v,c))}),c?new i(f.height,f.width,f.x,h):new i(f.width,f.height,f.y,h)};function a(f,c,h){h?f.y+=c:f.x+=c,f.children.forEach(function(v){a(v,c,h)})}function o(f,c){var h=c?f.y:f.x;return f.children.forEach(function(v){h=Math.min(o(v,c),h)}),h}function s(f,c){var h=o(f,c);a(f,-h,c)}function u(f,c,h){h?c.y=f.x:c.x=f.x,f.c.forEach(function(v,g){u(v,c.children[g],h)})}function l(f,c,h){h===void 0&&(h=0),c?(f.x=h,h+=f.width):(f.y=h,h+=f.height),f.children.forEach(function(v){l(v,c,h)})}t.exports=function(f,c){c===void 0&&(c={});var h=c.isHorizontal;function v(k){if(k.cs===0){g(k);return}v(k.c[0]);for(var z=$(_(k.c[0].el),0,null),S=1;S<k.cs;++S){v(k.c[S]);var T=_(k.c[S].er);d(k,S,z),z=$(T,S,z)}b(k),g(k)}function g(k){k.cs===0?(k.el=k,k.er=k,k.msel=k.mser=0):(k.el=k.c[0].el,k.msel=k.c[0].msel,k.er=k.c[k.cs-1].er,k.mser=k.c[k.cs-1].mser)}function d(k,z,S){for(var T=k.c[z-1],O=T.mod,D=k.c[z],H=D.mod;T!==null&&D!==null;){_(T)>S.low&&(S=S.nxt);var it=O+T.prelim+T.w-(H+D.prelim);it>0&&(H+=it,m(k,z,S.index,it));var pt=_(T),yt=_(D);pt<=yt&&(T=E(T),T!==null&&(O+=T.mod)),pt>=yt&&(D=x(D),D!==null&&(H+=D.mod))}!T&&!!D?M(k,z,D,H):!!T&&!D&&A(k,z,T,O)}function m(k,z,S,T){k.c[z].mod+=T,k.c[z].msel+=T,k.c[z].mser+=T,L(k,z,S,T)}function x(k){return k.cs===0?k.tl:k.c[0]}function E(k){return k.cs===0?k.tr:k.c[k.cs-1]}function _(k){return k.y+k.h}function M(k,z,S,T){var O=k.c[0].el;O.tl=S;var D=T-S.mod-k.c[0].msel;O.mod+=D,O.prelim-=D,k.c[0].el=k.c[z].el,k.c[0].msel=k.c[z].msel}function A(k,z,S,T){var O=k.c[z].er;O.tr=S;var D=T-S.mod-k.c[z].mser;O.mod+=D,O.prelim-=D,k.c[z].er=k.c[z-1].er,k.c[z].mser=k.c[z-1].mser}function b(k){k.prelim=(k.c[0].prelim+k.c[0].mod+k.c[k.cs-1].mod+k.c[k.cs-1].prelim+k.c[k.cs-1].w)/2-k.w/2}function I(k,z){z+=k.mod,k.x=k.prelim+z,F(k);for(var S=0;S<k.cs;S++)I(k.c[S],z)}function L(k,z,S,T){if(S!==z-1){var O=z-S;k.c[S+1].shift+=T/O,k.c[z].shift-=T/O,k.c[z].change-=T-T/O}}function F(k){for(var z=0,S=0,T=0;T<k.cs;T++)z+=k.c[T].shift,S+=z+k.c[T].change,k.c[T].mod+=S}function $(k,z,S){for(;S!==null&&k>=S.low;)S=S.nxt;return{low:k,index:z,nxt:S}}l(f,h);var Y=i.fromNode(f,h);return v(Y),I(Y,0),u(Y,f,h),s(f,h),f}},function(t,n,i){function a(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var o=i(11),s=i(115),u=i(17),l=i(7),f=function(v){a(g,v);function g(){return v.apply(this,arguments)||this}var d=g.prototype;return d.execute=function(){var x=this;return x.rootNode.width=0,u(x.rootNode,x.options,s)},g}(o),c={};function h(v,g){return g=l.assign({},c,g),new f(v,g).execute()}t.exports=h},function(t,n,i){var a=i(7);function o(l,f){f===void 0&&(f=[]);var c=this;c.x=c.y=0,c.leftChild=c.rightChild=null,c.height=0,c.children=f}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function u(l,f,c){c?(f.x=l.x,f.y=l.y):(f.x=l.y,f.y=l.x),l.children.forEach(function(h,v){u(h,f.children[v],c)})}t.exports=function(l,f){f===void 0&&(f={}),f=a.assign({},s,f);var c=0;function h(x){if(!x)return null;x.width=0,x.depth&&x.depth>c&&(c=x.depth);var E=x.children,_=E.length,M=new o(x.height,[]);return E.forEach(function(A,b){var I=h(A);M.children.push(I),b===0&&(M.leftChild=I),b===_-1&&(M.rightChild=I)}),M.originNode=x,M.isLeaf=x.isLeaf(),M}function v(x){if(x.isLeaf||x.children.length===0)x.drawingDepth=c;else{var E=x.children.map(function(M){return v(M)}),_=Math.min.apply(null,E);x.drawingDepth=_-1}return x.drawingDepth}var g;function d(x){x.x=x.drawingDepth*f.rankSep,x.isLeaf?(x.y=0,g&&(x.y=g.y+g.height+f.nodeSep,x.originNode.parent!==g.originNode.parent&&(x.y+=f.subTreeSep)),g=x):(x.children.forEach(function(E){d(E)}),x.y=(x.leftChild.y+x.rightChild.y)/2)}var m=h(l);return v(m),d(m),u(m,l,f.isHorizontal),l}},function(t,n,i){function a(d,m){d.prototype=Object.create(m.prototype),d.prototype.constructor=d,d.__proto__=m}var o=i(11),s=i(117),u=i(30),l=i(7),f=["LR","RL","H"],c=f[0],h=function(d){a(m,d);function m(){return d.apply(this,arguments)||this}var x=m.prototype;return x.execute=function(){var _=this,M=_.options,A=_.rootNode;M.isHorizontal=!0;var b=M.indent,I=b===void 0?20:b,L=M.dropCap,F=L===void 0?!0:L,$=M.direction||c;if($&&f.indexOf($)===-1)throw new TypeError("Invalid direction: "+$);if($===f[0])s(A,I,F);else if($===f[1])s(A,I,F),A.right2left();else if($===f[2]){var Y=u(A,M),k=Y.left,z=Y.right;s(k,I,F),k.right2left(),s(z,I,F);var S=k.getBoundingBox();z.translate(S.width,0),A.x=z.x-A.width/2}return A},m}(o),v={};function g(d,m){return m=l.assign({},v,m),new h(d,m).execute()}t.exports=g},function(t,n){function i(a,o,s,u){var l=typeof s=="function"?s(a):s*a.depth;if(!u)try{if(a.id===a.parent.children[0].id){a.x+=l,a.y=o?o.y:0;return}}catch{}a.x+=l,a.y=o?o.y+o.height:0}t.exports=function(a,o,s){var u=null;a.eachNode(function(l){i(l,u,o,s),u=l})}},function(t,n,i){function a(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var o=i(11),s=i(119),u=i(17),l=i(7),f=function(v){a(g,v);function g(){return v.apply(this,arguments)||this}var d=g.prototype;return d.execute=function(){var x=this;return u(x.rootNode,x.options,s)},g}(o),c={};function h(v,g){return g=l.assign({},c,g),new f(v,g).execute()}t.exports=h},function(t,n,i){var a=i(7);function o(l,f){var c=0;return l.children.length?l.children.forEach(function(h){c+=o(h,f)}):c=l.height,l._subTreeSep=f.getSubTreeSep(l.data),l.totalHeight=Math.max(l.height,c)+2*l._subTreeSep,l.totalHeight}function s(l){var f=l.children,c=f.length;if(c){f.forEach(function(x){s(x)});var h=f[0],v=f[c-1],g=v.y-h.y+v.height,d=0;if(f.forEach(function(x){d+=x.totalHeight}),g>l.height)l.y=h.y+g/2-l.height/2;else if(f.length!==1||l.height>d){var m=l.y+(l.height-g)/2-h.y;f.forEach(function(x){x.translate(0,m)})}else l.y=(h.y+h.height/2+v.y+v.height/2)/2-l.height/2}}var u={getSubTreeSep:function(){return 0}};t.exports=function(l,f){f===void 0&&(f={}),f=a.assign({},u,f),l.parent={x:0,width:0,height:0,y:0},l.BFTraverse(function(c){c.x=c.parent.x+c.parent.width}),l.parent=null,o(l,f),l.startY=0,l.y=l.totalHeight/2-l.height/2,l.eachNode(function(c){var h=c.children,v=h.length;if(v){var g=h[0];if(g.startY=c.startY+c._subTreeSep,v===1)g.y=c.y+c.height/2-g.height/2;else{g.y=g.startY+g.totalHeight/2-g.height/2;for(var d=1;d<v;d++){var m=h[d];m.startY=h[d-1].startY+h[d-1].totalHeight,m.y=m.startY+m.totalHeight/2-m.height/2}}}}),s(l)}}])})})(Lg);var Ej=C.exports,Mj=Ej.__importDefault(Lg.exports),dc=Ft,Cj={};function Og(e,r){var t=e.root;if(r=Object.assign({},Cj,r),e.dataType!==dc.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=Mj.default.compactBox(t,r)}dc.DataSet.registerTransform("hierarchy.compact-box",Og);dc.DataSet.registerTransform("compact-box-tree",Og);dc.DataSet.registerTransform("non-layered-tidy-tree",Og);dc.DataSet.registerTransform("mindmap-logical",Og);var Sj=C.exports,Tj=Sj.__importDefault(Lg.exports),Zw=Ft,Aj={};function DO(e,r){var t=e.root;if(r=Object.assign({},Aj,r),e.dataType!==Zw.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=Tj.default.dendrogram(t,r)}Zw.DataSet.registerTransform("hierarchy.dendrogram",DO);Zw.DataSet.registerTransform("dendrogram",DO);var Pj=C.exports,bj=Pj.__importDefault(Lg.exports),Qw=Ft,Lj={};function BO(e,r){var t=e.root;if(r=Object.assign({},Lj,r),e.dataType!==Qw.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=bj.default.indented(t,r)}Qw.DataSet.registerTransform("hierarchy.indented",BO);Qw.DataSet.registerTransform("indented-tree",BO);var Oj=C.exports,KS=Ht,Ij=Oj.__importStar(rl),Ig=Ft,Dj=_e,Bj={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function Jw(e,r){if(e.dataType!==Ig.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var t=e.root;r=KS.assign({},Bj,r);var n=r.as;if(!KS.isArray(n)||n.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=Dj.getField(r)}catch(l){console.warn(l)}i&&t.sum(function(l){return l[i]}).sort(function(l,f){return f[i]-l[i]});var a=Ij.pack();a.size(r.size),r.padding&&a.padding(r.padding),a(t);var o=n[0],s=n[1],u=n[2];t.each(function(l){l[o]=l.x,l[s]=l.y,l[u]=l.r})}Ig.DataSet.registerTransform("hierarchy.pack",Jw);Ig.DataSet.registerTransform("hierarchy.circle-packing",Jw);Ig.DataSet.registerTransform("circle-packing",Jw);var Rj=C.exports,Fj=Rj.__importStar(rl),qS=Ht,t2=Ft,kj=_e,$j={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function RO(e,r){if(e.dataType!==t2.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var t=e.root;r=qS.assign({},$j,r);var n=r.as;if(!qS.isArray(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=kj.getField(r)}catch(u){console.warn(u)}i&&t.sum(function(u){return u[i]});var a=Fj.partition();a.size(r.size).round(r.round).padding(r.padding),a(t);var o=n[0],s=n[1];t.each(function(u){u[o]=[u.x0,u.x1,u.x1,u.x0],u[s]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(l){n.indexOf(l)===-1&&delete u[l]})})}t2.DataSet.registerTransform("hierarchy.partition",RO);t2.DataSet.registerTransform("adjacency",RO);var Nj=C.exports,zj=Nj.__importStar(rl),jS=Ht,e2=Ft,Gj=_e,Wj={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function FO(e,r){if(e.dataType!==e2.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var t=e.root;r=jS.assign({},Wj,r);var n=r.as;if(!jS.isArray(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Gj.getField(r)}catch(u){console.warn(u)}i&&t.sum(function(u){return u[i]});var a=zj.tree();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(t);var o=n[0],s=n[1];t.each(function(u){u[o]=u.x,u[s]=u.y})}e2.DataSet.registerTransform("hierarchy.tree",FO);e2.DataSet.registerTransform("tree",FO);var Yj=C.exports,ZS=Yj.__importStar(rl),QS=Ht,r2=Ft,Hj=_e,Xj={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function kO(e,r){if(e.dataType!==r2.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var t=e.root;r=QS.assign({},Xj,r);var n=r.as;if(!QS.isArray(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Hj.getField(r)}catch(u){console.warn(u)}i&&t.sum(function(u){return u[i]});var a=ZS.treemap();a.tile(ZS[r.tile]).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft),a(t);var o=n[0],s=n[1];t.each(function(u){u[o]=[u.x0,u.x1,u.x1,u.x0],u[s]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(l){n.indexOf(l)===-1&&delete u[l]})})}r2.DataSet.registerTransform("hierarchy.treemap",kO);r2.DataSet.registerTransform("treemap",kO);var n2={};Object.defineProperty(n2,"__esModule",{value:!0});var JS=C.exports,zy=Math.PI/180,uf=1<<11>>5,bv=1<<11;function Vj(e){return e.text}function Uj(){return"serif"}function tT(){return"normal"}function Kj(e){return e.value}function qj(){return~~(Math.random()*2)*90}function jj(){return 1}function Zj(e,r,t,n){if(!r.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(uf<<5)/a,bv/a);var o=0,s=0,u=0,l=t.length;for(--n;++n<l;){r=t[n],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var f=i.measureText(r.text+"m").width*a,c=r.size<<1;if(r.rotate){var h=Math.sin(r.rotate*zy),v=Math.cos(r.rotate*zy),g=f*v,d=f*h,m=c*v,x=c*h;f=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,c=~~Math.max(Math.abs(d+m),Math.abs(d-m))}else f=f+31>>5<<5;if(c>u&&(u=c),o+f>=uf<<5&&(o=0,s+=u,u=0),s+c>=bv)break;i.translate((o+(f>>1))/a,(s+(c>>1))/a),r.rotate&&i.rotate(r.rotate*zy),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=f,r.height=c,r.xoff=o,r.yoff=s,r.x1=f>>1,r.y1=c>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=f}for(var E=i.getImageData(0,0,(uf<<5)/a,bv/a).data,_=[];--n>=0;)if(r=t[n],!!r.hasText){for(var f=r.width,M=f>>5,c=r.y1-r.y0,A=0;A<c*M;A++)_[A]=0;if(o=r.xoff,o==null)return;s=r.yoff;for(var b=0,I=-1,L=0;L<c;L++){for(var A=0;A<f;A++){var F=M*L+(A>>5),$=E[(s+L)*(uf<<5)+(o+A)<<2]?1<<31-A%32:0;_[F]|=$,b|=$}b?I=L:(r.y0++,c--,L--,s++)}r.y1=r.y0+I,r.sprite=_.slice(0,(r.y1-r.y0)*M)}}}function Qj(e,r,t){t>>=5;for(var n=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,u=e.y1-e.y0,l=(e.y+e.y0)*t+(a>>5),f,c=0;c<u;c++){f=0;for(var h=0;h<=i;h++)if((f<<s|(h<i?(f=n[c*i+h])>>>o:0))&r[l+h])return!0;l+=t}return!1}function Jj(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function tZ(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function $O(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function eZ(e){var r=4,t=r*e[0]/e[1],n=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:n+=t;break;case 1:i+=r;break;case 2:n-=t;break;default:i-=r;break}return[n,i]}}function eT(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function rZ(){return document.createElement("canvas")}function ro(e){return typeof e=="function"?e:function(){return e}}var nZ={archimedean:$O,rectangular:eZ};function iZ(){var e=[256,256],r=Vj,t=Uj,n=Kj,i=tT,a=tT,o=qj,s=jj,u=$O,l=[],f=1/0,c=Math.random,h=rZ,v={};v.canvas=function(m){return arguments.length?(h=ro(m),v):h},v.start=function(){var m=JS.__read(e,2),x=m[0],E=m[1],_=g(h()),M=v.board?v.board:eT((e[0]>>5)*e[1]),A=l.length,b=[],I=l.map(function(Y,k){return Y.text=r.call(this,Y,k),Y.font=t.call(this,Y,k),Y.style=i.call(this,Y,k),Y.weight=a.call(this,Y,k),Y.rotate=o.call(this,Y,k),Y.size=~~n.call(this,Y,k),Y.padding=s.call(this,Y,k),Y}).sort(function(Y,k){return k.size-Y.size}),L=-1,F=v.board?[{x:0,y:0},{x,y:E}]:null;$();function $(){for(var Y=Date.now();Date.now()-Y<f&&++L<A;){var k=I[L];k.x=x*(c()+.5)>>1,k.y=E*(c()+.5)>>1,Zj(_,k,I,L),k.hasText&&d(M,k,F)&&(b.push(k),F?v.hasImage||Jj(F,k):F=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=e[0]>>1,k.y-=e[1]>>1)}v._tags=b,v._bounds=F}return v};function g(m){m.width=m.height=1;var x=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(uf<<5)/x,m.height=bv/x;var E=m.getContext("2d");return E.fillStyle=E.strokeStyle="red",E.textAlign="center",{context:E,ratio:x}}function d(m,x,E){for(var _=x.x,M=x.y,A=Math.sqrt(e[0]*e[0]+e[1]*e[1]),b=u(e),I=c()<.5?1:-1,L,F=-I,$,Y;(L=b(F+=I))&&($=~~L[0],Y=~~L[1],!(Math.min(Math.abs($),Math.abs(Y))>=A));)if(x.x=_+$,x.y=M+Y,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>e[0]||x.y+x.y1>e[1])&&(!E||!Qj(x,m,e[0]))&&(!E||tZ(x,E))){for(var k=x.sprite,z=x.width>>5,S=e[0]>>5,T=x.x-(z<<4),O=T&127,D=32-O,H=x.y1-x.y0,it=void 0,pt=(x.y+x.y0)*S+(T>>5),yt=0;yt<H;yt++){it=0;for(var mt=0;mt<=z;mt++)m[pt+mt]|=it<<D|(mt<z?(it=k[yt*z+mt])>>>O:0);pt+=S}return delete x.sprite,!0}return!1}return v.createMask=function(m){var x=document.createElement("canvas"),E=JS.__read(e,2),_=E[0],M=E[1];if(!(!_||!M)){var A=_>>5,b=eT((_>>5)*M);x.width=_,x.height=M;var I=x.getContext("2d");I.drawImage(m,0,0,m.width,m.height,0,0,_,M);for(var L=I.getImageData(0,0,_,M).data,F=0;F<M;F++)for(var $=0;$<_;$++){var Y=A*F+($>>5),k=F*_+$<<2,z=L[k]>=250&&L[k+1]>=250&&L[k+2]>=250,S=z?1<<31-$%32:0;b[Y]|=S}v.board=b,v.hasImage=!0}},v.timeInterval=function(m){return arguments.length?(f=m==null?1/0:m,v):f},v.words=function(m){return arguments.length?(l=m,v):l},v.size=function(m){return arguments.length?(e=[+m[0],+m[1]],v):e},v.font=function(m){return arguments.length?(t=ro(m),v):t},v.fontStyle=function(m){return arguments.length?(i=ro(m),v):i},v.fontWeight=function(m){return arguments.length?(a=ro(m),v):a},v.rotate=function(m){return arguments.length?(o=ro(m),v):o},v.text=function(m){return arguments.length?(r=ro(m),v):r},v.spiral=function(m){return arguments.length?(u=nZ[m]||m,v):u},v.fontSize=function(m){return arguments.length?(n=ro(m),v):n},v.padding=function(m){return arguments.length?(s=ro(m),v):s},v.random=function(m){return arguments.length?(c=m,v):c},v}n2.default=iZ;var mm=C.exports,Gy=Ht,NO=Ft,aZ=mm.__importDefault(n2),oZ=_e,sZ={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function zO(e,r){r=Gy.assign({},sZ,r);var t=aZ.default();if(!r.size[0]||!r.size[1]){e.rows=[],e._tagCloud=t;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(d){r[d]&&t[d](r[d])});var n=oZ.getFields(r),i=mm.__read(n,2),a=i[0],o=i[1];if(!Gy.isString(a)||!Gy.isString(o))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var s=e.rows.map(function(d){return d.text=d[a],d.value=d[o],d});t.words(s),r.imageMask&&t.createMask(r.imageMask);var u=t.start(),l=u._tags,f=u._bounds||[{x:0,y:0},{x:r.size[0],y:r.size[1]}];l.forEach(function(d){d.x+=r.size[0]/2,d.y+=r.size[1]/2});var c=mm.__read(r.size,2),h=c[0],v=c[1],g=u.hasImage;l.push({text:"",value:0,x:g?0:f[0].x,y:g?0:f[0].y,opacity:0}),l.push({text:"",value:0,x:g?h:f[1].x,y:g?v:f[1].y,opacity:0}),e.rows=l,e._tagCloud=u}NO.DataSet.registerTransform("tag-cloud",zO);NO.DataSet.registerTransform("word-cloud",zO);var Lv=C.exports,ts=Ht,uZ=Bi.exports,lZ=Lv.__importDefault(Un),fZ=Ft,cZ=_e,hZ={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function vZ(e,r){r=ts.assign({},hZ,r);var t=cZ.getFields(r),n=Lv.__read(t,2),i=n[0],a=n[1],o=Lv.__read(r.as,2),s=o[0],u=o[1],l=r.groupBy,f=lZ.default(e.rows,l),c=ts.keys(f),h=Lv.__read(r.size,2),v=h[0],g=h[1],d=r.maxCount,m=c.length,x=g/m,E=r.rows,_=r.gapRatio,M=[],A=r.scale,b=0,I=0;ts.forIn(f,function(L){var F=uZ.sum(ts.map(L,function(Y){return Y[a]})),$=Math.ceil(F*A/E);F*A>d&&(A=d/F,$=Math.ceil(F*A/E)),I=v/$}),ts.forIn(f,function(L){var F=[b*x,(b+1)*x],$=F[1]-F[0],Y=$*(1-_)/E,k=0,z=0;ts.each(L,function(S){for(var T=S[a],O=Math.round(T*A),D=0;D<O;D++){z===E&&(z=0,k++);var H=ts.pick(S,[i,a].concat(l));H[s]=k*I+I/2,H[u]=z*Y+Y/2+F[0],H._wStep=I,H._hStep=Y,z++,M.push(H)}}),b+=1}),e.rows=M}fZ.DataSet.registerTransform("waffle",vZ);var GO={};Object.defineProperty(GO,"__esModule",{value:!0});var vu=C.exports,so=Ht,rT=vu.__importDefault(nl),WO=vu.__importDefault(pc),YO=Ft,pZ=_e,nT=Ra,gZ={as:["x","y","z"],method:"gaussian"},xm=so.keys(WO.default);function HO(e,r){var t,n;r=so.assign({},gZ,r);var i=pZ.getFields(r);if(!so.isArray(i)||i.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var a=vu.__read(r.as,3),o=a[0],s=a[1],u=a[2];if(!so.isString(o)||!so.isString(s)||!so.isString(u))throw new TypeError("invalid as: must be an array of 3 strings!");var l;if(so.isString(r.method)){if(xm.indexOf(r.method)===-1)throw new TypeError("invalid method: "+r.method+". Must be one of "+xm.join(", "));l=WO.default[r.method]}var f=vu.__read(i,2),c=f[0],h=f[1],v=r.extent,g=r.bandwidth,d,m;v&&Array.isArray(v)&&Array.isArray(v[0])&&Array.isArray(v[1])?(t=vu.__read(v,2),d=t[0],m=t[1]):(d=e.range(c),m=e.range(h));var x,E;g&&Array.isArray(g)&&g.slice(0,2).every(so.isNumber)&&g.slice(0,2).every(function(T){return T>0})?(n=vu.__read(g,2),x=n[0],E=n[1]):(x=nT.silverman(e.getColumn(c)),E=nT.silverman(e.getColumn(h)));for(var _=rT.default(d,x),M=rT.default(m,E),A=e.rows.length,b=[],I=0;I<_.length;I++)for(var L=0;L<M.length;L++){for(var F=0,$=_[I],Y=M[L],k=0;k<A;k++)F+=l(($-e.rows[k][c])/x)*l((Y-e.rows[k][h])/E);var z=1/(A*x*E)*F,S={};S[o]=$,S[s]=Y,S[u]=z,b.push(S)}e.rows=b}YO.DataSet.registerTransform("kernel-smooth.density",HO);YO.DataSet.registerTransform("kernel.density",HO);GO.default={KERNEL_METHODS:xm};var XO={};Object.defineProperty(XO,"__esModule",{value:!0});var Lp=C.exports,Yi=Ht,dZ=Lp.__importDefault(nl),VO=Lp.__importDefault(pc),UO=Ft,Wy=Bi.exports,yZ=_e,mZ=Ra,xZ={as:["x","y"],method:"gaussian"},wm=Yi.keys(VO.default);function wZ(e,r,t,n){var i=(n-t)/r;return e(i)}function iT(e){return function(r){return Yi.isArray(r)?r.map(function(t){return e(t)}):e(r)}}function KO(e,r){r=Yi.assign({},xZ,r);var t=yZ.getFields(r);if(!Yi.isArray(t)||!(t.length===1||t.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var n=Lp.__read(r.as,2),i=n[0],a=n[1];if(!Yi.isString(i)||!Yi.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var o,s=r.method;if(Yi.isString(s)){if(wm.indexOf(s)===-1)throw new TypeError("invalid method: "+s+". Must be one of "+wm.join(", "));o=VO.default[s]}var u=Lp.__read(t,2),l=u[0],f=u[1],c=e.getColumn(l),h=r.extent;(h||!Yi.isArray(h))&&(h=e.range(l));var v=r.bandwidth;(!v||!Yi.isNumber(v)||v<=0)&&(v=mZ.silverman(c));var g=dZ.default(h,v),d=c.length,m=wZ.bind(null,o,v),x;if(Yi.isNil(f))x=iT(function(M){var A=c.map(function(L){return m(M,L)}),b=Wy.sum(A),I=d*v;return!b||!I?0:b/I});else{var E=e.getColumn(f);x=iT(function(M){var A=c.map(function(L){return m(M,L)}),b=Wy.sum(A.map(function(L,F){return L*E[F]})),I=Wy.sum(A);return!b||!I?0:b/I})}var _=g.map(function(M){var A={};return A[i]=M,A[a]=x(M),A});e.rows=_}UO.DataSet.registerTransform("kernel-smooth.regression",KO);UO.DataSet.registerTransform("kernel.regression",KO);XO.default={KERNEL_METHODS:wm};var _Z=Ft,EZ=_Z.DataSet,Ve;(function(e){e.FORE="fore",e.MID="mid",e.BG="bg"})(Ve||(Ve={}));var dt;(function(e){e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.RADIUS="radius",e.CIRCLE="circle",e.NONE="none"})(dt||(dt={}));var cr;(function(e){e.AXIS="axis",e.GRID="grid",e.LEGEND="legend",e.TOOLTIP="tooltip",e.ANNOTATION="annotation",e.SLIDER="slider",e.SCROLLBAR="scrollbar",e.OTHER="other"})(cr||(cr={}));var Cu={FORE:3,MID:2,BG:1},De;(function(e){e.BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_PAINT="beforepaint",e.AFTER_PAINT="afterpaint",e.BEFORE_CHANGE_DATA="beforechangedata",e.AFTER_CHANGE_DATA="afterchangedata",e.BEFORE_CLEAR="beforeclear",e.AFTER_CLEAR="afterclear",e.BEFORE_DESTROY="beforedestroy",e.BEFORE_CHANGE_SIZE="beforechangesize",e.AFTER_CHANGE_SIZE="afterchangesize"})(De||(De={}));var Eo;(function(e){e.BEFORE_DRAW_ANIMATE="beforeanimate",e.AFTER_DRAW_ANIMATE="afteranimate",e.BEFORE_RENDER_LABEL="beforerenderlabel",e.AFTER_RENDER_LABEL="afterrenderlabel"})(Eo||(Eo={}));var un;(function(e){e.MOUSE_ENTER="plot:mouseenter",e.MOUSE_DOWN="plot:mousedown",e.MOUSE_MOVE="plot:mousemove",e.MOUSE_UP="plot:mouseup",e.MOUSE_LEAVE="plot:mouseleave",e.TOUCH_START="plot:touchstart",e.TOUCH_MOVE="plot:touchmove",e.TOUCH_END="plot:touchend",e.TOUCH_CANCEL="plot:touchcancel",e.CLICK="plot:click",e.DBLCLICK="plot:dblclick",e.CONTEXTMENU="plot:contextmenu",e.LEAVE="plot:leave",e.ENTER="plot:enter"})(un||(un={}));var Op;(function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.SELECTED="selected",e.DEFAULT="default"})(Op||(Op={}));var pu=["color","shape","size"],ge="_origin",aT=1,oT=1,sT=.25,qO={};function MZ(e){var r=qO[e];if(!r)throw new Error("G engine '".concat(e,"' is not exist, please register it at first."));return r}function jO(e,r){qO[e]=r}function nu(e,r,t){if(e){if(typeof e.addEventListener=="function")return e.addEventListener(r,t,!1),{remove:function(){e.removeEventListener(r,t,!1)}};if(typeof e.attachEvent=="function")return e.attachEvent("on"+r,t),{remove:function(){e.detachEvent("on"+r,t)}}}}var lf,Yy,ZO,_m;function CZ(){lf=document.createElement("table"),Yy=document.createElement("tr"),ZO=/^\s*<(\w+|!)[^>]*>/,_m={tr:document.createElement("tbody"),tbody:lf,thead:lf,tfoot:lf,td:Yy,th:Yy,"*":document.createElement("div")}}function Mo(e){lf||CZ();var r=ZO.test(e)&&RegExp.$1;(!r||!(r in _m))&&(r="*");var t=_m[r];e=typeof e=="string"?e.replace(/(^\s*)|(\s*$)/g,""):e,t.innerHTML=""+e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function gn(e,r,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(e,null)[r]:e.style[r]}catch{}finally{n=n===void 0?t:n}return n}function SZ(e,r){var t=gn(e,"height",r);return t==="auto"&&(t=e.offsetHeight),parseFloat(t)}function TZ(e,r){var t=SZ(e,r),n=parseFloat(gn(e,"borderTopWidth"))||0,i=parseFloat(gn(e,"paddingTop"))||0,a=parseFloat(gn(e,"paddingBottom"))||0,o=parseFloat(gn(e,"borderBottomWidth"))||0,s=parseFloat(gn(e,"marginTop"))||0,u=parseFloat(gn(e,"marginBottom"))||0;return t+n+o+i+a+s+u}function AZ(e,r){var t=gn(e,"width",r);return t==="auto"&&(t=e.offsetWidth),parseFloat(t)}function PZ(e,r){var t=AZ(e,r),n=parseFloat(gn(e,"borderLeftWidth"))||0,i=parseFloat(gn(e,"paddingLeft"))||0,a=parseFloat(gn(e,"paddingRight"))||0,o=parseFloat(gn(e,"borderRightWidth"))||0,s=parseFloat(gn(e,"marginRight"))||0,u=parseFloat(gn(e,"marginLeft"))||0;return t+n+o+i+a+u+s}function Rr(e,r){if(e)for(var t in r)r.hasOwnProperty(t)&&(e.style[t]=r[t]);return e}function bZ(e){var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function uT(e){return typeof e=="number"&&!isNaN(e)}function lT(e,r,t,n){var i=t,a=n;if(r){var o=bZ(e);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(uT(i)?i:aT,aT),height:Math.max(uT(a)?a:oT,oT)}}function LZ(e){var r=e.parentNode;r&&r.removeChild(e)}var OZ="*",QO=function(){function e(){this._events={}}return e.prototype.on=function(r,t,n){return this._events[r]||(this._events[r]=[]),this._events[r].push({callback:t,once:!!n}),this},e.prototype.once=function(r,t){return this.on(r,t,!0)},e.prototype.emit=function(r){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this._events[r]||[],o=this._events[OZ]||[],s=function(u){for(var l=u.length,f=0;f<l;f++)if(!!u[f]){var c=u[f],h=c.callback,v=c.once;v&&(u.splice(f,1),u.length===0&&delete t._events[r],l--,f--),h.apply(t,n)}};s(a),s(o)},e.prototype.off=function(r,t){if(!r)this._events={};else if(!t)delete this._events[r];else{for(var n=this._events[r]||[],i=n.length,a=0;a<i;a++)n[a].callback===t&&(n.splice(a,1),i--,a--);n.length===0&&delete this._events[r]}return this},e.prototype.getEvents=function(){return this._events},e}(),i2=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=t.visible,a=i===void 0?!0:i;return n.visible=a,n}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(QO),wf=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,IZ=new RegExp("([a-z])["+wf+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+wf+"]*,?["+wf+"]*)+)","ig"),DZ=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+wf+"]*,?["+wf+"]*","ig"),gu=function(e){if(!e)return null;if(vt(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(IZ,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(DZ,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([i,o[0]]),s==="r")t.push([i].concat(o));else for(;o.length>=r[s]&&(t.push([i].concat(o.splice(0,r[s]))),!!r[s]););return e}),t},Em=function(e,r){for(var t=[],n=0,i=e.length;i-2*!r>n;n+=2){var a=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];r?n?i-4===n?a[3]={x:+e[0],y:+e[1]}:i-2===n&&(a[2]={x:+e[0],y:+e[1]},a[3]={x:+e[2],y:+e[3]}):a[0]={x:+e[i-2],y:+e[i-1]}:i-4===n?a[3]=a[2]:n||(a[0]={x:+e[n],y:+e[n+1]}),t.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return t},Yh=function(e,r,t,n,i){var a=[];if(i===null&&n===null&&(n=t),e=+e,r=+r,t=+t,n=+n,i!==null){var o=Math.PI/180,s=e+t*Math.cos(-n*o),u=e+t*Math.cos(-i*o),l=r+t*Math.sin(-n*o),f=r+t*Math.sin(-i*o);a=[["M",s,l],["A",t,t,0,+(i-n>180),0,u,f]]}else a=[["M",e,r],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return a},Mm=function(e){if(e=gu(e),!e||!e.length)return[["M",0,0]];var r=[],t=0,n=0,i=0,a=0,o=0,s,u;e[0][0]==="M"&&(t=+e[0][1],n=+e[0][2],i=t,a=n,o++,r[0]=["M",t,n]);for(var l=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z",f=void 0,c=void 0,h=o,v=e.length;h<v;h++){if(r.push(f=[]),c=e[h],s=c[0],s!==s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=c[1],f[2]=c[2],f[3]=c[3],f[4]=c[4],f[5]=c[5],f[6]=+c[6]+t,f[7]=+c[7]+n;break;case"V":f[1]=+c[1]+n;break;case"H":f[1]=+c[1]+t;break;case"R":u=[t,n].concat(c.slice(1));for(var g=2,d=u.length;g<d;g++)u[g]=+u[g]+t,u[++g]=+u[g]+n;r.pop(),r=r.concat(Em(u,l));break;case"O":r.pop(),u=Yh(t,n,c[1],c[2]),u.push(u[0]),r=r.concat(u);break;case"U":r.pop(),r=r.concat(Yh(t,n,c[1],c[2],c[3])),f=["U"].concat(r[r.length-1].slice(-2));break;case"M":i=+c[1]+t,a=+c[2]+n;break;default:for(var g=1,d=c.length;g<d;g++)f[g]=+c[g]+(g%2?t:n)}else if(s==="R")u=[t,n].concat(c.slice(1)),r.pop(),r=r.concat(Em(u,l)),f=["R"].concat(c.slice(-2));else if(s==="O")r.pop(),u=Yh(t,n,c[1],c[2]),u.push(u[0]),r=r.concat(u);else if(s==="U")r.pop(),r=r.concat(Yh(t,n,c[1],c[2],c[3])),f=["U"].concat(r[r.length-1].slice(-2));else for(var m=0,x=c.length;m<x;m++)f[m]=c[m];if(s=s.toUpperCase(),s!=="O")switch(f[0]){case"Z":t=+i,n=+a;break;case"H":t=f[1];break;case"V":n=f[1];break;case"M":i=f[f.length-2],a=f[f.length-1];break;default:t=f[f.length-2],n=f[f.length-1]}}return r},Hh=function(e,r,t,n){return[e,r,t,n,t,n]},fT=function(e,r,t,n,i,a){var o=.3333333333333333,s=2/3;return[o*e+s*t,o*r+s*n,o*i+s*t,o*a+s*n,i,a]},JO=function(e,r,t,n,i,a,o,s,u,l){t===n&&(t+=1);var f=Math.PI*120/180,c=Math.PI/180*(+i||0),h=[],v,g,d,m,x,E=function(Er,Mr,yr){var fa=Er*Math.cos(yr)-Mr*Math.sin(yr),mr=Er*Math.sin(yr)+Mr*Math.cos(yr);return{x:fa,y:mr}};if(l)g=l[0],d=l[1],m=l[2],x=l[3];else{v=E(e,r,-c),e=v.x,r=v.y,v=E(s,u,-c),s=v.x,u=v.y,e===s&&r===u&&(s+=1,u+=1);var _=(e-s)/2,M=(r-u)/2,A=_*_/(t*t)+M*M/(n*n);A>1&&(A=Math.sqrt(A),t=A*t,n=A*n);var b=t*t,I=n*n,L=(a===o?-1:1)*Math.sqrt(Math.abs((b*I-b*M*M-I*_*_)/(b*M*M+I*_*_)));m=L*t*M/n+(e+s)/2,x=L*-n*_/t+(r+u)/2,g=Math.asin(((r-x)/n).toFixed(9)),d=Math.asin(((u-x)/n).toFixed(9)),g=e<m?Math.PI-g:g,d=s<m?Math.PI-d:d,g<0&&(g=Math.PI*2+g),d<0&&(d=Math.PI*2+d),o&&g>d&&(g=g-Math.PI*2),!o&&d>g&&(d=d-Math.PI*2)}var F=d-g;if(Math.abs(F)>f){var $=d,Y=s,k=u;d=g+f*(o&&d>g?1:-1),s=m+t*Math.cos(d),u=x+n*Math.sin(d),h=JO(s,u,t,n,i,0,o,Y,k,[d,$,m,x])}F=d-g;var z=Math.cos(g),S=Math.sin(g),T=Math.cos(d),O=Math.sin(d),D=Math.tan(F/4),H=4/3*t*D,it=4/3*n*D,pt=[e,r],yt=[e+H*S,r-it*z],mt=[s+H*O,u-it*T],Dt=[s,u];if(yt[0]=2*pt[0]-yt[0],yt[1]=2*pt[1]-yt[1],l)return[yt,mt,Dt].concat(h);h=[yt,mt,Dt].concat(h).join().split(",");for(var oe=[],Ot=0,Oe=h.length;Ot<Oe;Ot++)oe[Ot]=Ot%2?E(h[Ot-1],h[Ot],c).y:E(h[Ot],h[Ot+1],c).x;return oe},Cm=function(e,r){var t=Mm(e),n=r&&Mm(r),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],u="",l="",f,c=function(_,M,A){var b,I;if(!_)return["C",M.x,M.y,M.x,M.y,M.x,M.y];switch(!(_[0]in{T:1,Q:1})&&(M.qx=M.qy=null),_[0]){case"M":M.X=_[1],M.Y=_[2];break;case"A":_=["C"].concat(JO.apply(0,[M.x,M.y].concat(_.slice(1))));break;case"S":A==="C"||A==="S"?(b=M.x*2-M.bx,I=M.y*2-M.by):(b=M.x,I=M.y),_=["C",b,I].concat(_.slice(1));break;case"T":A==="Q"||A==="T"?(M.qx=M.x*2-M.qx,M.qy=M.y*2-M.qy):(M.qx=M.x,M.qy=M.y),_=["C"].concat(fT(M.x,M.y,M.qx,M.qy,_[1],_[2]));break;case"Q":M.qx=_[1],M.qy=_[2],_=["C"].concat(fT(M.x,M.y,_[1],_[2],_[3],_[4]));break;case"L":_=["C"].concat(Hh(M.x,M.y,_[1],_[2]));break;case"H":_=["C"].concat(Hh(M.x,M.y,_[1],M.y));break;case"V":_=["C"].concat(Hh(M.x,M.y,M.x,_[1]));break;case"Z":_=["C"].concat(Hh(M.x,M.y,M.X,M.Y));break}return _},h=function(_,M){if(_[M].length>7){_[M].shift();for(var A=_[M];A.length;)o[M]="A",n&&(s[M]="A"),_.splice(M++,0,["C"].concat(A.splice(0,6)));_.splice(M,1),f=Math.max(t.length,n&&n.length||0)}},v=function(_,M,A,b,I){_&&M&&_[I][0]==="M"&&M[I][0]!=="M"&&(M.splice(I,0,["M",b.x,b.y]),A.bx=0,A.by=0,A.x=_[I][1],A.y=_[I][2],f=Math.max(t.length,n&&n.length||0))};f=Math.max(t.length,n&&n.length||0);for(var g=0;g<f;g++){t[g]&&(u=t[g][0]),u!=="C"&&(o[g]=u,g&&(l=o[g-1])),t[g]=c(t[g],i,l),o[g]!=="A"&&u==="C"&&(o[g]="C"),h(t,g),n&&(n[g]&&(u=n[g][0]),u!=="C"&&(s[g]=u,g&&(l=s[g-1])),n[g]=c(n[g],a,l),s[g]!=="A"&&u==="C"&&(s[g]="C"),h(n,g)),v(t,n,i,a,g),v(n,t,a,i,g);var d=t[g],m=n&&n[g],x=d.length,E=n&&m.length;i.x=d[x-2],i.y=d[x-1],i.bx=parseFloat(d[x-4])||i.x,i.by=parseFloat(d[x-3])||i.y,a.bx=n&&(parseFloat(m[E-4])||a.x),a.by=n&&(parseFloat(m[E-3])||a.y),a.x=n&&m[E-2],a.y=n&&m[E-1]}return n?[t,n]:t},BZ=/,?([a-z]),?/gi,tI=function(e){return e.join(",").replace(BZ,"$1")},cT=function(e,r,t,n,i){var a=-3*r+9*t-9*n+3*i,o=e*a+6*r-12*t+6*n;return e*o-3*r+3*t},hT=function(e,r,t,n,i,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,f=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],v=0,g=0;g<f;g++){var d=l*c[g]+l,m=cT(d,e,t,i,o),x=cT(d,r,n,a,s),E=m*m+x*x;v+=h[g]*Math.sqrt(E)}return l*v},RZ=function(e,r,t,n,i,a,o,s){for(var u=[],l=[[],[]],f,c,h,v,g=0;g<2;++g){if(g===0?(c=6*e-12*t+6*i,f=-3*e+9*t-9*i+3*o,h=3*t-3*e):(c=6*r-12*n+6*a,f=-3*r+9*n-9*a+3*s,h=3*n-3*r),Math.abs(f)<1e-12){if(Math.abs(c)<1e-12)continue;v=-h/c,v>0&&v<1&&u.push(v);continue}var d=c*c-4*h*f,m=Math.sqrt(d);if(!(d<0)){var x=(-c+m)/(2*f);x>0&&x<1&&u.push(x);var E=(-c-m)/(2*f);E>0&&E<1&&u.push(E)}}for(var _=u.length,M=_,A;_--;)v=u[_],A=1-v,l[0][_]=A*A*A*e+3*A*A*v*t+3*A*v*v*i+v*v*v*o,l[1][_]=A*A*A*r+3*A*A*v*n+3*A*v*v*a+v*v*v*s;return l[0][M]=e,l[1][M]=r,l[0][M+1]=o,l[1][M+1]=s,l[0].length=l[1].length=M+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},FZ=function(e,r,t,n,i,a,o,s){if(!(Math.max(e,t)<Math.min(i,o)||Math.min(e,t)>Math.max(i,o)||Math.max(r,n)<Math.min(a,s)||Math.min(r,n)>Math.max(a,s))){var u=(e*n-r*t)*(i-o)-(e-t)*(i*s-a*o),l=(e*n-r*t)*(a-s)-(r-n)*(i*s-a*o),f=(e-t)*(a-s)-(r-n)*(i-o);if(!!f){var c=u/f,h=l/f,v=+c.toFixed(2),g=+h.toFixed(2);if(!(v<+Math.min(e,t).toFixed(2)||v>+Math.max(e,t).toFixed(2)||v<+Math.min(i,o).toFixed(2)||v>+Math.max(i,o).toFixed(2)||g<+Math.min(r,n).toFixed(2)||g>+Math.max(r,n).toFixed(2)||g<+Math.min(a,s).toFixed(2)||g>+Math.max(a,s).toFixed(2)))return{x:c,y:h}}}},no=function(e,r,t){return r>=e.x&&r<=e.x+e.width&&t>=e.y&&t<=e.y+e.height},eI=function(e,r,t,n,i){if(i)return[["M",+e+ +i,r],["l",t-i*2,0],["a",i,i,0,0,1,i,i],["l",0,n-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-t,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-n],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",e,r],["l",t,0],["l",0,n],["l",-t,0],["z"]];return a.parsePathArray=tI,a},Sm=function(e,r,t,n){return e===null&&(e=r=t=n=0),r===null&&(r=e.y,t=e.width,n=e.height,e=e.x),{x:e,y:r,width:t,w:t,height:n,h:n,x2:e+t,y2:r+n,cx:e+t/2,cy:r+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:eI(e,r,t,n),vb:[e,r,t,n].join(" ")}},kZ=function(e,r){return e=Sm(e),r=Sm(r),no(r,e.x,e.y)||no(r,e.x2,e.y)||no(r,e.x,e.y2)||no(r,e.x2,e.y2)||no(e,r.x,r.y)||no(e,r.x2,r.y)||no(e,r.x,r.y2)||no(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)},vT=function(e,r,t,n,i,a,o,s){vt(e)||(e=[e,r,t,n,i,a,o,s]);var u=RZ.apply(null,e);return Sm(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},pT=function(e,r,t,n,i,a,o,s,u){var l=1-u,f=Math.pow(l,3),c=Math.pow(l,2),h=u*u,v=h*u,g=f*e+c*3*u*t+l*3*u*u*i+v*o,d=f*r+c*3*u*n+l*3*u*u*a+v*s,m=e+2*u*(t-e)+h*(i-2*t+e),x=r+2*u*(n-r)+h*(a-2*n+r),E=t+2*u*(i-t)+h*(o-2*i+t),_=n+2*u*(a-n)+h*(s-2*a+n),M=l*e+u*t,A=l*r+u*n,b=l*i+u*o,I=l*a+u*s,L=90-Math.atan2(m-E,x-_)*180/Math.PI;return{x:g,y:d,m:{x:m,y:x},n:{x:E,y:_},start:{x:M,y:A},end:{x:b,y:I},alpha:L}},$Z=function(e,r,t){var n=vT(e),i=vT(r);if(!kZ(n,i))return t?0:[];for(var a=hT.apply(0,e),o=hT.apply(0,r),s=~~(a/8),u=~~(o/8),l=[],f=[],c={},h=t?0:[],v=0;v<s+1;v++){var g=pT.apply(0,e.concat(v/s));l.push({x:g.x,y:g.y,t:v/s})}for(var v=0;v<u+1;v++){var g=pT.apply(0,r.concat(v/u));f.push({x:g.x,y:g.y,t:v/u})}for(var v=0;v<s;v++)for(var d=0;d<u;d++){var m=l[v],x=l[v+1],E=f[d],_=f[d+1],M=Math.abs(x.x-m.x)<.001?"y":"x",A=Math.abs(_.x-E.x)<.001?"y":"x",b=FZ(m.x,m.y,x.x,x.y,E.x,E.y,_.x,_.y);if(b){if(c[b.x.toFixed(4)]===b.y.toFixed(4))continue;c[b.x.toFixed(4)]=b.y.toFixed(4);var I=m.t+Math.abs((b[M]-m[M])/(x[M]-m[M]))*(x.t-m.t),L=E.t+Math.abs((b[A]-E[A])/(_[A]-E[A]))*(_.t-E.t);I>=0&&I<=1&&L>=0&&L<=1&&(t?h+=1:h.push({x:b.x,y:b.y,t1:I,t2:L}))}}return h},NZ=function(e,r,t){e=Cm(e),r=Cm(r);for(var n,i,a,o,s,u,l,f,c,h,v=t?0:[],g=0,d=e.length;g<d;g++){var m=e[g];if(m[0]==="M")n=s=m[1],i=u=m[2];else{m[0]==="C"?(c=[n,i].concat(m.slice(1)),n=c[6],i=c[7]):(c=[n,i,n,i,s,u,s,u],n=s,i=u);for(var x=0,E=r.length;x<E;x++){var _=r[x];if(_[0]==="M")a=l=_[1],o=f=_[2];else{_[0]==="C"?(h=[a,o].concat(_.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,l,f,l,f],a=l,o=f);var M=$Z(c,h,t);if(t)v+=M;else{for(var A=0,b=M.length;A<b;A++)M[A].segment1=g,M[A].segment2=x,M[A].bez1=c,M[A].bez2=h;v=v.concat(M)}}}}}return v},zZ=function(e,r){return NZ(e,r)};function GZ(e,r){var t=[],n=[];function i(a,o){if(a.length===1)t.push(a[0]),n.push(a[0]);else{for(var s=[],u=0;u<a.length-1;u++)u===0&&t.push(a[0]),u===a.length-2&&n.push(a[u+1]),s[u]=[(1-o)*a[u][0]+o*a[u+1][0],(1-o)*a[u][1]+o*a[u+1][1]];i(s,o)}}return e.length&&i(e,r),{left:t,right:n.reverse()}}function WZ(e,r,t){var n=[[e[1],e[2]]];t=t||2;var i=[];r[0]==="A"?(n.push(r[6]),n.push(r[7])):r[0]==="C"?(n.push([r[1],r[2]]),n.push([r[3],r[4]]),n.push([r[5],r[6]])):r[0]==="S"||r[0]==="Q"?(n.push([r[1],r[2]]),n.push([r[3],r[4]])):n.push([r[1],r[2]]);for(var a=n,o=1/t,s=0;s<t-1;s++){var u=o/(1-o*s),l=GZ(a,u);i.push(l.left),a=l.right}i.push(a);var f=i.map(function(c){var h=[];return c.length===4&&(h.push("C"),h=h.concat(c[2])),c.length>=3&&(c.length===3&&h.push("Q"),h=h.concat(c[1])),c.length===2&&h.push("L"),h=h.concat(c[c.length-1]),h});return f}var YZ=function(e,r,t){if(t===1)return[[].concat(e)];var n=[];if(r[0]==="L"||r[0]==="C"||r[0]==="Q")n=n.concat(WZ(e,r,t));else{var i=[].concat(e);i[0]==="M"&&(i[0]="L");for(var a=0;a<=t-1;a++)n.push(i)}return n},HZ=function(e,r){if(e.length===1)return e;var t=e.length-1,n=r.length-1,i=t/n,a=[];if(e.length===1&&e[0][0]==="M"){for(var o=0;o<n-t;o++)e.push(e[0]);return e}for(var o=0;o<n;o++){var s=Math.floor(i*o);a[s]=(a[s]||0)+1}var u=a.reduce(function(l,f,c){return c===t?l.concat(e[t]):l.concat(YZ(e[c],e[c+1],f))},[]);return u.unshift(e[0]),(r[n]==="Z"||r[n]==="z")&&u.push("Z"),u},XZ=function(e,r){if(e.length!==r.length)return!1;var t=!0;return V(e,function(n,i){if(n!==r[i])return t=!1,!1}),t};function VZ(e,r,t){var n=null,i=t;return r<i&&(i=r,n="add"),e<i&&(i=e,n="del"),{type:n,min:i}}var UZ=function(e,r){var t=e.length,n=r.length,i,a,o=0;if(t===0||n===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=n;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){i=e[u-1];for(var l=1;l<=n;l++){a=r[l-1],XZ(i,a)?o=0:o=1;var f=s[u-1][l].min+1,c=s[u][l-1].min+1,h=s[u-1][l-1].min+o;s[u][l]=VZ(f,c,h)}}return s},rI=function(e,r){var t=UZ(e,r),n=e.length,i=r.length,a=[],o=1,s=1;if(t[n][i].min!==n){for(var u=1;u<=n;u++){var l=t[u][u].min;s=u;for(var f=o;f<=i;f++)t[u][f].min<l&&(l=t[u][f].min,s=f);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?e.splice(o,0,[].concat(e[o])):e.splice(o,1)}n=e.length;var c=i-n;if(n<i)for(var u=0;u<c;u++)e[n-1][0]==="z"||e[n-1][0]==="Z"?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function Hy(e,r,t){for(var n=[].concat(e),i,a=1/(t+1),o=nI(r)[0],s=1;s<=t;s++)a*=s,i=Math.floor(e.length*a),i===0?n.unshift([o[0]*a+e[i][0]*(1-a),o[1]*a+e[i][1]*(1-a)]):n.splice(i,0,[o[0]*a+e[i][0]*(1-a),o[1]*a+e[i][1]*(1-a)]);return n}function nI(e){var r=[];switch(e[0]){case"M":r.push([e[1],e[2]]);break;case"L":r.push([e[1],e[2]]);break;case"A":r.push([e[6],e[7]]);break;case"Q":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"T":r.push([e[1],e[2]]);break;case"C":r.push([e[5],e[6]]),r.push([e[1],e[2]]),r.push([e[3],e[4]]);break;case"S":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"H":r.push([e[1],e[1]]);break;case"V":r.push([e[1],e[1]]);break}return r}var Tm=function(e,r){if(e.length<=1)return e;for(var t,n=0;n<r.length;n++)if(e[n][0]!==r[n][0])switch(t=nI(e[n]),r[n][0]){case"M":e[n]=["M"].concat(t[0]);break;case"L":e[n]=["L"].concat(t[0]);break;case"A":e[n]=[].concat(r[n]),e[n][6]=t[0][0],e[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=Hy(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["Q"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;case"T":e[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=Hy(t,e[n-1],2);else{e[n]=r[n];break}e[n]=["C"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;case"S":if(t.length<2)if(n>0)t=Hy(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["S"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;default:e[n]=r[n]}return e},a2=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:Em,fillPath:HZ,fillPathByDiff:rI,formatPath:Tm,intersection:zZ,parsePathArray:tI,parsePathString:gu,pathToAbsolute:Mm,pathToCurve:Cm,rectPath:eI},Symbol.toStringTag,{value:"Module"})),yc=function(){function e(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){var r=this.type;return"[Event (type="+r+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();function iI(e,r){var t=e.indexOf(r);t!==-1&&e.splice(t,1)}var gT=typeof window!="undefined"&&typeof window.document!="undefined";function aI(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),n=!1;t;){if(t===e){n=!0;break}t=t.getParent()}return n}function zf(e){return e.cfg.visible&&e.cfg.capture}var Dg=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=Te(i,t),n}return r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,n){this.cfg[t]=n},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(QO),dT=globalThis&&globalThis.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},KZ=function(){function e(r,t,n){this.name=r,this.version=t,this.os=n,this.type="browser"}return e}(),qZ=function(){function e(r){this.version=r,this.type="node",this.name="node",this.os=process.platform}return e}(),jZ=function(){function e(r,t,n,i){this.name=r,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return e}(),ZZ=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),QZ=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),JZ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,tQ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,yT=3,eQ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",JZ]],mT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function oI(e){return e?xT(e):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new QZ:typeof navigator!="undefined"?xT(navigator.userAgent):iQ()}function rQ(e){return e!==""&&eQ.reduce(function(r,t){var n=t[0],i=t[1];if(r)return r;var a=i.exec(e);return!!a&&[n,a]},!1)}function xT(e){var r=rQ(e);if(!r)return null;var t=r[0],n=r[1];if(t==="searchbot")return new ZZ;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<yT&&(i=dT(dT([],i,!0),aQ(yT-i.length),!0)):i=[];var a=i.join("."),o=nQ(e),s=tQ.exec(e);return s&&s[1]?new jZ(t,a,o,s[1]):new KZ(t,a,o)}function nQ(e){for(var r=0,t=mT.length;r<t;r++){var n=mT[r],i=n[0],a=n[1],o=a.exec(e);if(o)return i}return null}function iQ(){var e=typeof process!="undefined"&&process.version;return e?new qZ(process.version.slice(1)):null}function aQ(e){for(var r=[],t=0;t<e;t++)r.push("0");return r}var Ip=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});function oQ(e,r){var t=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],u=r[6],l=r[7],f=r[8],c=f*o-s*l,h=-f*a+s*u,v=l*a-o*u,g=t*c+n*h+i*v;return g?(g=1/g,e[0]=c*g,e[1]=(-f*n+i*l)*g,e[2]=(s*n-i*o)*g,e[3]=h*g,e[4]=(f*t-i*u)*g,e[5]=(-s*t+i*a)*g,e[6]=v*g,e[7]=(-l*t+n*u)*g,e[8]=(o*t-n*a)*g,e):null}function Bg(e,r,t){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6],f=r[7],c=r[8],h=t[0],v=t[1],g=t[2],d=t[3],m=t[4],x=t[5],E=t[6],_=t[7],M=t[8];return e[0]=h*n+v*o+g*l,e[1]=h*i+v*s+g*f,e[2]=h*a+v*u+g*c,e[3]=d*n+m*o+x*l,e[4]=d*i+m*s+x*f,e[5]=d*a+m*u+x*c,e[6]=E*n+_*o+M*l,e[7]=E*i+_*s+M*f,e[8]=E*a+_*u+M*c,e}function sQ(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=r[0],e[7]=r[1],e[8]=1,e}function uQ(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=-t,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function lQ(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=r[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function fQ(){var e=new Ip(3);return Ip!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Gf(e,r,t){var n=r[0],i=r[1],a=r[2];return e[0]=n*t[0]+i*t[3]+a*t[6],e[1]=n*t[1]+i*t[4]+a*t[7],e[2]=n*t[2]+i*t[5]+a*t[8],e}(function(){var e=fQ();return function(r,t,n,i,a,o){var s,u;for(t||(t=3),n||(n=0),i?u=Math.min(i*t+n,r.length):u=r.length,s=n;s<u;s+=t)e[0]=r[s],e[1]=r[s+1],e[2]=r[s+2],a(e,e,o),r[s]=e[0],r[s+1]=e[1],r[s+2]=e[2];return r}})();function cQ(){var e=new Ip(2);return Ip!=Float32Array&&(e[0]=0,e[1]=0),e}function mo(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e}function sI(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e}function vn(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e}function pn(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e}function fi(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e}function Dp(e,r){var t=r[0]-e[0],n=r[1]-e[1];return Math.hypot(t,n)}function du(e){var r=e[0],t=e[1];return Math.hypot(r,t)}function uI(e,r){var t=r[0],n=r[1],i=t*t+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=r[0]*i,e[1]=r[1]*i,e}function hQ(e,r){return e[0]*r[0]+e[1]*r[1]}function vQ(e,r,t){var n=r[0],i=r[1];return e[0]=t[0]*n+t[3]*i+t[6],e[1]=t[1]*n+t[4]*i+t[7],e}function Am(e,r){var t=e[0],n=e[1],i=r[0],a=r[1],o=Math.sqrt(t*t+n*n)*Math.sqrt(i*i+a*a),s=o&&(t*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function pQ(e,r){return e[0]===r[0]&&e[1]===r[1]}var Su=sI;(function(){var e=cQ();return function(r,t,n,i,a,o){var s,u;for(t||(t=2),n||(n=0),i?u=Math.min(i*t+n,r.length):u=r.length,s=n;s<u;s+=t)e[0]=r[s],e[1]=r[s+1],a(e,e,o),r[s]=e[0],r[s+1]=e[1];return r}})();function uu(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return sQ(n,t),Bg(e,n,r)}function o2(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return uQ(n,t),Bg(e,n,r)}function lI(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return lQ(n,t),Bg(e,n,r)}function gQ(e,r,t){return Bg(e,t,r)}function or(e,r){for(var t=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,i=r.length;n<i;n++){var a=r[n];switch(a[0]){case"t":uu(t,t,[a[1],a[2]]);break;case"s":lI(t,t,[a[1],a[2]]);break;case"r":o2(t,t,a[1]);break;case"m":gQ(t,t,a[1]);break}}return t}function dQ(e,r){return e[0]*r[1]-r[0]*e[1]}function s2(e,r,t){var n=Am(e,r),i=dQ(e,r)>=0;return t?i?Math.PI*2-n:n:i?n:Math.PI*2-n}function wT(e,r){var t=[],n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],h=r[0],v=r[1],g=r[2],d=r[3],m=r[4],x=r[5],E=r[6],_=r[7],M=r[8];return t[0]=h*n+v*o+g*l,t[1]=h*i+v*s+g*f,t[2]=h*a+v*u+g*c,t[3]=d*n+m*o+x*l,t[4]=d*i+m*s+x*f,t[5]=d*a+m*u+x*c,t[6]=E*n+_*o+M*l,t[7]=E*i+_*s+M*f,t[8]=E*a+_*u+M*c,t}function ba(e,r){var t=[],n=r[0],i=r[1];return t[0]=e[0]*n+e[3]*i+e[6],t[1]=e[1]*n+e[4]*i+e[7],t}function Rg(e){var r=[],t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=f*o-s*l,h=-f*a+s*u,v=l*a-o*u,g=t*c+n*h+i*v;return g?(g=1/g,r[0]=c*g,r[1]=(-f*n+i*l)*g,r[2]=(s*n-i*o)*g,r[3]=h*g,r[4]=(f*t-i*u)*g,r[5]=(-s*t+i*a)*g,r[6]=v*g,r[7]=(-l*t+n*u)*g,r[8]=(o*t-n*a)*g,r):null}var Nl=or,Xy="matrix",yQ=["zIndex","capture","visible","type"],mQ=["repeat"],xQ=":",wQ="*";function _Q(e){for(var r=[],t=0;t<e.length;t++)vt(e[t])?r.push([].concat(e[t])):r.push(e[t]);return r}function EQ(e,r){var t={},n=r.attrs;for(var i in e)t[i]=n[i];return t}function MQ(e,r){var t={},n=r.attr();return V(e,function(i,a){mQ.indexOf(a)===-1&&!er(n[a],i)&&(t[a]=i)}),t}function CQ(e,r){if(r.onFrame)return e;var t=r.startTime,n=r.delay,i=r.duration,a=Object.prototype.hasOwnProperty;return V(e,function(o){t+n<o.startTime+o.delay+o.duration&&i>o.delay&&V(r.toAttrs,function(s,u){a.call(o.toAttrs,u)&&(delete o.toAttrs[u],delete o.fromAttrs[u])})}),e}var fI=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.attrs={};var i=n.getDefaultAttrs();return Te(i,t.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n[0],o=n[1];if(!a)return this.attrs;if(be(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return n.length===2?(this.setAttr(a,o),this.afterAttrsChange((t={},t[a]=o,t)),this):this.attrs[a]},r.prototype.isClipped=function(t,n){var i=this.getClip();return i&&!i.isHit(t,n)},r.prototype.setAttr=function(t,n){var i=this.attrs[t];i!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,i))},r.prototype.onAttrChange=function(t,n,i){t==="matrix"&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(!!t){var n=t.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(!!t){var n=t.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(iI(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(Xy,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(Xy)},r.prototype.setMatrix=function(t){this.attr(Xy,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),i=this.cfg.parentMatrix;i&&n?t=wT(i,n):t=n||i,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var n=this.attr("matrix"),i=null;t&&n?i=wT(t,n):i=n||t,this.set("totalMatrix",i),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?ba(n,t):t},r.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var i=Rg(n);if(i)return ba(i,t)}return t},r.prototype.setClip=function(t){var n=this.getCanvas(),i=null;if(t){var a=this.getShapeBase(),o=Fo(t.type),s=a[o];s&&(i=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},r.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},r.prototype.clone=function(){var t=this,n=this.attrs,i={};V(n,function(s,u){vt(n[u])?i[u]=_Q(n[u]):i[u]=n[u]});var a=this.constructor,o=new a({attrs:i});return V(yQ,function(s){o.set(s,t.get(s))}),o},r.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},e.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var a=this.get("animations")||[];i.timer||i.initTimer();var o=t[0],s=t[1],u=t[2],l=u===void 0?"easeLinear":u,f=t[3],c=f===void 0?Ta:f,h=t[4],v=h===void 0?0:h,g,d,m,x,E;Lt(o)?(g=o,o={}):be(o)&&o.onFrame&&(g=o.onFrame,d=o.repeat),be(s)?(E=s,s=E.duration,l=E.easing||"easeLinear",v=E.delay||0,d=E.repeat||d||!1,c=E.callback||Ta,m=E.pauseCallback||Ta,x=E.resumeCallback||Ta):(Zt(c)&&(v=c,c=null),Lt(l)?(c=l,l="easeLinear"):l=l||"easeLinear");var _=MQ(o,this),M={fromAttrs:EQ(_,this),toAttrs:_,duration:s,easing:l,repeat:d,callback:c,pauseCallback:m,resumeCallback:x,delay:v,startTime:i.getTime(),id:Wa(),onFrame:g,pathFormatted:!1};a.length>0?a=CQ(a,M):i.addAnimator(this),a.push(M),this.set("animations",a),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var i=this.get("animations");V(i,function(a){t&&(a.onFrame?n.attr(a.onFrame(1)):n.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),i=t.getTime();return V(n,function(a){a._paused=!0,a._pauseTime=i,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},r.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),i=this.get("animations"),a=this.get("_pause").pauseTime;return V(i,function(o){o.startTime=o.startTime+(n-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},r.prototype.emitDelegation=function(t,n){var i=this,a=n.propagationPath;this.getEvents();var o;t==="mouseenter"?o=n.fromShape:t==="mouseleave"&&(o=n.toShape);for(var s=function(c){var h=a[c],v=h.get("name");if(v){if((h.isGroup()||h.isCanvas&&h.isCanvas())&&o&&aI(h,o))return"break";vt(v)?V(v,function(g){i.emitDelegateEvent(h,g,n)}):u.emitDelegateEvent(h,v,n)}},u=this,l=0;l<a.length;l++){var f=s(l);if(f==="break")break}},r.prototype.emitDelegateEvent=function(t,n,i){var a=this.getEvents(),o=n+xQ+i.type;(a[o]||a[wQ])&&(i.name=o,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(o,i))},r.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=this.getMatrix(),a=Nl(i,[["t",t,n]]);return this.setMatrix(a),this},r.prototype.move=function(t,n){var i=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-i,n-a),this},r.prototype.moveTo=function(t,n){return this.move(t,n)},r.prototype.scale=function(t,n){var i=this.getMatrix(),a=Nl(i,[["s",t,n||t]]);return this.setMatrix(a),this},r.prototype.rotate=function(t){var n=this.getMatrix(),i=Nl(n,[["r",t]]);return this.setMatrix(i),this},r.prototype.rotateAtStart=function(t){var n=this.attr(),i=n.x,a=n.y,o=this.getMatrix(),s=Nl(o,[["t",-i,-a],["r",t],["t",i,a]]);return this.setMatrix(s),this},r.prototype.rotateAtPoint=function(t,n,i){var a=this.getMatrix(),o=Nl(a,[["t",-t,-n],["r",i],["t",t,n]]);return this.setMatrix(o),this},r}(Dg),_T={},Pm="_INDEX";function cI(e,r){if(e.set("canvas",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){cI(n,r)})}}function hI(e,r){if(e.set("timeline",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){hI(n,r)})}}function SQ(e,r,t){t===void 0&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),iI(e.getChildren(),r)}function TQ(e){return function(r,t){var n=e(r,t);return n===0?r[Pm]-t[Pm]:n}}var vI=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,n=-1/0,i=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(f){return f.get("visible")&&(!f.isGroup()||f.isGroup()&&f.getChildren().length>0)});u.length>0?(V(u,function(f){var c=f.getBBox();o.push(c.minX,c.maxX),s.push(c.minY,c.maxY)}),t=Gn(o),n=mn(o),i=Gn(s),a=mn(s)):(t=0,n=0,i=0,a=0);var l={x:t,y:i,minX:t,minY:i,maxX:n,maxY:a,width:n-t,height:a-i};return l},r.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,i=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(f){return f.get("visible")&&(!f.isGroup()||f.isGroup()&&f.getChildren().length>0)});u.length>0?(V(u,function(f){var c=f.getCanvasBBox();o.push(c.minX,c.maxX),s.push(c.minY,c.maxY)}),t=Gn(o),n=mn(o),i=Gn(s),a=mn(s)):(t=0,n=0,i=0,a=0);var l={x:t,y:i,minX:t,minY:i,maxX:n,maxY:a,width:n-t,height:a-i};return l},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,n,i){if(e.prototype.onAttrChange.call(this,t,n,i),t==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},r.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},r.prototype._applyChildrenMarix=function(t){var n=this.getChildren();V(n,function(i){i.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],a=t[1];be(i)?a=i:a.type=i;var o=_T[a.type];o||(o=Fo(a.type),_T[a.type]=o);var s=this.getShapeBase(),u=new s[o](a);return this.add(u),u},r.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],a=t[1],o;if(Lt(i))a?o=new i(a):o=new i({parent:this});else{var s=i||{},u=this.getGroupBase();o=new u(s)}return this.add(o),o},r.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},r.prototype.getShape=function(t,n,i){if(!zf(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,t,n,i);else{var s=[t,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],i))}return o},r.prototype._findShape=function(t,n,i,a){for(var o=null,s=t.length-1;s>=0;s--){var u=t[s];if(zf(u)&&(u.isGroup()?o=u.getShape(n,i,a):u.isHit(n,i)&&(o=u)),o)break}return o},r.prototype.add=function(t){var n=this.getCanvas(),i=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&SQ(o,t,!1),t.set("parent",this),n&&cI(t,n),a&&hI(t,a),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();V(t,function(n,i){return n[Pm]=i,n}),t.sort(TQ(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},r.prototype.getCount=function(){var t=this.getChildren();return t.length},r.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},r.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},r.prototype.findAll=function(t){var n=[],i=this.getChildren();return V(i,function(a){t(a)&&n.push(a),a.isGroup()&&(n=n.concat(a.findAll(t)))}),n},r.prototype.find=function(t){var n=null,i=this.getChildren();return V(i,function(a){if(t(a)?n=a:a.isGroup()&&(n=a.find(t)),n)return!1}),n},r.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},r}(fI),Wu=0,ff=0,zl=0,pI=1e3,Bp,cf,Rp=0,Cs=0,Fg=0,Wf=typeof performance=="object"&&performance.now?performance:Date,gI=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dI(){return Cs||(gI(AQ),Cs=Wf.now()+Fg)}function AQ(){Cs=0}function bm(){this._call=this._time=this._next=null}bm.prototype=yI.prototype={constructor:bm,restart:function(e,r,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?dI():+t)+(r==null?0:+r),!this._next&&cf!==this&&(cf?cf._next=this:Bp=this,cf=this),this._call=e,this._time=t,Lm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lm())}};function yI(e,r,t){var n=new bm;return n.restart(e,r,t),n}function PQ(){dI(),++Wu;for(var e=Bp,r;e;)(r=Cs-e._time)>=0&&e._call.call(null,r),e=e._next;--Wu}function ET(){Cs=(Rp=Wf.now())+Fg,Wu=ff=0;try{PQ()}finally{Wu=0,LQ(),Cs=0}}function bQ(){var e=Wf.now(),r=e-Rp;r>pI&&(Fg-=r,Rp=e)}function LQ(){for(var e,r=Bp,t,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Bp=t);cf=e,Lm(n)}function Lm(e){if(!Wu){ff&&(ff=clearTimeout(ff));var r=e-Cs;r>24?(e<1/0&&(ff=setTimeout(ET,e-Wf.now()-Fg)),zl&&(zl=clearInterval(zl))):(zl||(Rp=Wf.now(),zl=setInterval(bQ,pI)),Wu=1,gI(ET))}}function u2(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function mI(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function mc(){}var Yf=.7,Fp=1/Yf,Tu="\\s*([+-]?\\d+)\\s*",Hf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OQ=/^#([0-9a-f]{3,8})$/,IQ=new RegExp("^rgb\\("+[Tu,Tu,Tu]+"\\)$"),DQ=new RegExp("^rgb\\("+[ta,ta,ta]+"\\)$"),BQ=new RegExp("^rgba\\("+[Tu,Tu,Tu,Hf]+"\\)$"),RQ=new RegExp("^rgba\\("+[ta,ta,ta,Hf]+"\\)$"),FQ=new RegExp("^hsl\\("+[Hf,ta,ta]+"\\)$"),kQ=new RegExp("^hsla\\("+[Hf,ta,ta,Hf]+"\\)$"),MT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u2(mc,Xf,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:CT,formatHex:CT,formatHsl:$Q,formatRgb:ST,toString:ST});function CT(){return this.rgb().formatHex()}function $Q(){return xI(this).formatHsl()}function ST(){return this.rgb().formatRgb()}function Xf(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=OQ.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?TT(r):t===3?new Wn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?Xh(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?Xh(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=IQ.exec(e))?new Wn(r[1],r[2],r[3],1):(r=DQ.exec(e))?new Wn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=BQ.exec(e))?Xh(r[1],r[2],r[3],r[4]):(r=RQ.exec(e))?Xh(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=FQ.exec(e))?bT(r[1],r[2]/100,r[3]/100,1):(r=kQ.exec(e))?bT(r[1],r[2]/100,r[3]/100,r[4]):MT.hasOwnProperty(e)?TT(MT[e]):e==="transparent"?new Wn(NaN,NaN,NaN,0):null}function TT(e){return new Wn(e>>16&255,e>>8&255,e&255,1)}function Xh(e,r,t,n){return n<=0&&(e=r=t=NaN),new Wn(e,r,t,n)}function NQ(e){return e instanceof mc||(e=Xf(e)),e?(e=e.rgb(),new Wn(e.r,e.g,e.b,e.opacity)):new Wn}function Om(e,r,t,n){return arguments.length===1?NQ(e):new Wn(e,r,t,n==null?1:n)}function Wn(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}u2(Wn,Om,mI(mc,{brighter:function(e){return e=e==null?Fp:Math.pow(Fp,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Yf:Math.pow(Yf,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AT,formatHex:AT,formatRgb:PT,toString:PT}));function AT(){return"#"+Vy(this.r)+Vy(this.g)+Vy(this.b)}function PT(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Vy(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function bT(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new ji(e,r,t,n)}function xI(e){if(e instanceof ji)return new ji(e.h,e.s,e.l,e.opacity);if(e instanceof mc||(e=Xf(e)),!e)return new ji;if(e instanceof ji)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,i=Math.min(r,t,n),a=Math.max(r,t,n),o=NaN,s=a-i,u=(a+i)/2;return s?(r===a?o=(t-n)/s+(t<n)*6:t===a?o=(n-r)/s+2:o=(r-t)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new ji(o,s,u,e.opacity)}function zQ(e,r,t,n){return arguments.length===1?xI(e):new ji(e,r,t,n==null?1:n)}function ji(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}u2(ji,zQ,mI(mc,{brighter:function(e){return e=e==null?Fp:Math.pow(Fp,e),new ji(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Yf:Math.pow(Yf,e),new ji(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,i=2*t-n;return new Wn(Uy(e>=240?e-240:e+120,i,n),Uy(e,i,n),Uy(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Uy(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}function l2(e){return function(){return e}}function GQ(e,r){return function(t){return e+t*r}}function WQ(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function YQ(e){return(e=+e)==1?wI:function(r,t){return t-r?WQ(r,t,e):l2(isNaN(r)?t:r)}}function wI(e,r){var t=r-e;return t?GQ(e,t):l2(isNaN(e)?r:e)}var LT=function e(r){var t=YQ(r);function n(i,a){var o=t((i=Om(i)).r,(a=Om(a)).r),s=t(i.g,a.g),u=t(i.b,a.b),l=wI(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=u(f),i.opacity=l(f),i+""}}return n.gamma=e,n}(1);function _I(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=e[i]*(1-a)+r[i]*a;return n}}function EI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function HQ(e,r){return(EI(r)?_I:MI)(e,r)}function MI(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,i=new Array(n),a=new Array(t),o;for(o=0;o<n;++o)i[o]=kp(e[o],r[o]);for(;o<t;++o)a[o]=r[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function XQ(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function Im(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function VQ(e,r){var t={},n={},i;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in e?t[i]=kp(e[i],r[i]):n[i]=r[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var Dm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ky=new RegExp(Dm.source,"g");function UQ(e){return function(){return e}}function KQ(e){return function(r){return e(r)+""}}function qQ(e,r){var t=Dm.lastIndex=Ky.lastIndex=0,n,i,a,o=-1,s=[],u=[];for(e=e+"",r=r+"";(n=Dm.exec(e))&&(i=Ky.exec(r));)(a=i.index)>t&&(a=r.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:Im(n,i)})),t=Ky.lastIndex;return t<r.length&&(a=r.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?KQ(u[0].x):UQ(r):(r=u.length,function(l){for(var f=0,c;f<r;++f)s[(c=u[f]).i]=c.x(l);return s.join("")})}function kp(e,r){var t=typeof r,n;return r==null||t==="boolean"?l2(r):(t==="number"?Im:t==="string"?(n=Xf(r))?(r=n,LT):qQ:r instanceof Xf?LT:r instanceof Date?XQ:EI(r)?_I:Array.isArray(r)?MI:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?VQ:Im)(e,r)}function jQ(e){return+e}function ZQ(e){return e*e}function QQ(e){return e*(2-e)}function OT(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function JQ(e){return e*e*e}function tJ(e){return--e*e*e+1}function IT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var f2=3,eJ=function e(r){r=+r;function t(n){return Math.pow(n,r)}return t.exponent=e,t}(f2),rJ=function e(r){r=+r;function t(n){return 1-Math.pow(1-n,r)}return t.exponent=e,t}(f2),DT=function e(r){r=+r;function t(n){return((n*=2)<=1?Math.pow(n,r):2-Math.pow(2-n,r))/2}return t.exponent=e,t}(f2),CI=Math.PI,SI=CI/2;function nJ(e){return+e==1?1:1-Math.cos(e*SI)}function iJ(e){return Math.sin(e*SI)}function BT(e){return(1-Math.cos(CI*e))/2}function Oo(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function aJ(e){return Oo(1-+e)}function oJ(e){return 1-Oo(e)}function RT(e){return((e*=2)<=1?Oo(1-e):2-Oo(e-1))/2}function sJ(e){return 1-Math.sqrt(1-e*e)}function uJ(e){return Math.sqrt(1- --e*e)}function FT(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Bm=4/11,lJ=6/11,fJ=8/11,cJ=3/4,hJ=9/11,vJ=10/11,pJ=15/16,gJ=21/22,dJ=63/64,Vh=1/Bm/Bm;function yJ(e){return 1-Vf(1-e)}function Vf(e){return(e=+e)<Bm?Vh*e*e:e<fJ?Vh*(e-=lJ)*e+cJ:e<vJ?Vh*(e-=hJ)*e+pJ:Vh*(e-=gJ)*e+dJ}function mJ(e){return((e*=2)<=1?1-Vf(1-e):Vf(e-1)+1)/2}var c2=1.70158,xJ=function e(r){r=+r;function t(n){return(n=+n)*n*(r*(n-1)+n)}return t.overshoot=e,t}(c2),wJ=function e(r){r=+r;function t(n){return--n*n*((n+1)*r+n)+1}return t.overshoot=e,t}(c2),kT=function e(r){r=+r;function t(n){return((n*=2)<1?n*n*((r+1)*n-r):(n-=2)*n*((r+1)*n+r)+2)/2}return t.overshoot=e,t}(c2),Yu=2*Math.PI,h2=1,v2=.3,_J=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Yu);function i(a){return r*Oo(- --a)*Math.sin((n-a)/t)}return i.amplitude=function(a){return e(a,t*Yu)},i.period=function(a){return e(r,a)},i}(h2,v2),$T=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Yu);function i(a){return 1-r*Oo(a=+a)*Math.sin((a+n)/t)}return i.amplitude=function(a){return e(a,t*Yu)},i.period=function(a){return e(r,a)},i}(h2,v2),EJ=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Yu);function i(a){return((a=a*2-1)<0?r*Oo(-a)*Math.sin((n-a)/t):2-r*Oo(a)*Math.sin((n+a)/t))/2}return i.amplitude=function(a){return e(a,t*Yu)},i.period=function(a){return e(r,a)},i}(h2,v2),MJ=Object.freeze(Object.defineProperty({__proto__:null,easeLinear:jQ,easeQuad:OT,easeQuadIn:ZQ,easeQuadOut:QQ,easeQuadInOut:OT,easeCubic:IT,easeCubicIn:JQ,easeCubicOut:tJ,easeCubicInOut:IT,easePoly:DT,easePolyIn:eJ,easePolyOut:rJ,easePolyInOut:DT,easeSin:BT,easeSinIn:nJ,easeSinOut:iJ,easeSinInOut:BT,easeExp:RT,easeExpIn:aJ,easeExpOut:oJ,easeExpInOut:RT,easeCircle:FT,easeCircleIn:sJ,easeCircleOut:uJ,easeCircleInOut:FT,easeBounce:Vf,easeBounceIn:yJ,easeBounceOut:Vf,easeBounceInOut:mJ,easeBack:kT,easeBackIn:xJ,easeBackOut:wJ,easeBackInOut:kT,easeElastic:$T,easeElasticIn:_J,easeElasticOut:$T,easeElasticInOut:EJ},Symbol.toStringTag,{value:"Module"})),TI={};function CJ(e){return TI[e.toLowerCase()]||MJ[e]}function AI(e,r){TI[e.toLowerCase()]=r}var SJ=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},TJ=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},NT=[1,0,0,0,1,0,0,0,1];function AJ(e,r,t){var n={},i=r.fromAttrs,a=r.toAttrs;if(!e.destroyed){var o;for(var s in a)if(!er(i[s],a[s]))if(s==="path"){var u=a[s],l=i[s];u.length>l.length?(u=gu(a[s]),l=gu(i[s]),l=rI(l,u),l=Tm(l,u),r.fromAttrs.path=l,r.toAttrs.path=u):r.pathFormatted||(u=gu(a[s]),l=gu(i[s]),l=Tm(l,u),r.fromAttrs.path=l,r.toAttrs.path=u,r.pathFormatted=!0),n[s]=[];for(var f=0;f<u.length;f++){for(var c=u[f],h=l[f],v=[],g=0;g<c.length;g++)Zt(c[g])&&h&&Zt(h[g])?(o=kp(h[g],c[g]),v.push(o(t))):v.push(c[g]);n[s].push(v)}}else if(s==="matrix"){var d=HQ(i[s]||NT,a[s]||NT),m=d(t);n[s]=m}else SJ(s)&&TJ(a[s])?n[s]=a[s]:Lt(a[s])||(o=kp(i[s],a[s]),n[s]=o(t));e.attr(n)}}function PJ(e,r,t){var n=r.startTime,i=r.delay;if(t<n+i||r._paused)return!1;var a,o=r.duration,s=r.easing,u=CJ(s);if(t=t-n-r.delay,r.repeat)a=t%o/o,a=u(a);else if(a=t/o,a<1)a=u(a);else return r.onFrame?e.attr(r.onFrame(1)):e.attr(r.toAttrs),!0;if(r.onFrame){var l=r.onFrame(a);e.attr(l)}else AJ(e,r,a);return!1}var bJ=function(){function e(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return e.prototype.initTimer=function(){var r=this,t=!1,n,i,a;this.timer=yI(function(o){if(r.current=o,r.animators.length>0){for(var s=r.animators.length-1;s>=0;s--){if(n=r.animators[s],n.destroyed){r.removeAnimator(s);continue}if(!n.isAnimatePaused()){i=n.get("animations");for(var u=i.length-1;u>=0;u--)a=i[u],t=PJ(n,a,o),t&&(i.splice(u,1),t=!1,a.callback&&a.callback())}i.length===0&&r.removeAnimator(s)}var l=r.canvas.get("autoDraw");l||r.canvas.draw()}})},e.prototype.addAnimator=function(r){this.animators.push(r)},e.prototype.removeAnimator=function(r){this.animators.splice(r,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(r){r===void 0&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),LJ=40,zT=0,GT=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function WT(e,r,t){t.name=r,t.target=e,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}function OJ(e,r,t){if(t.bubbles){var n=void 0,i=!1;if(r==="mouseenter"?(n=t.fromShape,i=!0):r==="mouseleave"&&(i=!0,n=t.toShape),e.isCanvas()&&i)return;if(n&&aI(e,n)){t.bubbles=!1;return}t.name=r,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}}var IJ=function(){function e(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var i=n.type;t._triggerEvent(i,n)},this._onDocumentMove=function(n){var i=t.canvas,a=i.get("el");if(a!==n.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,o,t.draggingShape)}},this._onDocumentMouseUp=function(n){var i=t.canvas,a=i.get("el");if(a!==n.target&&t.dragging){var o=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,o,null),t._emitEvent("dragend",n,o,t.draggingShape),t._afterDrag(t.draggingShape,o,n)}},this.canvas=r.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");V(GT,function(n){t.addEventListener(n,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");V(GT,function(n){t.removeEventListener(n,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(r,t,n,i,a,o){var s=new yc(r,t);return s.fromShape=a,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(i),s},e.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},e.prototype._getPointInfo=function(r){var t=this.canvas,n=t.getClientByEvent(r),i=t.getPointByEvent(r);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(r,t){var n=this._getPointInfo(t),i=this._getShape(n,t),a=this["_on"+r],o=!1;if(a)a.call(this,n,i,t);else{var s=this.currentShape;r==="mouseenter"||r==="dragenter"||r==="mouseover"?(this._emitEvent(r,t,n,null,null,i),i&&this._emitEvent(r,t,n,i,null,i),r==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):r==="mouseleave"||r==="dragleave"||r==="mouseout"?(o=!0,s&&this._emitEvent(r,t,n,s,s,null),this._emitEvent(r,t,n,null,s,null),r==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(r,t,n,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var u=this.canvas,l=u.get("el");l.style.cursor=i.attr("cursor")||u.get("cursor")}},e.prototype._onmousedown=function(r,t,n){n.button===zT&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,r,t,null,null)},e.prototype._emitMouseoverEvents=function(r,t,n,i){var a=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",r,t,n,n,i),this._emitEvent("mouseleave",r,t,n,n,i),(!i||i.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",r,t,i,n,i),this._emitEvent("mouseenter",r,t,i,n,i)))},e.prototype._emitDragoverEvents=function(r,t,n,i,a){i?(i!==n&&(n&&this._emitEvent("dragleave",r,t,n,n,i),this._emitEvent("dragenter",r,t,i,n,i)),a||this._emitEvent("dragover",r,t,i)):n&&this._emitEvent("dragleave",r,t,n,n,i),a&&this._emitEvent("dragover",r,t,i)},e.prototype._afterDrag=function(r,t,n){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(t,n);i!==r&&this._emitMouseoverEvents(n,t,r,i),this.currentShape=i},e.prototype._onmouseup=function(r,t,n){if(n.button===zT){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,r,t),this._emitEvent("dragend",n,r,i),this._afterDrag(i,r,n)):(this._emitEvent("mouseup",n,r,t),t===this.mousedownShape&&this._emitEvent("click",n,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(r,t,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,r,i,t,!0)},e.prototype._onmousemove=function(r,t,n){var i=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,r,a,t,!1),this._emitEvent("drag",n,r,o);else{var s=this.mousedownPoint;if(s){var u=this.mousedownShape,l=n.timeStamp,f=l-this.mousedownTimeStamp,c=s.clientX-r.clientX,h=s.clientY-r.clientY,v=c*c+h*h;f>120||v>LJ?u&&u.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,r,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,r,a,t),this._emitEvent("mousemove",n,r,t)):(this._emitMouseoverEvents(n,r,a,t),this._emitEvent("mousemove",n,r,t))}else this._emitMouseoverEvents(n,r,a,t),this._emitEvent("mousemove",n,r,t)}},e.prototype._emitEvent=function(r,t,n,i,a,o){var s=this._getEventObj(r,t,n,i,a,o);if(i){s.shape=i,WT(i,r,s);for(var u=i.getParent();u;)u.emitDelegation(r,s),s.propagationStopped||OJ(u,r,s),s.propagationPath.push(u),u=u.getParent()}else{var l=this.canvas;WT(l,r,s)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),YT="px",HT=oI(),DJ=HT&&HT.name==="firefox",kg=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");Nt(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new IJ({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new bJ(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,n){var i=this.get("el");gT&&(i.style.width=t+YT,i.style.height=n+YT)},r.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");gT&&n&&(n.style.cursor=t)},r.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(DJ&&!st(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!st(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var i=this.getClientByEvent(t),a=i.x,o=i.y;return this.getPointByClient(a,o)},r.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},r.prototype.getPointByClient=function(t,n){var i=this.get("el"),a=i.getBoundingClientRect();return{x:t-a.left,y:n-a.top}},r.prototype.getClientByPoint=function(t,n){var i=this.get("el"),a=i.getBoundingClientRect();return{x:t+a.left,y:n+a.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},r}(vI),$g=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var a=n[i];t.add(a.clone())}return t},r}(vI),Ng=function(e){C.exports.__extends(r,e);function r(t){return e.call(this,t)||this}return r.prototype._isInBBox=function(t,n){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=n&&i.maxY>=n},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),i=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(n){var u=ba(n,[t.minX,t.minY]),l=ba(n,[t.maxX,t.minY]),f=ba(n,[t.minX,t.maxY]),c=ba(n,[t.maxX,t.maxY]);i=Math.min(u[0],l[0],f[0],c[0]),o=Math.max(u[0],l[0],f[0],c[0]),a=Math.min(u[1],l[1],f[1],c[1]),s=Math.max(u[1],l[1],f[1],c[1])}var h=this.attrs;if(h.shadowColor){var v=h.shadowBlur,g=v===void 0?0:v,d=h.shadowOffsetX,m=d===void 0?0:d,x=h.shadowOffsetY,E=x===void 0?0:x,_=i-g+m,M=o+g+m,A=a-g+E,b=s+g+E;i=Math.min(i,_),o=Math.max(o,M),a=Math.min(a,A),s=Math.max(s,b)}return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,n){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,n){var i=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,n,1];o=this.invertFromMatrix(o);var s=o[0],u=o[1],l=this._isInBBox(s,u);return this.isOnlyHitBox()?l:!!(l&&!this.isClipped(s,u)&&(this.isInShape(s,u)||i&&i.isHit(s,u)||a&&a.isHit(s,u)))},r}(fI),PI=new Map;function gi(e,r){PI.set(e,r)}function zg(e){return PI.get(e)}function bI(e){var r=e.attr(),t=r.x,n=r.y,i=r.width,a=r.height;return{x:t,y:n,width:i,height:a}}function LI(e){var r=e.attr(),t=r.x,n=r.y,i=r.r;return{x:t-i,y:n-i,width:i*2,height:i*2}}function XT(e){return Math.min.apply(null,e)}function VT(e){return Math.max.apply(null,e)}function Gr(e,r,t,n){var i=e-t,a=r-n;return Math.sqrt(i*i+a*a)}function Ov(e,r){return Math.abs(e-r)<.001}function il(e,r){var t=XT(e),n=XT(r),i=VT(e),a=VT(r);return{x:t,y:n,width:i-t,height:a-n}}function Gg(e){return(e+Math.PI*2)%(Math.PI*2)}var wr={box:function(e,r,t,n){return il([e,t],[r,n])},length:function(e,r,t,n){return Gr(e,r,t,n)},pointAt:function(e,r,t,n,i){return{x:(1-i)*e+i*t,y:(1-i)*r+i*n}},pointDistance:function(e,r,t,n,i,a){var o=(t-e)*(i-e)+(n-r)*(a-r);if(o<0)return Gr(e,r,i,a);var s=(t-e)*(t-e)+(n-r)*(n-r);return o>s?Gr(t,n,i,a):this.pointToLine(e,r,t,n,i,a)},pointToLine:function(e,r,t,n,i,a){var o=[t-e,n-r];if(pQ(o,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-r)*(a-r));var s=[-o[1],o[0]];uI(s,s);var u=[i-e,a-r];return Math.abs(hQ(u,s))},tangentAngle:function(e,r,t,n){return Math.atan2(n-r,t-e)}},BJ=1e-4;function OI(e,r,t,n,i,a){var o,s=1/0,u=[t,n],l=20;a&&a>200&&(l=a/10);for(var f=1/l,c=f/10,h=0;h<=l;h++){var v=h*f,g=[i.apply(null,e.concat([v])),i.apply(null,r.concat([v]))],d=Gr(u[0],u[1],g[0],g[1]);d<s&&(o=v,s=d)}if(o===0)return{x:e[0],y:r[0]};if(o===1){var m=e.length;return{x:e[m-1],y:r[m-1]}}s=1/0;for(var h=0;h<32&&!(c<BJ);h++){var x=o-c,E=o+c,g=[i.apply(null,e.concat([x])),i.apply(null,r.concat([x]))],d=Gr(u[0],u[1],g[0],g[1]);if(x>=0&&d<s)o=x,s=d;else{var _=[i.apply(null,e.concat([E])),i.apply(null,r.concat([E]))],M=Gr(u[0],u[1],_[0],_[1]);E<=1&&M<s?(o=E,s=M):c*=.5}}return{x:i.apply(null,e.concat([o])),y:i.apply(null,r.concat([o]))}}function RJ(e,r){for(var t=0,n=e.length,i=0;i<n;i++){var a=e[i],o=r[i],s=e[(i+1)%n],u=r[(i+1)%n];t+=Gr(a,o,s,u)}return t/2}function fo(e,r,t,n){var i=1-n;return i*i*e+2*n*i*r+n*n*t}function UT(e,r,t){var n=e+t-2*r;if(Ov(n,0))return[.5];var i=(e-r)/n;return i<=1&&i>=0?[i]:[]}function KT(e,r,t,n){return 2*(1-n)*(r-e)+2*n*(t-r)}function II(e,r,t,n,i,a,o){var s=fo(e,t,i,o),u=fo(r,n,a,o),l=wr.pointAt(e,r,t,n,o),f=wr.pointAt(t,n,i,a,o);return[[e,r,l.x,l.y,s,u],[s,u,f.x,f.y,i,a]]}function Rm(e,r,t,n,i,a,o){if(o===0)return(Gr(e,r,t,n)+Gr(t,n,i,a)+Gr(e,r,i,a))/2;var s=II(e,r,t,n,i,a,.5),u=s[0],l=s[1];return u.push(o-1),l.push(o-1),Rm.apply(null,u)+Rm.apply(null,l)}var DI={box:function(e,r,t,n,i,a){var o=UT(e,t,i)[0],s=UT(r,n,a)[0],u=[e,i],l=[r,a];return o!==void 0&&u.push(fo(e,t,i,o)),s!==void 0&&l.push(fo(r,n,a,s)),il(u,l)},length:function(e,r,t,n,i,a){return Rm(e,r,t,n,i,a,3)},nearestPoint:function(e,r,t,n,i,a,o,s){return OI([e,t,i],[r,n,a],o,s,fo)},pointDistance:function(e,r,t,n,i,a,o,s){var u=this.nearestPoint(e,r,t,n,i,a,o,s);return Gr(u.x,u.y,o,s)},interpolationAt:fo,pointAt:function(e,r,t,n,i,a,o){return{x:fo(e,t,i,o),y:fo(r,n,a,o)}},divide:function(e,r,t,n,i,a,o){return II(e,r,t,n,i,a,o)},tangentAngle:function(e,r,t,n,i,a,o){var s=KT(e,t,i,o),u=KT(r,n,a,o),l=Math.atan2(u,s);return Gg(l)}};function co(e,r,t,n,i){var a=1-i;return a*a*a*e+3*r*i*a*a+3*t*i*i*a+n*i*i*i}function qT(e,r,t,n,i){var a=1-i;return 3*(a*a*(r-e)+2*a*i*(t-r)+i*i*(n-t))}function qy(e,r,t,n){var i=-3*e+9*r-9*t+3*n,a=6*e-12*r+6*t,o=3*r-3*e,s=[],u,l,f;if(Ov(i,0))Ov(a,0)||(u=-o/a,u>=0&&u<=1&&s.push(u));else{var c=a*a-4*i*o;Ov(c,0)?s.push(-a/(2*i)):c>0&&(f=Math.sqrt(c),u=(-a+f)/(2*i),l=(-a-f)/(2*i),u>=0&&u<=1&&s.push(u),l>=0&&l<=1&&s.push(l))}return s}function BI(e,r,t,n,i,a,o,s,u){var l=co(e,t,i,o,u),f=co(r,n,a,s,u),c=wr.pointAt(e,r,t,n,u),h=wr.pointAt(t,n,i,a,u),v=wr.pointAt(i,a,o,s,u),g=wr.pointAt(c.x,c.y,h.x,h.y,u),d=wr.pointAt(h.x,h.y,v.x,v.y,u);return[[e,r,c.x,c.y,g.x,g.y,l,f],[l,f,d.x,d.y,v.x,v.y,o,s]]}function Fm(e,r,t,n,i,a,o,s,u){if(u===0)return RJ([e,t,i,o],[r,n,a,s]);var l=BI(e,r,t,n,i,a,o,s,.5),f=l[0],c=l[1];return f.push(u-1),c.push(u-1),Fm.apply(null,f)+Fm.apply(null,c)}var _f={extrema:qy,box:function(e,r,t,n,i,a,o,s){for(var u=[e,o],l=[r,s],f=qy(e,t,i,o),c=qy(r,n,a,s),h=0;h<f.length;h++)u.push(co(e,t,i,o,f[h]));for(var h=0;h<c.length;h++)l.push(co(r,n,a,s,c[h]));return il(u,l)},length:function(e,r,t,n,i,a,o,s){return Fm(e,r,t,n,i,a,o,s,3)},nearestPoint:function(e,r,t,n,i,a,o,s,u,l,f){return OI([e,t,i,o],[r,n,a,s],u,l,co,f)},pointDistance:function(e,r,t,n,i,a,o,s,u,l,f){var c=this.nearestPoint(e,r,t,n,i,a,o,s,u,l,f);return Gr(c.x,c.y,u,l)},interpolationAt:co,pointAt:function(e,r,t,n,i,a,o,s,u){return{x:co(e,t,i,o,u),y:co(r,n,a,s,u)}},divide:function(e,r,t,n,i,a,o,s,u){return BI(e,r,t,n,i,a,o,s,u)},tangentAngle:function(e,r,t,n,i,a,o,s,u){var l=qT(e,t,i,o,u),f=qT(r,n,a,s,u);return Gg(Math.atan2(f,l))}};function jT(e,r){var t=Math.abs(e);return r>0?t:t*-1}var FJ={box:function(e,r,t,n){return{x:e-t,y:r-n,width:t*2,height:n*2}},length:function(e,r,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(e,r,t,n,i,a){var o=t,s=n;if(o===0||s===0)return{x:e,y:r};for(var u=i-e,l=a-r,f=Math.abs(u),c=Math.abs(l),h=o*o,v=s*s,g=Math.PI/4,d,m,x=0;x<4;x++){d=o*Math.cos(g),m=s*Math.sin(g);var E=(h-v)*Math.pow(Math.cos(g),3)/o,_=(v-h)*Math.pow(Math.sin(g),3)/s,M=d-E,A=m-_,b=f-E,I=c-_,L=Math.hypot(A,M),F=Math.hypot(I,b),$=L*Math.asin((M*I-A*b)/(L*F)),Y=$/Math.sqrt(h+v-d*d-m*m);g+=Y,g=Math.min(Math.PI/2,Math.max(0,g))}return{x:e+jT(d,u),y:r+jT(m,l)}},pointDistance:function(e,r,t,n,i,a){var o=this.nearestPoint(e,r,t,n,i,a);return Gr(o.x,o.y,i,a)},pointAt:function(e,r,t,n,i){var a=2*Math.PI*i;return{x:e+t*Math.cos(a),y:r+n*Math.sin(a)}},tangentAngle:function(e,r,t,n,i){var a=2*Math.PI*i,o=Math.atan2(n*Math.cos(a),-t*Math.sin(a));return Gg(o)}};function kJ(e,r,t,n,i,a,o,s){return-1*t*Math.cos(i)*Math.sin(s)-n*Math.sin(i)*Math.cos(s)}function $J(e,r,t,n,i,a,o,s){return-1*t*Math.sin(i)*Math.sin(s)+n*Math.cos(i)*Math.cos(s)}function NJ(e,r,t){return Math.atan(-r/e*Math.tan(t))}function zJ(e,r,t){return Math.atan(r/(e*Math.tan(t)))}function ZT(e,r,t,n,i,a){return t*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+e}function QT(e,r,t,n,i,a){return t*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+r}function GJ(e,r,t,n){var i=Math.atan2(n*e,t*r);return(i+Math.PI*2)%(Math.PI*2)}function JT(e,r,t){return{x:e*Math.cos(t),y:r*Math.sin(t)}}function tA(e,r,t){var n=Math.cos(t),i=Math.sin(t);return[e*n-r*i,e*i+r*n]}var WJ={box:function(e,r,t,n,i,a,o){for(var s=NJ(t,n,i),u=1/0,l=-1/0,f=[a,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var h=s+c;a<o?a<h&&h<o&&f.push(h):o<h&&h<a&&f.push(h)}for(var c=0;c<f.length;c++){var v=ZT(e,r,t,n,i,f[c]);v<u&&(u=v),v>l&&(l=v)}for(var g=zJ(t,n,i),d=1/0,m=-1/0,x=[a,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var E=g+c;a<o?a<E&&E<o&&x.push(E):o<E&&E<a&&x.push(E)}for(var c=0;c<x.length;c++){var _=QT(e,r,t,n,i,x[c]);_<d&&(d=_),_>m&&(m=_)}return{x:u,y:d,width:l-u,height:m-d}},length:function(e,r,t,n,i,a,o){},nearestPoint:function(e,r,t,n,i,a,o,s,u){var l=tA(s-e,u-r,-i),f=l[0],c=l[1],h=FJ.nearestPoint(0,0,t,n,f,c),v=GJ(t,n,h.x,h.y);v<a?h=JT(t,n,a):v>o&&(h=JT(t,n,o));var g=tA(h.x,h.y,i);return{x:g[0]+e,y:g[1]+r}},pointDistance:function(e,r,t,n,i,a,o,s,u){var l=this.nearestPoint(e,r,t,n,s,u);return Gr(l.x,l.y,s,u)},pointAt:function(e,r,t,n,i,a,o,s){var u=(o-a)*s+a;return{x:ZT(e,r,t,n,i,u),y:QT(e,r,t,n,i,u)}},tangentAngle:function(e,r,t,n,i,a,o,s){var u=(o-a)*s+a,l=kJ(e,r,t,n,i,a,o,u),f=$J(e,r,t,n,i,a,o,u);return Gg(Math.atan2(f,l))}};function RI(e){for(var r=0,t=[],n=0;n<e.length-1;n++){var i=e[n],a=e[n+1],o=Gr(i[0],i[1],a[0],a[1]),s={from:i,to:a,length:o};t.push(s),r+=o}return{segments:t,totalLength:r}}function YJ(e){if(e.length<2)return 0;for(var r=0,t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];r+=Gr(n[0],n[1],i[0],i[1])}return r}function HJ(e,r){if(r>1||r<0||e.length<2)return null;var t=RI(e),n=t.segments,i=t.totalLength;if(i===0)return{x:e[0][0],y:e[0][1]};for(var a=0,o=null,s=0;s<n.length;s++){var u=n[s],l=u.from,f=u.to,c=u.length/i;if(r>=a&&r<=a+c){var h=(r-a)/c;o=wr.pointAt(l[0],l[1],f[0],f[1],h);break}a+=c}return o}function XJ(e,r){if(r>1||r<0||e.length<2)return 0;for(var t=RI(e),n=t.segments,i=t.totalLength,a=0,o=0,s=0;s<n.length;s++){var u=n[s],l=u.from,f=u.to,c=u.length/i;if(r>=a&&r<=a+c){o=Math.atan2(f[1]-l[1],f[0]-l[0]);break}a+=c}return o}function VJ(e,r,t){for(var n=1/0,i=0;i<e.length-1;i++){var a=e[i],o=e[i+1],s=wr.pointDistance(a[0],a[1],o[0],o[1],r,t);s<n&&(n=s)}return n}var FI={box:function(e){for(var r=[],t=[],n=0;n<e.length;n++){var i=e[n];r.push(i[0]),t.push(i[1])}return il(r,t)},length:function(e){return YJ(e)},pointAt:function(e,r){return HJ(e,r)},pointDistance:function(e,r,t){return VJ(e,r,t)},tangentAngle:function(e,r){return XJ(e,r)}};function eA(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function p2(e,r){var t=e.get("startArrowShape"),n=e.get("endArrowShape"),i=null,a=null;return t&&(i=t.getCanvasBBox(),r=eA(r,i)),n&&(a=n.getCanvasBBox(),r=eA(r,a)),r}function UJ(e){for(var r=e.attr(),t=r.points,n=[],i=[],a=0;a<t.length;a++){var o=t[a];n.push(o[0]),i.push(o[1])}var s=il(n,i),u=s.x,l=s.y,f=s.width,c=s.height,h={minX:u,minY:l,maxX:u+f,maxY:l+c};return h=p2(e,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function KJ(e){for(var r=e.attr(),t=r.points,n=[],i=[],a=0;a<t.length;a++){var o=t[a];n.push(o[0]),i.push(o[1])}return il(n,i)}var jy=null;function Wg(){if(!jy){var e=document.createElement("canvas");e.width=1,e.height=1,jy=e.getContext("2d")}return jy}function Yg(e,r,t){var n=1;if(Nt(e)&&(n=e.split(`
`).length),n>1){var i=qJ(r,t);return r*n+i*(n-1)}return r}function qJ(e,r){return r?r-e:e*.14}function jJ(e,r){var t=Wg(),n=0;if(st(e)||e==="")return n;if(t.save(),t.font=r,Nt(e)&&e.includes(`
`)){var i=e.split(`
`);V(i,function(a){var o=t.measureText(a).width;n<o&&(n=o)})}else n=t.measureText(e).width;return t.restore(),n}function Hg(e){var r=e.fontSize,t=e.fontFamily,n=e.fontWeight,i=e.fontStyle,a=e.fontVariant;return[i,a,n,r+"px",t].join(" ").trim()}function ZJ(e){var r=e.attr(),t=r.x,n=r.y,i=r.text,a=r.fontSize,o=r.lineHeight,s=r.font;s||(s=Hg(r));var u=jJ(i,s),l;if(!u)l={x:t,y:n,width:0,height:0};else{var f=r.textAlign,c=r.textBaseline,h=Yg(i,a,o),v={x:t,y:n-h};f&&(f==="end"||f==="right"?v.x-=u:f==="center"&&(v.x-=u/2)),c&&(c==="top"?v.y+=h:c==="middle"&&(v.y+=h/2)),l={x:v.x,y:v.y,width:u,height:h}}return l}var QJ=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,JJ=/[^\s\,]+/ig;function ttt(e){var r=e||[];if(vt(r))return r;if(Nt(r))return r=r.match(QJ),V(r,function(t,n){if(t=t.match(JJ),t[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}V(t,function(a,o){isNaN(a)||(t[o]=+a)}),r[n]=t}),r}function ett(e,r,t,n){var i=[],a=!!n,o,s,u,l,f,c,h;if(a){u=n[0],l=n[1];for(var v=0,g=e.length;v<g;v+=1){var d=e[v];u=vn([0,0],u,d),l=pn([0,0],l,d)}}for(var v=0,m=e.length;v<m;v+=1){var d=e[v];if(v===0&&!t)h=d;else if(v===m-1&&!t)c=d,i.push(h),i.push(c);else{var x=[v?v-1:m-1,v-1][t?0:1];o=e[x],s=e[t?(v+1)%m:v+1];var E=[0,0];E=Su(E,s,o),E=fi(E,E,r);var _=Dp(d,o),M=Dp(d,s),A=_+M;A!==0&&(_/=A,M/=A);var b=fi([0,0],E,-_),I=fi([0,0],E,M);c=mo([0,0],d,b),f=mo([0,0],d,I),f=vn([0,0],f,pn([0,0],s,d)),f=pn([0,0],f,vn([0,0],s,d)),b=Su([0,0],f,d),b=fi([0,0],b,-_/M),c=mo([0,0],d,b),c=vn([0,0],c,pn([0,0],o,d)),c=pn([0,0],c,vn([0,0],o,d)),I=Su([0,0],d,c),I=fi([0,0],I,M/_),f=mo([0,0],d,I),a&&(c=pn([0,0],c,u),c=vn([0,0],c,l),f=pn([0,0],f,u),f=vn([0,0],f,l)),i.push(h),i.push(c),h=f}}return t&&i.push(i.shift()),i}function rtt(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var n=!!r,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=ett(i,.4,n,t),u=i.length,l=[],f,c,h,a=0;a<u-1;a+=1)f=s[a*2],c=s[a*2+1],h=i[a+1],l.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return n&&(f=s[u],c=s[u+1],h=i[0],l.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),l}var Ef=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ntt=new RegExp("([a-z])["+Ef+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ef+"]*,?["+Ef+"]*)+)","ig"),itt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ef+"]*,?["+Ef+"]*","ig");function kI(e){if(!e)return null;if(vt(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(ntt,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(itt,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([i,o[0]]),s==="r")t.push([i].concat(o));else for(;o.length>=r[s]&&(t.push([i].concat(o.splice(0,r[s]))),!!r[s]););return""}),t}var att=/[a-z]/;function rA(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function $I(e){var r=kI(e);if(!r||!r.length)return[["M",0,0]];for(var t=!1,n=0;n<r.length;n++){var i=r[n][0];if(att.test(i)||["V","H","T","S"].indexOf(i)>=0){t=!0;break}}if(!t)return r;var a=[],o=0,s=0,u=0,l=0,f=0,c=r[0];(c[0]==="M"||c[0]==="m")&&(o=+c[1],s=+c[2],u=o,l=s,f++,a[0]=["M",o,s]);for(var n=f,h=r.length;n<h;n++){var v=r[n],g=a[n-1],d=[],i=v[0],m=i.toUpperCase();if(i!==m)switch(d[0]=m,m){case"A":d[1]=v[1],d[2]=v[2],d[3]=v[3],d[4]=v[4],d[5]=v[5],d[6]=+v[6]+o,d[7]=+v[7]+s;break;case"V":d[1]=+v[1]+s;break;case"H":d[1]=+v[1]+o;break;case"M":u=+v[1]+o,l=+v[2]+s,d[1]=u,d[2]=l;break;default:for(var x=1,E=v.length;x<E;x++)d[x]=+v[x]+(x%2?o:s)}else d=r[n];switch(m){case"Z":o=+u,s=+l;break;case"H":o=d[1],d=["L",o,s];break;case"V":s=d[1],d=["L",o,s];break;case"T":o=d[1],s=d[2];var _=rA([g[1],g[2]],[g[3],g[4]]);d=["Q",_[0],_[1],o,s];break;case"S":o=d[d.length-2],s=d[d.length-1];var M=g.length,A=rA([g[M-4],g[M-3]],[g[M-2],g[M-1]]);d=["C",A[0],A[1],d[1],d[2],o,s];break;case"M":u=d[d.length-2],l=d[d.length-1];break;default:o=d[d.length-2],s=d[d.length-1]}a.push(d)}return a}function Uh(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function km(e,r){return Uh(e)*Uh(r)?(e[0]*r[0]+e[1]*r[1])/(Uh(e)*Uh(r)):1}function nA(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(km(e,r))}function $m(e,r){return e[0]===r[0]&&e[1]===r[1]}function ott(e,r){var t=r[1],n=r[2],i=rg(ng(r[3]),Math.PI*2),a=r[4],o=r[5],s=e[0],u=e[1],l=r[6],f=r[7],c=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-f)/2,h=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-f)/2,v=c*c/(t*t)+h*h/(n*n);v>1&&(t*=Math.sqrt(v),n*=Math.sqrt(v));var g=t*t*(h*h)+n*n*(c*c),d=g?Math.sqrt((t*t*(n*n)-g)/g):1;a===o&&(d*=-1),isNaN(d)&&(d=0);var m=n?d*t*h/n:0,x=t?d*-n*c/t:0,E=(s+l)/2+Math.cos(i)*m-Math.sin(i)*x,_=(u+f)/2+Math.sin(i)*m+Math.cos(i)*x,M=[(c-m)/t,(h-x)/n],A=[(-1*c-m)/t,(-1*h-x)/n],b=nA([1,0],M),I=nA(M,A);return km(M,A)<=-1&&(I=Math.PI),km(M,A)>=1&&(I=0),o===0&&I>0&&(I=I-2*Math.PI),o===1&&I<0&&(I=I+2*Math.PI),{cx:E,cy:_,rx:$m(e,[l,f])?0:t,ry:$m(e,[l,f])?0:n,startAngle:b,endAngle:b+I,xRotation:i,arcFlag:a,sweepFlag:o}}function iA(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function NI(e){e=ttt(e);for(var r=[],t=null,n=null,i=null,a=0,o=e.length,s=0;s<o;s++){var u=e[s];n=e[s+1];var l=u[0],f={command:l,prePoint:t,params:u,startTangent:null,endTangent:null};switch(l){case"M":i=[u[1],u[2]],a=s;break;case"A":var c=ott(t,u);f.arcParams=c;break}if(l==="Z")t=i,n=e[a+1];else{var h=u.length;t=[u[h-2],u[h-1]]}n&&n[0]==="Z"&&(n=e[a],r[a]&&(r[a].prePoint=t)),f.currentPoint=t,r[a]&&$m(t,r[a].currentPoint)&&(r[a].prePoint=f.prePoint);var v=n?[n[n.length-2],n[n.length-1]]:null;f.nextPoint=v;var g=f.prePoint;if(["L","H","V"].includes(l))f.startTangent=[g[0]-t[0],g[1]-t[1]],f.endTangent=[t[0]-g[0],t[1]-g[1]];else if(l==="Q"){var d=[u[1],u[2]];f.startTangent=[g[0]-d[0],g[1]-d[1]],f.endTangent=[t[0]-d[0],t[1]-d[1]]}else if(l==="T"){var m=r[s-1],d=iA(m.currentPoint,g);m.command==="Q"?(f.command="Q",f.startTangent=[g[0]-d[0],g[1]-d[1]],f.endTangent=[t[0]-d[0],t[1]-d[1]]):(f.command="TL",f.startTangent=[g[0]-t[0],g[1]-t[1]],f.endTangent=[t[0]-g[0],t[1]-g[1]])}else if(l==="C"){var x=[u[1],u[2]],E=[u[3],u[4]];f.startTangent=[g[0]-x[0],g[1]-x[1]],f.endTangent=[t[0]-E[0],t[1]-E[1]],f.startTangent[0]===0&&f.startTangent[1]===0&&(f.startTangent=[x[0]-E[0],x[1]-E[1]]),f.endTangent[0]===0&&f.endTangent[1]===0&&(f.endTangent=[E[0]-x[0],E[1]-x[1]])}else if(l==="S"){var m=r[s-1],x=iA(m.currentPoint,g),E=[u[1],u[2]];m.command==="C"?(f.command="C",f.startTangent=[g[0]-x[0],g[1]-x[1]],f.endTangent=[t[0]-E[0],t[1]-E[1]]):(f.command="SQ",f.startTangent=[g[0]-E[0],g[1]-E[1]],f.endTangent=[t[0]-E[0],t[1]-E[1]])}else if(l==="A"){var _=.001,M=f.arcParams||{},A=M.cx,b=A===void 0?0:A,I=M.cy,L=I===void 0?0:I,F=M.rx,$=F===void 0?0:F,Y=M.ry,k=Y===void 0?0:Y,z=M.sweepFlag,S=z===void 0?0:z,T=M.startAngle,O=T===void 0?0:T,D=M.endAngle,H=D===void 0?0:D;S===0&&(_*=-1);var it=$*Math.cos(O-_)+b,pt=k*Math.sin(O-_)+L;f.startTangent=[it-i[0],pt-i[1]];var yt=$*Math.cos(O+H+_)+b,mt=k*Math.sin(O+H-_)+L;f.endTangent=[g[0]-yt,g[1]-mt]}r.push(f)}return r}var aA=function(e,r,t){return e>=r&&e<=t};function stt(e,r,t,n){var i=.001,a={x:t.x-e.x,y:t.y-e.y},o={x:r.x-e.x,y:r.y-e.y},s={x:n.x-t.x,y:n.y-t.y},u=o.x*s.y-o.y*s.x,l=u*u,f=o.x*o.x+o.y*o.y,c=s.x*s.x+s.y*s.y,h=null;if(l>i*f*c){var v=(a.x*s.y-a.y*s.x)/u,g=(a.x*o.y-a.y*o.x)/u;aA(v,0,1)&&aA(g,0,1)&&(h={x:e.x+v*o.x,y:e.y+v*o.y})}return h}var utt=1e-6;function Zy(e){return Math.abs(e)<utt?0:e<0?-1:1}function ltt(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function oA(e,r,t){var n=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=e[a],s=e[(a+1)%i];if(ltt(o,s,[r,t]))return!0;Zy(o[1]-t)>0!=Zy(s[1]-t)>0&&Zy(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function sA(e){for(var r=[],t=e.length,n=0;n<t-1;n++){var i=e[n],a=e[n+1];r.push({from:{x:i[0],y:i[1]},to:{x:a[0],y:a[1]}})}if(r.length>1){var o=e[0],s=e[t-1];r.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return r}function ftt(e,r){var t=!1;return V(e,function(n){if(stt(n.from,n.to,r.from,r.to))return t=!0,!1}),t}function uA(e){var r=e.map(function(n){return n[0]}),t=e.map(function(n){return n[1]});return{minX:Math.min.apply(null,r),maxX:Math.max.apply(null,r),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function ctt(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function htt(e,r){if(e.length<2||r.length<2)return!1;var t=uA(e),n=uA(r);if(!ctt(t,n))return!1;var i=!1;if(V(r,function(u){if(oA(e,u[0],u[1]))return i=!0,!1}),i||(V(e,function(u){if(oA(r,u[0],u[1]))return i=!0,!1}),i))return!0;var a=sA(e),o=sA(r),s=!1;return V(o,function(u){if(ftt(a,u))return s=!0,!1}),s}function vtt(e,r){for(var t=[],n=[],i=[],a=0;a<e.length;a++){var o=e[a],s=o.currentPoint,u=o.params,l=o.prePoint,f=void 0;switch(o.command){case"Q":f=DI.box(l[0],l[1],u[1],u[2],u[3],u[4]);break;case"C":f=_f.box(l[0],l[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var c=o.arcParams;f=WJ.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:t.push(s[0]),n.push(s[1]);break}f&&(o.box=f,t.push(f.x,f.x+f.width),n.push(f.y,f.y+f.height)),r&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&i.push(o)}t=t.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0}),n=n.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0});var h=Gn(t),v=Gn(n),g=mn(t),d=mn(n);if(i.length===0)return{x:h,y:v,width:g-h,height:d-v};for(var a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,m=void 0;s[0]===h?(m=Kh(o,r),h=h-m.xExtra):s[0]===g&&(m=Kh(o,r),g=g+m.xExtra),s[1]===v?(m=Kh(o,r),v=v-m.yExtra):s[1]===d&&(m=Kh(o,r),d=d+m.yExtra)}return{x:h,y:v,width:g-h,height:d-v}}function Kh(e,r){var t=e.prePoint,n=e.currentPoint,i=e.nextPoint,a=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),u=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!u||Math.sin(u)===0||hr(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),f=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));l=l>Math.PI/2?Math.PI-l:l,f=f>Math.PI/2?Math.PI-f:f;var c={xExtra:Math.cos(u/2-l)*(r/2*(1/Math.sin(u/2)))-r/2||0,yExtra:Math.cos(f-u/2)*(r/2*(1/Math.sin(u/2)))-r/2||0};return c}function ptt(e){var r=e.attr(),t=r.path,n=r.stroke,i=n?r.lineWidth:0,a=e.get("segments")||NI(t),o=vtt(a,i),s=o.x,u=o.y,l=o.width,f=o.height,c={minX:s,minY:u,maxX:s+l,maxY:u+f};return c=p2(e,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function gtt(e){var r=e.attr(),t=r.x1,n=r.y1,i=r.x2,a=r.y2,o=Math.min(t,i),s=Math.max(t,i),u=Math.min(n,a),l=Math.max(n,a),f={minX:o,maxX:s,minY:u,maxY:l};return f=p2(e,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function dtt(e){var r=e.attr(),t=r.x,n=r.y,i=r.rx,a=r.ry;return{x:t-i,y:n-a,width:i*2,height:a*2}}gi("rect",bI);gi("image",bI);gi("circle",LI);gi("marker",LI);gi("polyline",UJ);gi("polygon",KJ);gi("text",ZJ);gi("path",ptt);gi("line",gtt);gi("ellipse",dtt);var lA=0,ytt=1/2,mtt=1/2,xtt=.05,Xg=function(){function e(r){var t=r.xField,n=r.yField,i=r.adjustNames,a=i===void 0?["x","y"]:i,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=n,this.dimValuesMap=o}return e.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},e.prototype.getAdjustRange=function(r,t,n){var i=this.yField,a=n.indexOf(t),o=n.length,s,u;return!i&&this.isAdjust("y")?(s=0,u=1):o>1?(s=n[a===0?0:a-1],u=n[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(u-t)/2,a!==o-1?u-=(u-t)/2:u+=(t-n[o-2])/2):(s=t===0?0:t-.5,u=t===0?1:t+.5),{pre:s,next:u}},e.prototype.adjustData=function(r,t){var n=this,i=this.getDimValues(t);V(r,function(a,o){V(i,function(s,u){n.adjustDim(u,s,a,o)})})},e.prototype.groupData=function(r,t){return V(r,function(n){n[t]===void 0&&(n[t]=lA)}),Ga(r,t)},e.prototype.adjustDim=function(r,t,n,i){},e.prototype.getDimValues=function(r){var t=this,n=t.xField,i=t.yField,a=Te({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(u){a&&a[u]||(a[u]=na(r,u).sort(function(l,f){return l-f}))}),!i&&this.isAdjust("y")){var s="y";a[s]=[lA,1]}return a},e}(),zI={},GI=function(e){return zI[e.toLowerCase()]},Vg=function(e,r){if(GI(e))throw new Error("Adjust type '"+e+"' existed.");zI[e.toLowerCase()]=r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nm=function(e,r){return Nm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Nm(e,r)};function Ha(e,r){Nm(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Qi=function(){return Qi=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Qi.apply(this,arguments)},wtt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=t.marginRatio,a=i===void 0?ytt:i,o=t.dodgeRatio,s=o===void 0?mtt:o,u=t.dodgeBy,l=t.intervalPadding,f=t.dodgePadding,c=t.xDimensionLength,h=t.groupNum,v=t.defaultSize,g=t.maxColumnWidth,d=t.minColumnWidth,m=t.columnWidthRatio,x=t.customOffset;return n.marginRatio=a,n.dodgeRatio=s,n.dodgeBy=u,n.intervalPadding=l,n.dodgePadding=f,n.xDimensionLegenth=c,n.groupNum=h,n.defaultSize=v,n.maxColumnWidth=g,n.minColumnWidth=d,n.columnWidthRatio=m,n.customOffset=x,n}return r.prototype.process=function(t){var n=dn(t),i=En(n),a=this.dodgeBy,o=a?qP(i,a):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(t,n,i,a){var o=this,s=this.customOffset,u=this.getDistribution(t),l=this.groupData(i,t);return V(l,function(f,c){var h;n.length===1?h={pre:n[0]-1,next:n[0]+1}:h=o.getAdjustRange(t,parseFloat(c),n),V(f,function(v){var g=v[t],d=u[g],m=d.indexOf(a);if(st(s))v[t]=o.getDodgeOffset(h,m,d.length);else{var x=h.pre,E=h.next;v[t]=Lt(s)?s(v,h):(x+E)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,n,i){var a=this,o=a.dodgeRatio,s=a.marginRatio,u=a.intervalPadding,l=a.dodgePadding,f=t.pre,c=t.next,h=c-f,v;if(!st(u)&&st(l)&&u>=0){var g=this.getIntervalOnlyOffset(i,n);v=f+g}else if(!st(l)&&st(u)&&l>=0){var g=this.getDodgeOnlyOffset(i,n);v=f+g}else if(!st(u)&&!st(l)&&u>=0&&l>=0){var g=this.getIntervalAndDodgeOffset(i,n);v=f+g}else{var d=h*o/i,m=s*d,g=1/2*(h-i*d-(i-1)*m)+((n+1)*d+n*m)-1/2*d-1/2*h;v=(f+c)/2+g}return v},r.prototype.getIntervalOnlyOffset=function(t,n){var i=this,a=i.defaultSize,o=i.intervalPadding,s=i.xDimensionLegenth,u=i.groupNum,l=i.dodgeRatio,f=i.maxColumnWidth,c=i.minColumnWidth,h=i.columnWidthRatio,v=o/s,g=(1-(u-1)*v)/u*l/(t-1),d=((1-v*(u-1))/u-g*(t-1))/t;if(d=st(h)?d:1/u/t*h,!st(f)){var m=f/s;d=Math.min(d,m)}if(!st(c)){var x=c/s;d=Math.max(d,x)}d=a?a/s:d,g=((1-(u-1)*v)/u-t*d)/(t-1);var E=((1/2+n)*d+n*g+1/2*v)*u-v/2;return E},r.prototype.getDodgeOnlyOffset=function(t,n){var i=this,a=i.defaultSize,o=i.dodgePadding,s=i.xDimensionLegenth,u=i.groupNum,l=i.marginRatio,f=i.maxColumnWidth,c=i.minColumnWidth,h=i.columnWidthRatio,v=o/s,g=1*l/(u-1),d=((1-g*(u-1))/u-v*(t-1))/t;if(d=h?1/u/t*h:d,!st(f)){var m=f/s;d=Math.min(d,m)}if(!st(c)){var x=c/s;d=Math.max(d,x)}d=a?a/s:d,g=(1-(d*t+v*(t-1))*u)/(u-1);var E=((1/2+n)*d+n*v+1/2*g)*u-g/2;return E},r.prototype.getIntervalAndDodgeOffset=function(t,n){var i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.xDimensionLegenth,u=i.groupNum,l=a/s,f=o/s,c=((1-l*(u-1))/u-f*(t-1))/t,h=((1/2+n)*c+n*f+1/2*l)*u-l/2;return h},r.prototype.getDistribution=function(t){var n=this.adjustDataArray,i=this.cacheMap,a=i[t];return a||(a={},V(n,function(o,s){var u=na(o,t);u.length||u.push(0),V(u,function(l){a[l]||(a[l]=[]),a[l].push(s)})}),i[t]=a),a},r}(Xg);function _tt(e,r){return(r-e)*Math.random()+e}var Ett=function(e){Ha(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=dn(t),i=En(n);return this.adjustData(n,i),n},r.prototype.adjustDim=function(t,n,i){var a=this,o=this.groupData(i,t);return V(o,function(s,u){return a.adjustGroup(s,t,parseFloat(u),n)})},r.prototype.getAdjustOffset=function(t){var n=t.pre,i=t.next,a=(i-n)*xtt;return _tt(n+a,i-a)},r.prototype.adjustGroup=function(t,n,i,a){var o=this,s=this.getAdjustRange(n,i,a);return V(t,function(u){u[n]=o.getAdjustOffset(s)}),t},r}(Xg),Qy=ab,Mtt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this,i=t.adjustNames,a=i===void 0?["y"]:i,o=t.height,s=o===void 0?NaN:o,u=t.size,l=u===void 0?10:u,f=t.reverseOrder,c=f===void 0?!1:f;return n.adjustNames=a,n.height=s,n.size=l,n.reverseOrder=c,n}return r.prototype.process=function(t){var n=this,i=n.yField,a=n.reverseOrder,o=i?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var n=this,i=n.xField,a=n.yField,o=n.reverseOrder,s=o?this.reverse(t):t,u=new Qy,l=new Qy;return s.map(function(f){return f.map(function(c){var h,v=j(c,i,0),g=j(c,[a]),d=v.toString();if(g=vt(g)?g[1]:g,!st(g)){var m=g>=0?u:l;m.has(d)||m.set(d,0);var x=m.get(d),E=g+x;return m.set(d,E),Qi(Qi({},c),(h={},h[a]=[x,E],h))}return c})})},r.prototype.processOneDimStack=function(t){var n=this,i=this,a=i.xField,o=i.height,s=i.reverseOrder,u="y",l=s?this.reverse(t):t,f=new Qy;return l.map(function(c){return c.map(function(h){var v,g=n.size,d=h[a],m=g*2/o;f.has(d)||f.set(d,m/2);var x=f.get(d);return f.set(d,x+m),Qi(Qi({},h),(v={},v[u]=x,v))})})},r}(Xg),Ctt=function(e){Ha(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=En(t),i=this,a=i.xField,o=i.yField,s=this.getXValuesMaxMap(n),u=Math.max.apply(Math,Object.keys(s).map(function(l){return s[l]}));return Nr(t,function(l){return Nr(l,function(f){var c,h,v=f[o],g=f[a];if(vt(v)){var d=(u-s[g])/2;return Qi(Qi({},f),(c={},c[o]=Nr(v,function(x){return d+x}),c))}var m=(u-v)/2;return Qi(Qi({},f),(h={},h[o]=[m,v+m],h))})})},r.prototype.getXValuesMaxMap=function(t){var n=this,i=this,a=i.xField,o=i.yField,s=Ga(t,function(u){return u[a]});return rb(s,function(u){return n.getDimMaxValue(u,o)})},r.prototype.getDimMaxValue=function(t,n){var i=Nr(t,function(o){return j(o,n,[])}),a=En(i);return Math.max.apply(Math,a)},r}(Xg);Vg("Dodge",wtt);Vg("Jitter",Ett);Vg("Stack",Mtt);Vg("Symmetric",Ctt);var fA=function(e,r){return Nt(r)?r:e.invert(e.scale(r))},xc=function(){function e(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return e.prototype.mapping=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.map(function(a,o){return r._toOriginParam(a,r.scales[o])});return this.callback.apply(this,i)},e.prototype.getLinearValue=function(r){var t=this.values.length-1,n=Math.floor(t*r),i=t*r-n,a=this.values[n],o=n===t?a:this.values[n+1];return a+(o-a)*i},e.prototype.getNames=function(){for(var r=this.scales,t=this.names,n=Math.min(r.length,t.length),i=[],a=0;a<n;a+=1)i.push(t[a]);return i},e.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},e.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},e.prototype.defaultCallback=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(i,a){var o=r.scales[a];return o.type==="identity"?o.values[0]:r._getAttributeValue(o,i)})},e.prototype._parseCfg=function(r){var t=this,n=r.type,i=n===void 0?"base":n,a=r.names,o=a===void 0?[]:a,s=r.scales,u=s===void 0?[]:s,l=r.values,f=l===void 0?[]:l,c=r.callback;this.type=i,this.scales=u,this.values=f,this.names=o,this.callback=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];if(c){var g=c.apply(void 0,h);if(!st(g))return[g]}return t.defaultCallback.apply(t,h)}},e.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var n=r.translate(t);return this.values[n%this.values.length]}var i=r.scale(t);return this.getLinearValue(i)},e.prototype._toOriginParam=function(r,t){return t.isLinear?r:vt(r)?r.map(function(n){return fA(t,n)}):fA(t,r)},e}(),Stt=/rgba?\(([\s.,0-9]+)\)/,Ttt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Att=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Ptt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,btt=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},Ltt=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e},Jy=function(e,r,t,n){return e[n]+(r[n]-e[n])*t};function WI(e){return"#"+t1(e[0])+t1(e[1])+t1(e[2])}var YI=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},t1=function(e){var r=Math.round(e).toString(16);return r.length===1?"0"+r:r},Ott=function(e,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),n=e.length-1,i=Math.floor(n*t),a=n*t-i,o=e[i],s=i===n?o:e[i+1];return WI([Jy(o,s,a,0),Jy(o,s,a,1),Jy(o,s,a,2)])},qh,HI=function(e){if(e[0]==="#"&&e.length===7)return e;qh||(qh=Ltt()),qh.style.color=e;var r=document.defaultView.getComputedStyle(qh,"").getPropertyValue("color"),t=Stt.exec(r),n=t[1].split(/\s*,\s*/).map(function(i){return Number(i)});return r=WI(n),r},Itt=function(e){var r=Nt(e)?e.split("-"):e,t=Nr(r,function(n){return YI(n.indexOf("#")===-1?HI(n):n)});return function(n){return Ott(t,n)}},Dtt=function(e){if(btt(e)){var r,t=void 0;if(e[0]==="l"){var n=Ttt.exec(e),i=+n[1]+90;t=n[2],r="linear-gradient("+i+"deg, "}else if(e[0]==="r"){r="radial-gradient(";var n=Att.exec(e);t=n[4]}var a=t.match(Ptt);return V(a,function(o,s){var u=o.split(":");r+=u[1]+" "+u[0]*100+"%",s!==a.length-1&&(r+=", ")}),r+=")",r}return e},Uf={rgb2arr:YI,gradient:Itt,toRGB:ac(HI),toCSSGradient:Dtt},Btt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this;return n.type="color",n.names=["color"],Nt(n.values)&&(n.linear=!0),n.gradient=Uf.gradient(n.values),n}return r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(xc),Rtt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return r}(xc),Ftt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return r.prototype.mapping=function(t,n){var i=this.scales,a=i[0],o=i[1];return st(t)||st(n)?[]:[vt(t)?t.map(function(s){return a.scale(s)}):a.scale(t),vt(n)?n.map(function(s){return o.scale(s)}):o.scale(n)]},r}(xc),ktt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return r.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},r}(xc),$tt=function(e){Ha(r,e);function r(t){var n=e.call(this,t)||this;return n.type="size",n.names=["size"],n}return r}(xc),XI={};function Ntt(e){return XI[e]}function sa(e,r){XI[e]=r}var g2=function(){function e(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return e.prototype.translate=function(r){return r},e.prototype.change=function(r){Te(this.__cfg__,r),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var r=this;return Nr(this.ticks,function(t,n){return be(t)?t:{text:r.getText(t,n),tickValue:t,value:r.scale(t)}})},e.prototype.getText=function(r,t){var n=this.formatter,i=n?n(r,t):r;return st(i)||!Lt(i.toString)?"":i.toString()},e.prototype.getConfig=function(r){return this.__cfg__[r]},e.prototype.init=function(){Te(this,this.__cfg__),this.setDomain(),Di(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if(Nt(r)){var n=Ntt(r);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else Lt(r)&&(t=r(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(r,t,n){return Zt(r)?(r-t)/(n-t):NaN},e.prototype.calcValue=function(r,t,n){return t+r*(n-t)},e}(),Ug=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=Zt(t)?t:NaN),n},r.prototype.scale=function(t){var n=this.translate(t),i=this.calcPercent(n,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var n=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(n*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},r.prototype.getText=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=t;return Zt(t)&&!this.values.includes(t)&&(a=this.values[a]),e.prototype.getText.apply(this,C.exports.__spreadArrays([a],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if(st(this.getConfig("min"))&&(this.min=0),st(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(g2),VI=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,uo="\\d\\d?",io="\\d\\d",ztt="\\d{3}",Gtt="\\d{4}",Mf="[^\\s]+",UI=/\[([^]*?)\]/gm;function KI(e,r){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n].substr(0,r));return t}var cA=function(e){return function(r,t){var n=t[e].map(function(a){return a.toLowerCase()}),i=n.indexOf(r.toLowerCase());return i>-1?i:null}};function Io(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0,i=r;n<i.length;n++){var a=i[n];for(var o in a)e[o]=a[o]}return e}var qI=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jI=["January","February","March","April","May","June","July","August","September","October","November","December"],Wtt=KI(jI,3),Ytt=KI(qI,3),d2={dayNamesShort:Ytt,dayNames:qI,monthNamesShort:Wtt,monthNames:jI,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},$p=Io({},d2),ZI=function(e){return $p=Io($p,e)},hA=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},sn=function(e,r){for(r===void 0&&(r=2),e=String(e);e.length<r;)e="0"+e;return e},Htt={D:function(e){return String(e.getDate())},DD:function(e){return sn(e.getDate())},Do:function(e,r){return r.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return sn(e.getDay())},ddd:function(e,r){return r.dayNamesShort[e.getDay()]},dddd:function(e,r){return r.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return sn(e.getMonth()+1)},MMM:function(e,r){return r.monthNamesShort[e.getMonth()]},MMMM:function(e,r){return r.monthNames[e.getMonth()]},YY:function(e){return sn(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return sn(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return sn(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return sn(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return sn(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return sn(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return sn(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return sn(e.getMilliseconds(),3)},a:function(e,r){return e.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(e,r){return e.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+sn(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4)},Z:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+sn(Math.floor(Math.abs(r)/60),2)+":"+sn(Math.abs(r)%60,2)}},vA=function(e){return+e-1},pA=[null,uo],gA=[null,Mf],dA=["isPm",Mf,function(e,r){var t=e.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],yA=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var r=(e+"").match(/([+-]|\d\d)/gi);if(r){var t=+r[1]*60+parseInt(r[2],10);return r[0]==="+"?t:-t}return 0}],Xtt={D:["day",uo],DD:["day",io],Do:["day",uo+Mf,function(e){return parseInt(e,10)}],M:["month",uo,vA],MM:["month",io,vA],YY:["year",io,function(e){var r=new Date,t=+(""+r.getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",uo,void 0,"isPm"],hh:["hour",io,void 0,"isPm"],H:["hour",uo],HH:["hour",io],m:["minute",uo],mm:["minute",io],s:["second",uo],ss:["second",io],YYYY:["year",Gtt],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",io,function(e){return+e*10}],SSS:["millisecond",ztt],d:pA,dd:pA,ddd:gA,dddd:gA,MMM:["month",Mf,cA("monthNamesShort")],MMMM:["month",Mf,cA("monthNames")],a:dA,A:dA,ZZ:yA,Z:yA},Np={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},QI=function(e){return Io(Np,e)},JI=function(e,r,t){if(r===void 0&&(r=Np.default),t===void 0&&(t={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");r=Np[r]||r;var n=[];r=r.replace(UI,function(a,o){return n.push(o),"@@@"});var i=Io(Io({},$p),t);return r=r.replace(VI,function(a){return Htt[a](e,i)}),r.replace(/@@@/g,function(){return n.shift()})};function t3(e,r,t){if(t===void 0&&(t={}),typeof r!="string")throw new Error("Invalid format in fecha parse");if(r=Np[r]||r,e.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=r.replace(UI,function(M,A){return o.push(hA(A)),"@@@"}),u={},l={};s=hA(s).replace(VI,function(M){var A=Xtt[M],b=A[0],I=A[1],L=A[3];if(u[b])throw new Error("Invalid format. "+b+" specified twice in format");return u[b]=!0,L&&(l[L]=!0),a.push(A),"("+I+")"}),Object.keys(l).forEach(function(M){if(!u[M])throw new Error("Invalid format. "+M+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=e.match(new RegExp(s,"i"));if(!f)return null;for(var c=Io(Io({},$p),t),h=1;h<f.length;h++){var v=a[h-1],g=v[0],d=v[2],m=d?d(f[h],c):+f[h];if(m==null)return null;i[g]=m}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var x;if(i.timezoneOffset==null){x=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var E=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,_=E.length;h<_;h++)if(u[E[h][0]]&&i[E[h][0]]!==x[E[h][1]]())return null}else if(x=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return x}var e3={format:JI,parse:t3,defaultI18n:d2,setGlobalDateI18n:ZI,setGlobalDateMasks:QI},Vtt=Object.freeze(Object.defineProperty({__proto__:null,default:e3,assign:Io,format:JI,parse:t3,defaultI18n:d2,setGlobalDateI18n:ZI,setGlobalDateMasks:QI},Symbol.toStringTag,{value:"Module"}));function Utt(e){return function(r,t,n,i){for(var a=st(n)?0:n,o=st(i)?r.length:i;a<o;){var s=a+o>>>1;e(r[s])>t?o=s:a=s+1}return a}}var mA="format";function r3(e,r){var t=Vtt[mA]||e3[mA];return t(e,r)}function zp(e){return Nt(e)&&(e.indexOf("T")>0?e=new Date(e).getTime():e=new Date(e.replace(/-/gi,"/")).getTime()),sx(e)&&(e=e.getTime()),e}var Ai=1e3,ys=60*Ai,ms=60*ys,La=24*ms,Cf=La*31,xA=La*365,Gl=[["HH:mm:ss",Ai],["HH:mm:ss",Ai*10],["HH:mm:ss",Ai*30],["HH:mm",ys],["HH:mm",ys*10],["HH:mm",ys*30],["HH",ms],["HH",ms*6],["HH",ms*12],["YYYY-MM-DD",La],["YYYY-MM-DD",La*4],["YYYY-WW",La*7],["YYYY-MM",Cf],["YYYY-MM",Cf*4],["YYYY-MM",Cf*6],["YYYY",La*380]];function Ktt(e,r,t){var n=(r-e)/t,i=Utt(function(o){return o[1]})(Gl,n)-1,a=Gl[i];return i<0?a=Gl[0]:i>=Gl.length&&(a=vr(Gl)),a}var qtt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="timeCat",t}return r.prototype.translate=function(t){t=zp(t);var n=this.values.indexOf(t);return n===-1&&(Zt(t)&&t<this.values.length?n=t:n=NaN),n},r.prototype.getText=function(t,n){var i=this.translate(t);if(i>-1){var a=this.values[i],o=this.formatter;return a=o?o(a,n):r3(a,this.mask),a}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;V(t,function(n,i){t[i]=zp(n)}),t.sort(function(n,i){return n-i}),e.prototype.setDomain.call(this)},r}(Ug),Kg=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return r.prototype.scale=function(t){if(st(t))return NaN;var n=this.rangeMin(),i=this.rangeMax(),a=this.max,o=this.min;if(a===o)return n;var s=this.getScalePercent(t);return n+s*(i-n)},r.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=xn(t),i=vr(t);n<this.min&&(this.min=n),i>this.max&&(this.max=i),st(this.minLimit)||(this.min=n),st(this.maxLimit)||(this.max=i)},r.prototype.setDomain=function(){var t=HP(this.values),n=t.min,i=t.max;st(this.min)&&(this.min=n),st(this.max)&&(this.max=i),this.min>this.max&&(this.min=n,this.max=i)},r.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=Xn(n,function(i){return i>=t.min&&i<=t.max})),n},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;return(t-i)/(n-i)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(g2),qg=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(Kg);function ho(e,r){var t=Math.E,n;return r>=0?n=Math.pow(t,Math.log(r)/e):n=Math.pow(t,Math.log(-r)/e)*-1,n}function ai(e,r){return e===1?1:Math.log(r)/Math.log(e)}function n3(e,r,t){st(t)&&(t=Math.max.apply(null,e));var n=t;return V(e,function(i){i>0&&i<n&&(n=i)}),n===t&&(n=t/r),n>1&&(n=1),n}var jtt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="log",t}return r.prototype.invert=function(t){var n=this.base,i=ai(n,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,u=this.positiveMin;if(u){if(t===0)return 0;s=ai(n,u/n);var l=1/(i-s)*o;if(t<l)return t/l*u}else s=ai(n,this.min);var f=(t-a)/o,c=f*(i-s)+s;return Math.pow(n,c)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=n3(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;if(n===i||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(i=o*1/a);var s;return t<o?s=t/o/(ai(a,n)-ai(a,i)):s=(ai(a,t)-ai(a,i))/(ai(a,n)-ai(a,i)),s},r}(Kg),Ztt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pow",t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t),i=this.exponent,a=ho(i,this.max),o=ho(i,this.min),s=n*(a-o)+o,u=s>=0?1:-1;return Math.pow(s,i)*u},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;if(n===i)return 0;var a=this.exponent,o=(ho(a,t)-ho(a,i))/(ho(a,n)-ho(a,i));return o},r}(Kg),Qtt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="time",t}return r.prototype.getText=function(t,n){var i=this.translate(t),a=this.formatter;return a?a(i,n):r3(i,this.mask)},r.prototype.scale=function(t){var n=t;return(Nt(n)||sx(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},r.prototype.translate=function(t){return zp(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),i=this.getConfig("max");if((!st(n)||!Zt(n))&&(this.min=this.translate(this.min)),(!st(i)||!Zt(i))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,u=0;V(t,function(l){var f=zp(l);if(isNaN(f))throw new TypeError("Invalid Time: "+l+" in time scale!");o>f?(s=o,o=f):s>f&&(s=f),u<f&&(u=f),a.push(f)}),t.length>1&&(this.minTickInterval=s-o),st(n)&&(this.min=o),st(i)&&(this.max=u)}},r}(qg),i3=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantize",t}return r.prototype.invert=function(t){var n=this.ticks,i=n.length,a=this.getInvertPercent(t),o=Math.floor(a*(i-1));if(o>=i-1)return vr(n);if(o<0)return xn(n);var s=n[o],u=n[o+1],l=o/(i-1),f=(o+1)/(i-1);return s+(a-l)/(f-l)*(u-s)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||(vr(t)!==this.max&&t.push(this.max),xn(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var n=this.ticks;if(t<xn(n))return 0;if(t>vr(n))return 1;var i=0;return V(n,function(a,o){if(t>=a)i=o;else return!1}),i/(n.length-1)},r}(Kg),Jtt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantile",t}return r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(i3),a3={};function zm(e){return a3[e]}function ua(e,r){if(zm(e))throw new Error("type '"+e+"' existed.");a3[e]=r}var tet=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&Zt(t)?t:this.range[0]},r.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},r}(g2);function o3(e){var r=e.values,t=e.tickInterval,n=e.tickCount,i=e.showLast;if(Zt(t)){var a=Xn(r,function(g,d){return d%t===0}),o=vr(r);return i&&vr(a)!==o&&a.push(o),a}var s=r.length,u=e.min,l=e.max;if(st(u)&&(u=0),st(l)&&(l=r.length-1),!Zt(n)||n>=s)return r.slice(u,l+1);if(n<=0||l<=0)return[];for(var f=n===1?s:Math.floor(s/(n-1)),c=[],h=u,v=0;v<n&&!(h>=l);v++)h=Math.min(u+v*f,l),v===n-1&&i?c.push(r[l]):c.push(r[h]);return c}function eet(e){var r=e.min,t=e.max,n=e.nice,i=e.tickCount,a=new ret;return a.domain([r,t]),n&&a.nice(i),a.ticks(i)}var e1=5,wA=Math.sqrt(50),_A=Math.sqrt(10),EA=Math.sqrt(2),ret=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},e.prototype.nice=function(r){var t,n;r===void 0&&(r=e1);var i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],u=this._domain[o],l;return u<s&&(t=[u,s],s=t[0],u=t[1],n=[o,a],a=n[0],o=n[1]),l=Iv(s,u,r),l>0?(s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l,l=Iv(s,u,r)):l<0&&(s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l,l=Iv(s,u,r)),l>0?(i[a]=Math.floor(s/l)*l,i[o]=Math.ceil(u/l)*l,this.domain(i)):l<0&&(i[a]=Math.ceil(s*l)/l,i[o]=Math.floor(u*l)/l,this.domain(i)),this},e.prototype.ticks=function(r){return r===void 0&&(r=e1),net(this._domain[0],this._domain[this._domain.length-1],r||e1)},e}();function net(e,r,t){var n,i=-1,a,o,s;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(a=e,e=r,r=a),(s=Iv(e,r,t))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),r=Math.floor(r/s),o=new Array(a=Math.ceil(r-e+1));++i<a;)o[i]=(e+i)*s;else for(e=Math.floor(e*s),r=Math.ceil(r*s),o=new Array(a=Math.ceil(e-r+1));++i<a;)o[i]=(e-i)/s;return n&&o.reverse(),o}function Iv(e,r,t){var n=(r-e)/Math.max(0,t),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=wA?10:a>=_A?5:a>=EA?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=wA?10:a>=_A?5:a>=EA?2:1)}function MA(e,r,t){var n;return t==="ceil"?n=Math.ceil(e/r):t==="floor"?n=Math.floor(e/r):n=Math.round(e/r),n*r}function y2(e,r,t){var n=MA(e,t,"floor"),i=MA(r,t,"ceil");n=mv(n,t),i=mv(i,t);for(var a=[],o=Math.max((i-n)/(Math.pow(2,12)-1),t),s=n;s<=i;s=s+o){var u=mv(s,o);a.push(u)}return{min:n,max:i,ticks:a}}function m2(e,r,t){var n,i=e.minLimit,a=e.maxLimit,o=e.min,s=e.max,u=e.tickCount,l=u===void 0?5:u,f=st(i)?st(r)?o:r:i,c=st(a)?st(t)?s:t:a;if(f>c&&(n=[f,c],c=n[0],f=n[1]),l<=2)return[f,c];for(var h=(c-f)/(l-1),v=[],g=0;g<l;g++)v.push(f+h*g);return v}function iet(e){var r=e.min,t=e.max,n=e.tickInterval,i=e.minLimit,a=e.maxLimit,o=eet(e);return!st(i)||!st(a)?m2(e,xn(o),vr(o)):n?y2(r,t,n).ticks:o}function ss(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var aet=[1,5,2,2.5,4,3],CA=Number.EPSILON*100;function oet(e,r){return(e%r+r)%r}function set(e){return Math.round(e*1e12)/1e12}function uet(e,r,t,n,i,a){var o=Zr(r),s=fx(r,e),u=0,l=oet(n,a);return(l<CA||a-l<CA)&&n<=0&&i>=0&&(u=1),1-s/(o-1)-t+u}function fet(e,r,t){var n=Zr(r),i=fx(r,e),a=1;return 1-i/(n-1)-t+a}function cet(e,r,t,n,i,a){var o=(e-1)/(a-i),s=(r-1)/(Math.max(a,n)-Math.min(t,i));return 2-Math.max(o/s,s/o)}function het(e,r){return e>=r?2-(e-1)/(r-1):1}function vet(e,r,t,n){var i=r-e;return 1-.5*(Math.pow(r-n,2)+Math.pow(e-t,2))/Math.pow(.1*i,2)}function pet(e,r,t){var n=r-e;if(t>n){var i=(t-n)/2;return 1-Math.pow(i,2)/Math.pow(.1*n,2)}return 1}function get(){return 1}function det(e,r,t,n,i,a){t===void 0&&(t=5),n===void 0&&(n=!0),i===void 0&&(i=aet),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(r)||typeof e!="number"||typeof r!="number"||!o)return{min:0,max:0,ticks:[]};if(r-e<1e-15||o===1)return{min:e,max:r,ticks:[e]};if(r-e>1e148){var s=t||5,u=(r-e)/s;return{min:e,max:r,ticks:Array(s).fill(null).map(function(yt,mt){return ss(e+u*mt)})}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var c=0;c<i.length;c+=1){var h=i[c],v=fet(h,i,f);if(a[0]*v+a[1]+a[2]+a[3]<l.score){f=1/0;break}for(var g=2;g<1/0;){var d=het(g,o);if(a[0]*v+a[1]+a[2]*d+a[3]<l.score)break;for(var m=(r-e)/(g+1)/f/h,x=Math.ceil(Math.log10(m));x<1/0;){var E=f*h*Math.pow(10,x),_=pet(e,r,E*(g-1));if(a[0]*v+a[1]*_+a[2]*d+a[3]<l.score)break;var M=Math.floor(r/E)*f-(g-1)*f,A=Math.ceil(e/E)*f;if(M<=A)for(var s=A-M,b=0;b<=s;b+=1){var I=M+b,L=I*(E/f),F=L+E*(g-1),$=E,Y=uet(h,i,f,L,F,$),k=vet(e,r,L,F),z=cet(g,o,e,r,L,F),S=get(),T=a[0]*Y+a[1]*k+a[2]*z+a[3]*S;T>l.score&&(!n||L<=e&&F>=r)&&(l.lmin=L,l.lmax=F,l.lstep=$,l.score=T)}x+=1}g+=1}}f+=1}var O=ss(l.lmax),D=ss(l.lmin),H=ss(l.lstep),it=Math.floor(set((O-D)/H))+1,pt=new Array(it);pt[0]=ss(D);for(var c=1;c<it;c++)pt[c]=ss(pt[c-1]+H);return{min:Math.min(e,xn(pt)),max:Math.max(r,vr(pt)),ticks:pt}}function yet(e){var r=e.min,t=e.max,n=e.tickCount,i=e.nice,a=e.tickInterval,o=e.minLimit,s=e.maxLimit,u=det(r,t,n,i).ticks;return!st(o)||!st(s)?m2(e,xn(u),vr(u)):a?y2(r,t,a).ticks:u}function met(e){var r=e.base,t=e.tickCount,n=e.min,i=e.max,a=e.values,o,s=ai(r,i);if(n>0)o=Math.floor(ai(r,n));else{var u=n3(a,r,i);o=Math.floor(ai(r,u))}for(var l=s-o,f=Math.ceil(l/t),c=[],h=o;h<s+f;h=h+f)c.push(Math.pow(r,h));return n<=0&&c.unshift(0),c}function s3(e,r,t){if(t===void 0&&(t=5),e===r)return{max:r,min:e,ticks:[e]};var n=t<0?0:Math.round(t);if(n===0)return{max:r,min:e,ticks:[]};var i=1.5,a=.5+1.5*i,o=r-e,s=o/n,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<i*(s-l)&&(l=2*u,5*u-s<a*(s-l)&&(l=5*u,10*u-s<i*(s-l)&&(l=10*u)));for(var f=Math.ceil(r/l),c=Math.floor(e/l),h=Math.max(f*l,r),v=Math.min(c*l,e),g=Math.floor((h-v)/l)+1,d=new Array(g),m=0;m<g;m++)d[m]=ss(v+m*l);return{min:v,max:h,ticks:d}}function xet(e){var r=e.exponent,t=e.tickCount,n=Math.ceil(ho(r,e.max)),i=Math.floor(ho(r,e.min)),a=s3(i,n,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,r)*s})}function wet(e,r){var t=e.length*r;return r===1?e[e.length-1]:r===0?e[0]:t%1!==0?e[Math.ceil(t)-1]:e.length%2===0?(e[t-1]+e[t])/2:e[t]}function _et(e){var r=e.tickCount,t=e.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(s,u){return s-u}),i=[],a=0;a<r;a++){var o=a/(r-1);i.push(wet(n,o))}return i}function Eet(e){var r=e.min,t=e.max,n=e.tickCount,i=e.tickInterval,a=e.minLimit,o=e.maxLimit,s=s3(r,t,n).ticks;return!st(a)||!st(o)?m2(e,xn(s),vr(s)):i?y2(r,t,i).ticks:s}function Met(e){var r=e.min,t=e.max,n=e.minTickInterval,i=e.tickInterval,a=e.tickCount;if(i)a=Math.ceil((t-r)/i);else{i=Ktt(r,t,a)[1];var o=(t-r)/i,s=o/a;s>1&&(i=i*Math.ceil(s)),n&&i<n&&(i=n)}i=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),i);for(var u=[],l=r;l<t+i;l+=i)u.push(l);return u}function Cet(e){var r=o3(C.exports.__assign({showLast:!0},e));return r}function Gp(e){return new Date(e).getFullYear()}function Tet(e){return new Date(e,0,1).getTime()}function Gm(e){return new Date(e).getMonth()}function Aet(e,r){var t=Gp(e),n=Gp(r),i=Gm(e),a=Gm(r);return(n-t)*12+(a-i)%12}function Pet(e,r){return new Date(e,r,1).getTime()}function bet(e,r){return Math.ceil((r-e)/La)}function Let(e,r){return Math.ceil((r-e)/ms)}function Oet(e,r){return Math.ceil((r-e)/(60*1e3))}function Iet(e){var r=e.min,t=e.max,n=e.minTickInterval,i=e.tickCount,a=e.tickInterval,o=[];a||(a=(t-r)/i,n&&a<n&&(a=n)),a=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),a);var s=Gp(r);if(a>xA)for(var u=Gp(t),l=Math.ceil(a/xA),f=s;f<=u+l;f=f+l)o.push(Tet(f));else if(a>Cf)for(var c=Math.ceil(a/Cf),h=Gm(r),v=Aet(r,t),f=0;f<=v+c;f=f+c)o.push(Pet(s,f+h));else if(a>La)for(var g=new Date(r),d=g.getFullYear(),m=g.getMonth(),x=g.getDate(),E=Math.ceil(a/La),_=bet(r,t),f=0;f<_+E;f=f+E)o.push(new Date(d,m,x+f).getTime());else if(a>ms)for(var g=new Date(r),d=g.getFullYear(),m=g.getMonth(),E=g.getDate(),M=g.getHours(),A=Math.ceil(a/ms),b=Let(r,t),f=0;f<=b+A;f=f+A)o.push(new Date(d,m,E,M+f).getTime());else if(a>ys)for(var I=Oet(r,t),L=Math.ceil(a/ys),f=0;f<=I+L;f=f+L)o.push(r+f*ys);else{var F=a;F<Ai&&(F=Ai);for(var $=Math.floor(r/Ai)*Ai,Y=Math.ceil((t-r)/Ai),k=Math.ceil(F/Ai),f=0;f<Y+k;f=f+k)o.push($+f*Ai)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}sa("cat",o3);sa("time-cat",Cet);sa("wilkinson-extended",yet);sa("r-pretty",Eet);sa("time",Met);sa("time-pretty",Iet);sa("log",met);sa("pow",xet);sa("quantile",_et);sa("d3-linear",iet);ua("cat",Ug);ua("category",Ug);ua("identity",tet);ua("linear",qg);ua("log",jtt);ua("pow",Ztt);ua("time",Qtt);ua("timeCat",qtt);ua("quantize",i3);ua("quantile",Jtt);var u3={},l3=function(e){return u3[e.toLowerCase()]},wc=function(e,r){if(l3(e))throw new Error("Attribute type '"+e+"' existed.");u3[e.toLowerCase()]=r};wc("Color",Btt);wc("Opacity",Rtt);wc("Position",Ftt);wc("Shape",ktt);wc("Size",$tt);var x2=function(){function e(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=r.start,n=r.end,i=r.matrix,a=i===void 0?[1,0,0,0,1,0,0,0,1]:i,o=r.isTransposed,s=o===void 0?!1:o;this.start=t,this.end=n,this.matrix=a,this.originalMatrix=C.exports.__spreadArray([],a),this.isTransposed=s}return e.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},e.prototype.update=function(r){Te(this,r),this.initial()},e.prototype.convertDim=function(r,t){var n,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(n=[o,a],a=n[0],o=n[1]),a+r*(o-a)},e.prototype.invertDim=function(r,t){var n,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(n=[o,a],a=n[0],o=n[1]),(r-a)/(o-a)},e.prototype.applyMatrix=function(r,t,n){n===void 0&&(n=0);var i=this.matrix,a=[r,t,n];return Gf(a,a,i),a},e.prototype.invertMatrix=function(r,t,n){n===void 0&&(n=0);var i=this.matrix,a=oQ([0,0,0,0,0,0,0,0,0],i),o=[r,t,n];return a&&Gf(o,o,a),o},e.prototype.convert=function(r){var t=this.convertPoint(r),n=t.x,i=t.y,a=this.applyMatrix(n,i,1);return{x:a[0],y:a[1]}},e.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},e.prototype.rotate=function(r){var t=this.matrix,n=this.center;return uu(t,t,[-n.x,-n.y]),o2(t,t,r),uu(t,t,[n.x,n.y]),this},e.prototype.reflect=function(r){return r==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},e.prototype.scale=function(r,t){var n=this.matrix,i=this.center;return uu(n,n,[-i.x,-i.y]),lI(n,n,[r,t]),uu(n,n,[i.x,i.y]),this},e.prototype.translate=function(r,t){var n=this.matrix;return uu(n,n,[r,t]),this},e.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},e.prototype.getCenter=function(){return this.center},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRadius=function(){return this.radius},e.prototype.isReflect=function(r){return r==="x"?this.isReflectX:this.isReflectY},e.prototype.resetMatrix=function(r){this.matrix=r||C.exports.__spreadArray([],this.originalMatrix)},e}(),f3=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},r.prototype.convertPoint=function(t){var n,i=t.x,a=t.y;return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:this.convertDim(i,"x"),y:this.convertDim(a,"y")}},r.prototype.invertPoint=function(t){var n,i=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:i,y:a}},r}(x2),Det=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.isHelix=!0,n.type="helix";var i=t.startAngle,a=i===void 0?1.25*Math.PI:i,o=t.endAngle,s=o===void 0?7.25*Math.PI:o,u=t.innerRadius,l=u===void 0?0:u,f=t.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=l,n.radius=f,n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},r.prototype.convertPoint=function(t){var n,i=t.x,a=t.y;this.isTransposed&&(n=[a,i],i=n[0],a=n[1]);var o=this.convertDim(i,"x"),s=this.a*o,u=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+u),y:this.center.y+Math.sin(o)*(s+u)}},r.prototype.invertPoint=function(t){var n,i=this.d+this.y.start,a=sI([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=s2(a,[1,0],!0),s=o*this.a;du(a)<s&&(s=du(a));var u=Math.floor((du(a)-s)/i);o=2*u*Math.PI+o;var l=this.a*o,f=du(a)-l;f=hr(f,0)?0:f;var c=this.invertDim(o,"x"),h=this.invertDim(f,"y");return c=hr(c,0)?0:c,h=hr(h,0)?0:h,this.isTransposed&&(n=[h,c],c=n[0],h=n[1]),{x:c,y:h}},r}(x2),Bet=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.isPolar=!0,n.type="polar";var i=t.startAngle,a=i===void 0?-Math.PI/2:i,o=t.endAngle,s=o===void 0?Math.PI*3/2:o,u=t.innerRadius,l=u===void 0?0:u,f=t.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=l,n.radius=f,n.initial(),n}return r.prototype.initial=function(){for(e.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,i=t.maxY-t.minY,a=Math.abs(t.minX)/n,o=Math.abs(t.minY)/i,s;this.height/i>this.width/n?(s=this.width/n,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*s*i}):(s=this.height/i,this.circleCenter={x:this.center.x-(.5-a)*s*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var n,i=this.getCenter(),a=t.x,o=t.y;return this.isTransposed&&(n=[o,a],a=n[0],o=n[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(a)*o,y:i.y+Math.sin(a)*o}},r.prototype.invertPoint=function(t){var n,i=this.getCenter(),a=[t.x-i.x,t.y-i.y],o=this,s=o.startAngle,u=o.endAngle;this.isReflect("x")&&(n=[u,s],s=n[0],u=n[1]);var l=[1,0,0,0,1,0,0,0,1];o2(l,l,s);var f=[1,0,0];Gf(f,f,l);var c=[f[0],f[1]],h=s2(c,a,u<s);hr(h,Math.PI*2)&&(h=0);var v=du(a),g=h/(u-s);g=u-s>0?g:-g;var d=this.invertDim(v,"y"),m={x:0,y:0};return m.x=this.isTransposed?d:g,m.y=this.isTransposed?g:d,m},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(n)],a=[0,Math.sin(t),Math.sin(n)],o=Math.min(t,n);o<Math.max(t,n);o+=Math.PI/18)i.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},r}(x2),c3={},Ret=function(e){return c3[e.toLowerCase()]},jg=function(e,r){c3[e.toLowerCase()]=r};jg("rect",f3);jg("cartesian",f3);jg("polar",Bet);jg("helix",Det);function h3(e,r,t){var n=new yc(r,t);n.target=e,n.propagationPath.push(e),e.emitDelegation(r,n);for(var i=e.getParent();i;)i.emitDelegation(r,n),n.propagationPath.push(i),i=i.getParent()}var v3=[1,0,0,0,1,0,0,0,1];function Ss(e,r,t){if(t===void 0&&(t=v3),!r)return null;var n=or(t,[["t",-e.x,-e.y],["r",r],["t",e.x,e.y]]);return n}function w2(e,r){return!e.x&&!e.y?null:or(r||v3,[["t",e.x,e.y]])}function Fet(e){var r=[1,0,0],t=[0,0,0];return Gf(t,r,e),Math.atan2(t[1],t[0])}function jh(e,r){var t=[0,0];return vQ(t,r,e),t}function ket(e,r){var t=jh(e,[r.minX,r.minY]),n=jh(e,[r.maxX,r.minY]),i=jh(e,[r.minX,r.maxY]),a=jh(e,[r.maxX,r.maxY]),o=Math.min(t[0],n[0],i[0],a[0]),s=Math.max(t[0],n[0],i[0],a[0]),u=Math.min(t[1],n[1],i[1],a[1]),l=Math.max(t[1],n[1],i[1],a[1]);return{x:o,y:u,minX:o,minY:u,maxX:s,maxY:l,width:s-o,height:l-u}}function p3(e,r,t,n){if(r){var i=Ss({x:t,y:n},r,e.getMatrix());e.setMatrix(i)}}function Sf(e,r,t){var n=w2({x:r,y:t});e.attr("matrix",n)}function Wp(e){var r=0,t=0,n=0,i=0;return Zt(e)?r=t=n=i=e:vt(e)&&(r=e[0],n=st(e[1])?e[0]:e[1],i=st(e[2])?e[0]:e[2],t=st(e[3])?n:e[3]),[r,n,i,t]}function _2(e){for(var r=e.childNodes,t=r.length,n=t-1;n>=0;n--)e.removeChild(r[n])}function $et(e,r){return!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function Kf(e){var r=e.start,t=e.end,n=Math.min(r.x,t.x),i=Math.min(r.y,t.y),a=Math.max(r.x,t.x),o=Math.max(r.y,t.y);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function Net(e){var r=e.map(function(s){return s.x}),t=e.map(function(s){return s.y}),n=Math.min.apply(Math,r),i=Math.min.apply(Math,t),a=Math.max.apply(Math,r),o=Math.max.apply(Math,t);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function Zg(e,r,t,n){var i=e+t,a=r+n;return{x:e,y:r,width:t,height:n,minX:e,minY:r,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function xs(e,r,t){return(1-t)*e+r*t}function Au(e,r,t){return{x:e.x+Math.cos(t)*r,y:e.y+Math.sin(t)*r}}function zet(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}var Yp=function(e,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[e,r].includes(1/0)?Math.abs(e)===Math.abs(r):Math.abs(e-r)<t};function Get(e,r){var t=Math.max(e.minX,r.minX),n=Math.max(e.minY,r.minY),i=Math.min(e.maxX,r.maxX),a=Math.min(e.maxY,r.maxY);return Zg(t,n,i-t,a-n)}function g3(e){var r=e.getClip(),t=r&&r.getBBox(),n;if(!e.isGroup())n=e.getBBox();else{var i=1/0,a=-1/0,o=1/0,s=-1/0,u=e.getChildren();u.length>0?V(u,function(l){if(l.get("visible")){if(l.isGroup()&&l.get("children").length===0)return!0;var f=g3(l),c=l.applyToMatrix([f.minX,f.minY,1]),h=l.applyToMatrix([f.minX,f.maxY,1]),v=l.applyToMatrix([f.maxX,f.minY,1]),g=l.applyToMatrix([f.maxX,f.maxY,1]),d=Math.min(c[0],h[0],v[0],g[0]),m=Math.max(c[0],h[0],v[0],g[0]),x=Math.min(c[1],h[1],v[1],g[1]),E=Math.max(c[1],h[1],v[1],g[1]);d<i&&(i=d),m>a&&(a=m),x<o&&(o=x),E>s&&(s=E)}}):(i=0,a=0,o=0,s=0),n=Zg(i,o,a-i,s-o)}return t?Get(n,t):n}function Wet(e,r){if(!(!e.getClip()&&!r.getClip())){var t=r.getClip();if(!t){e.setClip(null);return}var n={type:t.get("type"),attrs:t.attr()};e.setClip(n)}}function fn(e){return e+"px"}function d3(e,r,t,n){var i=zet(e,r),a=n/i,o=0;return t==="start"?o=0-a:t==="end"&&(o=1+a),{x:xs(e.x,r.x,o),y:xs(e.y,r.y,o)}}var Yet={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},y3=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.initCfg(),n}return r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var n=this,i=this.get("defaultCfg")||{};V(t,function(a,o){var s=n.get(o),u=a;s!==a&&(be(a)&&i[o]&&(u=Et({},i[o],a)),n.set(o,u))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){To(t,"visible")&&(t.visible?this.show():this.hide()),To(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},r.prototype.setLocation=function(t){var n=C.exports.__assign({},t);this.update(n)},r.prototype.getLocation=function(){var t=this,n={},i=this.get("locationType"),a=Yet[i];return V(a,function(o){n[o]=t.get(o)}),n},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");V(n,function(i,a){var o=t.get(a);if(be(o)){var s=Et({},i,o);t.set(a,s)}})},r}(Dg),es="update_status",Het=["visible","tip","delegateObject"],Xet=["container","group","shapesMap","isRegister","isUpdating","destroyed"],br=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},r.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var n=this.getElementById(t),i=n&&n.get("component");return i},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},r.prototype.getElementsByName=function(t){var n=[];return V(this.get("shapesMap"),function(i){i.get("name")===t&&n.push(i)}),n},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},r.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){var n=this.get("group");n.set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),e.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(n=ket(i,n)),n},r.prototype.on=function(t,n,i){var a=this.get("group");return a.on(t,n,i),this},r.prototype.off=function(t,n){var i=this.get("group");return i&&i.off(t,n),this},r.prototype.emit=function(t,n){var i=this.get("group");i.emit(t,n)},r.prototype.init=function(){e.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,n){var i=this.get("group");n.target=i,i.emit(t,n),h3(i,t,n)},r.prototype.createOffScreenGroup=function(){var t=this.get("group"),n=t.getGroupBase(),i=new n({delegateObject:this.getDelegateObject()});return i},r.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",g3(t)),t},r.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var i=t.addGroup(n);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var i=t.addShape(n);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addComponent=function(t,n){var i=n.id,a=n.component,o=C.exports.__rest(n,["id","component"]),s=new a(C.exports.__assign(C.exports.__assign({},o),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){var t=this.get("group");t.off()},r.prototype.getElementId=function(t){var n=this.get("id"),i=this.get("name");return n+"-"+i+"-"+t},r.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},r.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},r.prototype.moveElementTo=function(t,n){var i=w2(n);t.attr("matrix",i)},r.prototype.addAnimation=function(t,n,i){var a=n.attr("opacity");st(a)&&(a=1),n.attr("opacity",0),n.animate({opacity:a},i)},r.prototype.removeAnimation=function(t,n,i){n.animate({opacity:0},i)},r.prototype.updateAnimation=function(t,n,i,a){n.animate(i,a)},r.prototype.updateElements=function(t,n){var i=this,a=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0),u;V(s,function(l){var f=l.get("id"),c=i.getElementById(f),h=l.get("name");if(c)if(l.get("isComponent")){var v=l.get("component"),g=c.get("component"),d=ig(v.cfg,zP(ju(v.cfg),Xet));g.update(d),c.set(es,"update")}else{var m=i.getReplaceAttrs(c,l);a&&o.update?i.updateAnimation(h,c,m,o.update):c.attr(m),l.isGroup()&&i.updateElements(l,c),V(Het,function(M){c.set(M,l.get(M))}),Wet(c,l),u=c,c.set(es,"update")}else{n.add(l);var x=n.getChildren();if(x.splice(x.length-1,1),u){var E=x.indexOf(u);x.splice(E+1,0,l)}else x.unshift(l);if(i.registerElement(l),l.set(es,"add"),l.get("isComponent")){var v=l.get("component");v.set("container",n)}else l.isGroup()&&i.registerNewGroup(l);if(u=l,a){var _=i.get("isInit")?o.appear:o.enter;_&&i.addAnimation(h,l,_)}}})},r.prototype.clearUpdateStatus=function(t){var n=t.getChildren();V(n,function(i){i.set(es,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t,n=this.get("name"),i=(t={},t[n]=this,t.component=this,t);return i},r.prototype.appendDelegateObject=function(t,n){var i=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),Te(n.delegateObject,i)},r.prototype.getReplaceAttrs=function(t,n){var i=t.attr(),a=n.attr();return V(i,function(o,s){a[s]===void 0&&(a[s]=void 0)}),a},r.prototype.registerNewGroup=function(t){var n=this,i=t.getChildren();V(i,function(a){n.registerElement(a),a.set(es,"add"),a.isGroup()&&n.registerNewGroup(a)})},r.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),i=[];V(n,function(s,u){!s.get(es)||s.destroyed?i.push([u,s]):s.set(es,null)});var a=this.get("animate"),o=this.get("animateOption");V(i,function(s){var u=s[0],l=s[1];if(!l.destroyed){var f=l.get("name");if(a&&o.leave){var c=Te({callback:function(){t.removeElement(l)}},o.leave);t.removeAnimation(f,l,c)}else t.removeElement(l)}delete n[u]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},r}(y3),r1="\u2026";function Vet(e){for(var r=0,t=0;t<e.length;t++)r+=us(e,t);return r}function us(e,r){return e.charCodeAt(r)>0&&e.charCodeAt(r)<128?1:2}function Uet(e,r,t){t===void 0&&(t="tail");var n=e.length,i="";if(t==="tail"){for(var a=0,o=0;a<r;){var s=us(e,o);if(a+s<=r)i+=e[o],a+=us(e,o),o++;else break}i+=r1}else if(t==="head"){for(var a=0,o=n-1;a<r;){var s=us(e,o);if(a+s<=r)i+=e[o],a+=us(e,o),o--;else break}i=r1+i}else{for(var u="",l="",a=0,f=0,c=n-1;a<r;){var h=us(e,f),v=!1;h+a<=r&&(u+=e[f],f++,a+=h,v=!0);var g=us(e,c);if(g+a<=r&&(l=e[c]+l,a+=g,c--,v=!0),!v)break}i=u+r1+l}return i}var Ket="\u2026",qet=2,jet=400;function Zet(e){for(var r=e.map(function(u){var l=u.attr("text");return st(l)?"":""+l}),t=0,n=0,i=0;i<r.length;i+=1){for(var a=0,o=0;o<=r[i].length;o+=1){var s=r[i].charCodeAt(o);s>=19968&&s<=40869?a+=2:a+=1}a>t&&(t=a,n=i)}return e[n].getBBox().width}function Wm(e){if(e.length>jet)return Zet(e);var r=0;return V(e,function(t){var n=t.getBBox(),i=n.width;r<i&&(r=i)}),r}function Qet(e,r){var t=r.getCanvasBBox();return e?t.width:t.height}function Tf(e,r,t,n){var i;n===void 0&&(n="tail");var a=(i=r.attr("text"))!==null&&i!==void 0?i:"";if(n==="tail"){var o=ig(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=ib(a,t,o,"\u2026");return a!==s?(r.attr("text",s),r.set("tip",a),!0):(r.set("tip",null),!1)}var u=Qet(e,r),l=Vet(a),f=!1;if(t<u){var c=Math.floor(t/u*l)-qet,h=void 0;c>=0?h=Uet(a,c,n):h=Ket,h&&(r.attr("text",h),f=!0)}return f?r.set("tip",a):r.set("tip",null),f}function Qg(e,r){var t=r.x,n=r.y,i=r.content,a=r.style,o=r.id,s=r.name,u=r.rotate,l=r.maxLength,f=r.autoEllipsis,c=r.isVertical,h=r.ellipsisPosition,v=r.background,g=e.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:n}}),d=g.addShape({type:"text",id:o,name:s,attrs:C.exports.__assign({x:0,y:0,text:i},a)}),m=Wp(j(v,"padding",0));if(l&&f){var x=l-(m[1]+m[3]);Tf(!c,d,x,h)}if(v){var E=j(v,"style",{}),_=d.getCanvasBBox(),M=_.minX,A=_.minY,b=_.width,I=_.height,L=g.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:C.exports.__assign({x:M-m[3],y:A-m[0],width:b+m[1]+m[3],height:I+m[0]+m[2]},E)});L.toBack()}Sf(g,t,n),p3(g,u,t,n)}var Xt={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},Jet=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Xt.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Xt.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Xt.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var n=this.get("start"),i=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:C.exports.__assign({x1:n.x,y1:n.y,x2:i.x,y2:i.y},a)})},r.prototype.getLabelPoint=function(t,n,i){var a;return i==="start"?a=0:i==="center"?a=.5:Nt(i)&&i.indexOf("%")!==-1?a=parseInt(i,10)/100:Zt(i)?a=i:a=1,(a>1||a<0)&&(a=1),{x:xs(t.x,n.x,a),y:xs(t.y,n.y,a)}},r.prototype.renderLabel=function(t){var n=this.get("text"),i=this.get("start"),a=this.get("end"),o=n.position,s=n.content,u=n.style,l=n.offsetX,f=n.offsetY,c=n.autoRotate,h=n.maxLength,v=n.autoEllipsis,g=n.ellipsisPosition,d=n.background,m=n.isVertical,x=m===void 0?!1:m,E=this.getLabelPoint(i,a,o),_=E.x+l,M=E.y+f,A={id:this.getElementId("line-text"),name:"annotation-line-text",x:_,y:M,content:s,style:u,maxLength:h,autoEllipsis:v,ellipsisPosition:g,background:d,isVertical:x};if(c){var b=[a.x-i.x,a.y-i.y];A.rotate=Math.atan2(b[1],b[0])}Qg(t,A)},r}(br),trt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Xt.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Xt.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("content"),s=this.get("style"),u=this.getElementId("text"),l=this.get("name")+"-text",f=this.get("maxLength"),c=this.get("autoEllipsis"),h=this.get("isVertical"),v=this.get("ellipsisPosition"),g=this.get("background"),d=this.get("rotate"),m={id:u,name:l,x:i,y:a,content:o,style:s,maxLength:f,autoEllipsis:c,isVertical:h,ellipsisPosition:v,background:g,rotate:d};Qg(t,m)},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("rotate");Sf(t,i,a),p3(t,o,i,a)}},r}(br),ert=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=Au(n,i,a),u=Au(n,i,o),l=o-a>Math.PI?1:0,f=[["M",s.x,s.y]];if(o-a===Math.PI*2){var c=Au(n,i,a+Math.PI);f.push(["A",i,i,0,l,1,c.x,c.y]),f.push(["A",i,i,0,l,1,u.x,u.y])}else f.push(["A",i,i,0,l,1,u.x,u.y]);return f},r.prototype.renderArc=function(t){var n=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:C.exports.__assign({path:n},i)})},r}(br),rrt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Xt.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var n=this.get("start"),i=this.get("end"),a=this.get("style"),o=Kf({start:n,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:C.exports.__assign({x:o.x,y:o.y,width:o.width,height:o.height},a)})},r}(br),nrt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),i=this.get("style"),a=Kf({start:t,end:n}),o=this.get("src");return C.exports.__assign({x:a.x,y:a.y,img:o,width:a.width,height:a.height},i)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(br),irt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Xt.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Xt.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Xt.fontFamily}}}})},r.prototype.renderInner=function(t){j(this.get("line"),"display")&&this.renderLine(t),j(this.get("text"),"display")&&this.renderText(t),j(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},r.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},r.prototype.renderText=function(t){var n=this.getShapeAttrs().text,i=n.x,a=n.y,o=n.text,s=C.exports.__rest(n,["x","y","text"]),u=this.get("text"),l=u.background,f=u.maxLength,c=u.autoEllipsis,h=u.isVertival,v=u.ellipsisPosition,g={x:i,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:l,maxLength:f,autoEllipsis:c,isVertival:h,ellipsisPosition:v};Qg(t,g)},r.prototype.autoAdjust=function(t){var n=this.get("direction"),i=this.get("x"),a=this.get("y"),o=j(this.get("line"),"length",0),s=this.get("coordinateBBox"),u=t.getBBox(),l=u.minX,f=u.maxX,c=u.minY,h=u.maxY,v=t.findById(this.getElementId("text-group")),g=t.findById(this.getElementId("text")),d=t.findById(this.getElementId("line"));if(!!s){if(v){if(i+l<=s.minX){var m=s.minX-(i+l);Sf(v,v.attr("x")+m,v.attr("y"))}if(i+f>=s.maxX){var m=i+f-s.maxX;Sf(v,v.attr("x")-m,v.attr("y"))}}if(n==="upward"&&a+c<=s.minY||n!=="upward"&&a+h>=s.maxY){var x=void 0,E=void 0;n==="upward"&&a+c<=s.minY?(x="top",E=1):(x="bottom",E=-1),g.attr("textBaseline",x),d&&d.attr("path",[["M",0,0],["L",0,o*E]]),Sf(v,v.attr("x"),(o+2)*E)}}},r.prototype.getShapeAttrs=function(){var t=j(this.get("line"),"display"),n=j(this.get("point"),"style",{}),i=j(this.get("line"),"style",{}),a=j(this.get("text"),"style",{}),o=this.get("direction"),s=t?j(this.get("line"),"length",0):0,u=o==="upward"?-1:1;return{point:C.exports.__assign({x:0,y:0},n),line:C.exports.__assign({path:[["M",0,0],["L",0,s*u]]},i),text:C.exports.__assign({x:0,y:(s+2)*u,text:j(this.get("text"),"content",""),textBaseline:o==="upward"?"bottom":"top"},a)}},r}(br),art=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Xt.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Xt.textColor,fontFamily:Xt.fontFamily}}}})},r.prototype.renderInner=function(t){var n=j(this.get("region"),"style",{});j(this.get("text"),"style",{});var i=this.get("lineLength")||0,a=this.get("points");if(!!a.length){var o=Net(a),s=[];s.push(["M",a[0].x,o.minY-i]),a.forEach(function(l){s.push(["L",l.x,l.y])}),s.push(["L",a[a.length-1].x,a[a.length-1].y-i]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:C.exports.__assign({path:s},n)});var u=C.exports.__assign({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-i},this.get("text"));Qg(t,u)}},r}(br),ort=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var n=this,i=this.get("start"),a=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});V(this.get("shapes"),function(u,l){var f=u.get("type"),c=dn(u.attr());n.adjustShapeAttrs(c),n.addShape(o,{id:n.getElementId("shape-"+f+"-"+l),capture:!1,type:f,attrs:c})});var s=Kf({start:i,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},r.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},r}(br),srt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"shape",draw:Ta})},r.prototype.renderInner=function(t){var n=this.get("render");Lt(n)&&n(t)},r}(br),E2=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},r.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){var n=this.getContainer(),i=t?"auto":"none";n.style.pointerEvents=i,this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer(),n=parseFloat(t.style.left)||0,i=parseFloat(t.style.top)||0;return Zg(n,i,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){var t=this.get("container");_2(t)},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),e.prototype.destroy.call(this)},r.prototype.init=function(){e.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if(st(t)){t=this.createDom();var n=this.get("parent");Nt(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else Nt(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t?t=Et({},n,t):t=n,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(!!t){var n=this.getContainer();this.applyChildrenStyles(n,t);var i=this.get("containerClassName");if(i&&$et(n,i)){var a=t[i];Rr(n,a)}}},r.prototype.applyChildrenStyles=function(t,n){V(n,function(i,a){var o=t.getElementsByClassName(a);V(o,function(s){Rr(s,i)})})},r.prototype.applyStyle=function(t,n){var i=this.get("domStyles");Rr(n,i[t])},r.prototype.createDom=function(){var t=this.get("containerTpl");return Mo(t)},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){To(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(y3),urt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),n=this.get("html");_2(t);var i=Lt(n)?n(t):n;if(ux(i))t.appendChild(i);else if(Nt(i)||Zt(i)){var a=Mo(""+i);a&&t.appendChild(a)}this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),i=n.x,a=n.y,o=this.get("alignX"),s=this.get("alignY"),u=this.get("offsetX"),l=this.get("offsetY"),f=PZ(t),c=TZ(t),h={x:i,y:a};o==="middle"?h.x-=Math.round(f/2):o==="right"&&(h.x-=Math.round(f)),s==="middle"?h.y-=Math.round(c/2):s==="bottom"&&(h.y-=Math.round(c)),u&&(h.x+=u),l&&(h.y+=l),Rr(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},r}(E2),lrt=Object.freeze(Object.defineProperty({__proto__:null,Line:Jet,Text:trt,Arc:ert,Region:rrt,Image:nrt,DataMarker:irt,DataRegion:art,RegionFilter:ort,Shape:srt,Html:urt},Symbol.toStringTag,{value:"Module"}));function hf(e,r,t){var n=r+"Style",i=null;return V(t,function(a,o){e[o]&&a[n]&&(i||(i={}),Te(i,a[n]))}),i}var m3=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Xt.lineColor}},tickLine:{style:{lineWidth:1,stroke:Xt.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Xt.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Xt.textColor,fontFamily:Xt.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Xt.textColor,textBaseline:"middle",fontFamily:Xt.fontFamily,textAlign:"center"},iconStyle:{fill:Xt.descriptionIconFill,stroke:Xt.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Xt.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,n){Te(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,n,i){t[n]=i,this.updateTickStates(t)},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("tickStates"),i=[];return V(n,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var n=this,i=this.getItemsByState(t);V(i,function(a){n.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,i=this.getItems();return Xn(i,function(a){return n.hasState(a,t)})},r.prototype.getSidePoint=function(t,n){var i=this,a=i.getSideVector(n,t);return{x:t.x+a[0],y:t.y+a[1]}},r.prototype.getTextAnchor=function(t){var n;return hr(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},r.prototype.getTextBaseline=function(t){var n;return hr(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var n=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Te({path:n},i.style)})},r.prototype.getTickLineItems=function(t){var n=this,i=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,u=1,l=t.length;return l>=2&&(u=t[1].value-t[0].value),V(t,function(f){var c=f.point;o||(c=n.getTickPoint(f.value-u/2));var h=n.getSidePoint(c,s);i.push({startPoint:c,tickValue:f.value,endPoint:h,tickId:f.id,id:"tickline-"+f.id})}),i},r.prototype.getSubTickLineItems=function(t){var n=[],i=this.get("subTickLine"),a=i.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var u=t[s],l=t[s+1],f=0;f<a;f++){var c=(f+1)/(a+1),h=(1-c)*u.tickValue+c*l.tickValue,v=this.getTickPoint(h),g=this.getSidePoint(v,i.length);n.push({startPoint:v,endPoint:g,tickValue:h,id:"sub-"+u.id+"-"+f})}return n},r.prototype.getTickLineAttrs=function(t,n,i,a){var o=this.get(n).style,s={points:[t.startPoint,t.endPoint]},u=j(this.get("theme"),["tickLine","style"],{});o=Lt(o)?Te({},u,o(s,i,a)):o;var l=t.startPoint,f=t.endPoint;return C.exports.__assign({x1:l.x,y1:l.y,x2:f.x,y2:f.y},o)},r.prototype.drawTick=function(t,n,i,a,o){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i,a,o)})},r.prototype.drawTickLines=function(t){var n=this,i=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(i),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),u=this.get("tickLine");if(V(o,function(f,c){if(u.displayWithLabel){var h=n.getElementId("label-"+f.tickId);t.findById(h)&&n.drawTick(f,s,"tickLine",c,o)}else n.drawTick(f,s,"tickLine",c,o)}),a){var l=this.getSubTickLineItems(o);V(l,function(f,c){n.drawTick(f,s,"subTickLine",c,l)})}},r.prototype.processTicks=function(){var t=this,n=this.get("ticks");V(n,function(i){i.point=t.getTickPoint(i.value),st(i.id)&&(i.id=i.name)})},r.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var i=this.get("ticks");V(i,function(a){n.applyTickStates(a,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var i=Zr(n);if(i>t.threshold){var a=Math.ceil(i/t.threshold),o=n.filter(function(s,u){return u%a===0});this.set("ticks",o),this.set("originalTicks",n)}}},r.prototype.getLabelAttrs=function(t,n,i){var a=this.get("label"),o=a.offset,s=a.offsetX,u=a.offsetY,l=a.rotate,f=a.formatter,c=this.getSidePoint(t.point,o),h=this.getSideVector(o,c),v=f?f(t.name,t,n):t.name,g=a.style;g=Lt(g)?j(this.get("theme"),["label","style"],{}):g;var d=Te({x:c.x+s,y:c.y+u,text:v,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},g);return l&&(d.matrix=Ss(c,l)),d},r.prototype.drawLabels=function(t){var n=this,i=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});V(i,function(h,v){n.addShape(a,{type:"text",name:"axis-label",id:n.getElementId("label-"+h.id),attrs:n.getLabelAttrs(h,v,i),delegateObject:{tick:h,item:h,index:v}})}),this.processOverlap(a);var o=a.getChildren(),s=j(this.get("theme"),["label","style"],{}),u=this.get("label"),l=u.style,f=u.formatter;if(Lt(l)){var c=o.map(function(h){return j(h.get("delegateObject"),"tick")});V(o,function(h,v){var g=h.get("delegateObject").tick,d=f?f(g.name,g,v):g.name,m=Te({},s,l(d,v,c));h.attr(m)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,i=t.position,a=t.offset,o=t.spacing,s=o===void 0?0:o,u=t.autoRotate,l=n.fontSize,f=.5;i==="start"?f=0:i==="end"&&(f=1);var c=this.getTickPoint(f),h=this.getSidePoint(c,a||s+l/2),v=Te({x:h.x,y:h.y,text:t.text},n),g=t.rotate,d=g;if(st(g)&&u){var m=this.getAxisVector(c),x=[1,0];d=s2(m,x,!0)}if(d){var E=Ss(h,d);v.matrix=E}return v},r.prototype.drawTitle=function(t){var n,i=this.getTitleAttrs(),a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:i});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(t,a,i.matrix)},r.prototype.drawDescriptionIcon=function(t,n,i){var a=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=n.getBBox(),s=o.maxX,u=o.maxY,l=o.height,f=this.get("title").iconStyle,c=4,h=l/2,v=h/6,g=s+c,d=u-l/2,m=[g+h,d-h],x=m[0],E=m[1],_=[x+h,E+h],M=_[0],A=_[1],b=[x,A+h],I=b[0],L=b[1],F=[g,E+h],$=F[0],Y=F[1],k=[g+h,d-l/4],z=k[0],S=k[1],T=[z,S+v],O=T[0],D=T[1],H=[O,D+v],it=H[0],pt=H[1],yt=[it,pt+h*3/4],mt=yt[0],Dt=yt[1];this.addShape(a,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:C.exports.__assign({path:[["M",x,E],["A",h,h,0,0,1,M,A],["A",h,h,0,0,1,I,L],["A",h,h,0,0,1,$,Y],["A",h,h,0,0,1,x,E],["M",z,S],["L",O,D],["M",it,pt],["L",mt,Dt]],lineWidth:v,matrix:i},f)}),this.addShape(a,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:g,y:d-l/2,width:l,height:l,stroke:"#000",fill:"#000",opacity:0,matrix:i,cursor:"pointer"}})},r.prototype.applyTickStates=function(t,n){var i=this.getItemStates(t);if(i.length){var a=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=n.findById(o);if(s){var u=hf(t,"label",a);u&&s.attr(u)}var l=this.getElementId("tickline-"+t.id),f=n.findById(l);if(f){var c=hf(t,"tickLine",a);c&&f.attr(c)}}},r.prototype.updateTickStates=function(t){var n=this.getItemStates(t),i=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),u=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(o){var l=hf(t,"label",i);l&&o.attr(l)}if(u){var f=hf(t,"tickLine",i);f&&u.attr(f)}}else o&&o.attr(a.style),u&&u.attr(s.style)},r}(br);function M2(e,r,t,n){var i=r.getChildren(),a=!1;return V(i,function(o){var s=Tf(e,o,t,n);a=a||s}),a}function frt(){return x3}function crt(e,r,t){return M2(e,r,t,"head")}function x3(e,r,t){return M2(e,r,t,"tail")}function hrt(e,r,t){return M2(e,r,t,"middle")}var vrt=Object.freeze(Object.defineProperty({__proto__:null,getDefault:frt,ellipsisHead:crt,ellipsisTail:x3,ellipsisMiddle:hrt},Symbol.toStringTag,{value:"Module"}));function prt(e){var r=e.attr("matrix");return r&&r[0]!==1}function w3(e){var r=prt(e)?Fet(e.attr("matrix")):0;return r%360}function Ym(e,r,t,n){var i=!1,a=w3(r),o=Math.abs(e?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),s=(e?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(e){var u=Math.abs(Math.cos(a));Yp(u,0,Math.PI/180)?i=s.width+n>o:i=s.height/u+n>o}else{var u=Math.abs(Math.sin(a));Yp(u,0,Math.PI/180)?i=s.width+n>o:i=s.height/u+n>o}return i}function qf(e,r,t,n){var i=(n==null?void 0:n.minGap)||0,a=r.getChildren().slice().filter(function(v){return v.get("visible")});if(!a.length)return!1;var o=!1;t&&a.reverse();for(var s=a.length,u=a[0],l=u,f=1;f<s;f++){var c=a[f];c.getBBox();var h=Ym(e,l,c,i);h?(c.hide(),o=!0):l=c}return o}function _3(e,r,t){var n=(t==null?void 0:t.minGap)||0,i=r.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),u=i[1],l=i.length,f=w3(o),c=Math.abs(e?u.attr("y")-o.attr("y"):u.attr("x")-o.attr("x")),h=0;if(e){var v=Math.abs(Math.cos(f));if(Yp(v,0,Math.PI/180)){var g=Wm(i);h=(g+n)/c}else h=(s.height/v+n)/c}else{var v=Math.abs(Math.sin(f));if(Yp(v,0,Math.PI/180)){var g=Wm(i);h=(g+n)/c}else h=(s.height/v+n)/c}if(h>1){h=Math.ceil(h);for(var d=0;d<l;d++)d%h!==0&&(i[d].hide(),a=!0)}return a}function grt(){return E3}function drt(e,r,t,n){return qf(e,r,!1,n)}function yrt(e,r,t,n){return qf(e,r,!0,n)}function mrt(e,r,t,n){var i=(n==null?void 0:n.minGap)||0,a=r.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,u=a[0],l=a[s-1],f=u,c=1;c<s-1;c++){var h=a[c];h.getBBox();var v=Ym(e,f,h,i);v?(h.hide(),o=!0):f=h}var g=Ym(e,f,l,i);return g&&(f.hide(),o=!0),o}function E3(e,r,t,n){var i=_3(e,r,n);return qf(e,r,!1)&&(i=!0),i}function xrt(e,r,t,n){var i=r.getChildren().slice(),a=_3(e,r,n);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),qf(e,r,!1,n)&&(a=!0)),s.get("visible")||(s.show(),qf(e,r,!0,n)&&(a=!0))}return a}var wrt=Object.freeze(Object.defineProperty({__proto__:null,getDefault:grt,reserveFirst:drt,reserveLast:yrt,reserveBoth:mrt,equidistance:E3,equidistanceWithReverseBoth:xrt},Symbol.toStringTag,{value:"Module"}));function _rt(e,r){V(e,function(t){var n=t.attr("x"),i=t.attr("y"),a=Ss({x:n,y:i},r);t.attr("matrix",a)})}function M3(e,r,t,n){var i=r.getChildren();if(!i.length||!e&&i.length<2)return!1;var a=Wm(i),o=!1;if(e)o=!!t&&a>t;else{var s=Math.abs(i[1].attr("x")-i[0].attr("x"));o=a>s}if(o){var u=n(t,a);_rt(i,u)}return o}function Ert(){return C3}function C3(e,r,t,n){return M3(e,r,t,function(){return Zt(n)?n:e?Xt.verticalAxisRotate:Xt.horizontalAxisRotate})}function Mrt(e,r,t){return M3(e,r,t,function(n,i){if(!n)return e?Xt.verticalAxisRotate:Xt.horizontalAxisRotate;if(e)return-Math.acos(n/i);var a=0;return n>i?a=Math.PI/4:(a=Math.asin(n/i),a>Math.PI/4&&(a=Math.PI/4)),a})}var Crt=Object.freeze(Object.defineProperty({__proto__:null,getDefault:Ert,fixedAngle:C3,unfixedAngle:Mrt},Symbol.toStringTag,{value:"Module"})),S3=Object.freeze(Object.defineProperty({__proto__:null,autoHide:wrt,autoRotate:Crt,autoEllipsis:vrt},Symbol.toStringTag,{value:"Module"})),Srt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",n.x,n.y]),i},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),i=e.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,n.x,i.x),o=Math.min(t.y,n.y,i.y),s=Math.max(t.x,n.x,i.maxX),u=Math.max(t.y,n.y,i.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:u,width:s-a,height:u-o}},r.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return hr(t.x,n.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return hr(t.y,n.y)},r.prototype.getTickPoint=function(t){var n=this,i=n.get("start"),a=n.get("end"),o=a.x-i.x,s=a.y-i.y;return{x:i.x+o*t,y:i.y+s*t}},r.prototype.getSideVector=function(t){var n=this.getAxisVector(),i=uI([0,0],n),a=this.get("verticalFactor"),o=[i[1],i[0]*-1];return fi([0,0],o,t*a)},r.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},r.prototype.processOverlap=function(t){var n=this,i=this.isVertical(),a=this.isHorizontal();if(!(!i&&!a)){var o=this.get("label"),s=this.get("title"),u=this.get("verticalLimitLength"),l=o.offset,f=u,c=0,h=0;s&&(c=s.style.fontSize,h=s.spacing),f&&(f=f-l-h-c);var v=this.get("overlapOrder");if(V(v,function(m){o[m]&&n.canProcessOverlap(m)&&n.autoProcessOverlap(m,o[m],t,f)}),s&&st(s.offset)){var g=t.getCanvasBBox(),d=i?g.width:g.height;s.offset=l+d+h+c/2}}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?st(n.rotate):!0},r.prototype.autoProcessOverlap=function(t,n,i,a){var o=this,s=this.isVertical(),u=!1,l=S3[t];if(n===!0)this.get("label"),u=l.getDefault()(s,i,a);else if(Lt(n))u=n(s,i,a);else if(be(n)){var f=n;l[f.type]&&(u=l[f.type](s,i,a,f.cfg))}else l[n]&&(u=l[n](s,i,a));if(t==="autoRotate"){if(u){var c=i.getChildren(),h=this.get("verticalFactor");V(c,function(g){var d=g.attr("textAlign");if(d==="center"){var m=h>0?"end":"start";g.attr("textAlign",m)}})}}else if(t==="autoHide"){var v=i.getChildren().slice(0);V(v,function(g){g.get("visible")||(o.get("isRegister")&&o.unregisterElement(g),g.remove())})}},r}(m3),Trt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},r.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,i=t.y,a=this.get("radius"),o=a,s=this.get("startAngle"),u=this.get("endAngle"),l=[];if(Math.abs(u-s)===Math.PI*2)l=[["M",n,i-o],["A",a,o,0,1,1,n,i+o],["A",a,o,0,1,1,n,i-o],["Z"]];else{var f=this.getCirclePoint(s),c=this.getCirclePoint(u),h=Math.abs(u-s)>Math.PI?1:0,v=s>u?0:1;l=[["M",n,i],["L",f.x,f.y],["A",a,o,0,h,v,c.x,c.y],["L",n,i]]}return l},r.prototype.getTickPoint=function(t){var n=this.get("startAngle"),i=this.get("endAngle"),a=n+(i-n)*t;return this.getCirclePoint(a)},r.prototype.getSideVector=function(t,n){var i=this.get("center"),a=[n.x-i.x,n.y-i.y],o=this.get("verticalFactor"),s=du(a);return fi(a,a,o*t/s),a},r.prototype.getAxisVector=function(t){var n=this.get("center"),i=[t.x-n.x,t.y-n.y];return[i[1],-1*i[0]]},r.prototype.getCirclePoint=function(t,n){var i=this.get("center");return n=n||this.get("radius"),{x:i.x+Math.cos(t)*n,y:i.y+Math.sin(t)*n}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?st(n.rotate):!0},r.prototype.processOverlap=function(t){var n=this,i=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=i.offset,u=o,l=0,f=0;a&&(l=a.style.fontSize,f=a.spacing),u&&(u=u-s-f-l);var c=this.get("overlapOrder");if(V(c,function(v){i[v]&&n.canProcessOverlap(v)&&n.autoProcessOverlap(v,i[v],t,u)}),a&&st(a.offset)){var h=t.getCanvasBBox().height;a.offset=s+h+f+l/2}},r.prototype.autoProcessOverlap=function(t,n,i,a){var o=this,s=!1,u=S3[t];if(a>0)if(n===!0)s=u.getDefault()(!1,i,a);else if(Lt(n))s=n(!1,i,a);else if(be(n)){var l=n;u[l.type]&&(s=u[l.type](!1,i,a,l.cfg))}else u[n]&&(s=u[n](!1,i,a));if(t==="autoRotate"){if(s){var f=i.getChildren(),c=this.get("verticalFactor");V(f,function(v){var g=v.attr("textAlign");if(g==="center"){var d=c>0?"end":"start";v.attr("textAlign",d)}})}}else if(t==="autoHide"){var h=i.getChildren().slice(0);V(h,function(v){v.get("visible")||(o.get("isRegister")&&o.unregisterElement(v),v.remove())})}},r}(m3),C2=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Xt.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Xt.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Xt.fontFamily}},textBackground:{padding:5,style:{stroke:Xt.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var n=this.get("text"),i=n.style,a=n.autoRotate,o=n.content;if(!st(o)){var s=this.getTextPoint(),u=null;if(a){var l=this.getRotateAngle();u=Ss(s,l)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:C.exports.__assign(C.exports.__assign(C.exports.__assign({},s),{text:o,matrix:u}),i)})}},r.prototype.renderLine=function(t){var n=this.getLinePath(),i=this.get("line"),a=i.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:C.exports.__assign({path:n},a)})},r.prototype.renderBackground=function(t){var n=this.getElementId("text"),i=t.findById(n),a=this.get("textBackground");if(a&&i){var o=i.getBBox(),s=Wp(a.padding),u=a.style,l=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:C.exports.__assign({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:i.attr("matrix")},u)});l.toBack()}},r}(br),T3=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,i=t.end,a=this.get("text").position,o=Math.atan2(i.y-n.y,i.x-n.x),s=a==="start"?o-Math.PI/2:o+Math.PI/2;return s},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,i=t.end,a=this.get("text"),o=a.position,s=a.offset;return d3(n,i,o,s)},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,i=t.end;return[["M",n.x,n.y],["L",i.x,i.y]]},r}(C2),Art=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,i=t.endAngle,a=this.get("text").position,o=a==="start"?n+Math.PI/2:i-Math.PI/2;return o},r.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,i=t.offset,a=this.getLocation(),o=a.center,s=a.radius,u=a.startAngle,l=a.endAngle,f=n==="start"?u:l,c=this.getRotateAngle()-Math.PI,h=Au(o,s,f),v=Math.cos(c)*i,g=Math.sin(c)*i;return{x:h.x+v,y:h.y+g}},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=null;if(o-a===Math.PI*2){var u=n.x,l=n.y;s=[["M",u,l-i],["A",i,i,0,1,1,u,l+i],["A",i,i,0,1,1,u,l-i],["Z"]]}else{var f=Au(n,i,a),c=Au(n,i,o),h=Math.abs(o-a)>Math.PI?1:0,v=a>o?0:1;s=[["M",f.x,f.y],["A",i,i,0,h,v,c.x,c.y]]}return s},r}(C2),jf="g2-crosshair",Hm=jf+"-line",Xm=jf+"-text",Wl,Prt=(Wl={},Wl[""+jf]={position:"relative"},Wl[""+Hm]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Wl[""+Xm]={position:"absolute",color:Xt.textColor,fontFamily:Xt.fontFamily},Wl),brt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+jf+'"></div>',crosshairTpl:'<div class="'+Hm+'"></div>',textTpl:'<span class="'+Xm+'">{content}</span>',domStyles:null,containerClassName:jf,defaultStyles:Prt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),n=this.get("crosshairTpl"),i=Mo(n);t.appendChild(i),this.applyStyle(Hm,i),this.set("crosshairEl",i)},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,i=t.end,a=this.get("text"),o=a.position,s=a.offset;return d3(n,i,o,s)},r.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var i=t.content;if(!n){var a=this.getContainer(),o=ox(this.get("textTpl"),t);n=Mo(o),a.appendChild(n),this.applyStyle(Xm,n),this.set("textEl",n)}n.innerHTML=i}else n&&n.remove()},r.prototype.isVertical=function(t,n){return t.x===n.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),i=this.get("end"),a=Math.min(n.x,i.x),o=Math.min(n.y,i.y);this.isVertical(n,i)?Rr(t,{width:"1px",height:fn(Math.abs(i.y-n.y))}):Rr(t,{height:"1px",width:fn(Math.abs(i.x-n.x))}),Rr(t,{top:fn(o),left:fn(a)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,i=t.clientWidth,a=this.getTextPoint();switch(n){case"center":a.x=a.x-i/2;break;case"right":a.x=a.x-i}Rr(t,{top:fn(a.y),left:fn(a.x)})}},r.prototype.updateInner=function(t){To(t,"text")&&this.resetText(),e.prototype.updateInner.call(this,t)},r}(E2),SA=Object.freeze(Object.defineProperty({__proto__:null,Line:T3,Circle:Art,Base:C2,Html:brt},Symbol.toStringTag,{value:"Module"})),A3=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Xt.lineColor}}}})},r.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,n){var i=this.getGridPath(t),a=n.slice(0).reverse(),o=this.getGridPath(a,!0),s=this.get("closed");return s?i=i.concat(o):(o[0][0]="L",i=i.concat(o),i.push(["Z"])),i},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var n=this,i=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;V(a,function(u,l){var f=u.id||l;if(i){var c=n.getPathStyle();c=Lt(c)?c(u,l,a):c;var h=n.getElementId("line-"+f),v=n.getGridPath(u.points);n.addShape(t,{type:"path",name:"grid-line",id:h,attrs:Te({path:v},c)})}if(o&&l>0){var g=n.getElementId("region-"+f),d=l%2===0;if(Nt(o))d&&n.drawAlternateRegion(g,t,s.points,u.points,o);else{var m=d?o[1]:o[0];n.drawAlternateRegion(g,t,s.points,u.points,m)}}s=u})},r.prototype.drawAlternateRegion=function(t,n,i,a,o){var s=this.getAlternatePath(i,a);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},r}(br);function Lrt(e,r,t,n){var i=t-e,a=n-r;return Math.sqrt(i*i+a*a)}var Ort=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,n){var i=this.getLineType(),a=this.get("closed"),o=[];if(t.length)if(i==="circle"){var s=this.get("center"),u=t[0],l=Lrt(s.x,s.y,u.x,u.y),f=n?0:1;a?(o.push(["M",s.x,s.y-l]),o.push(["A",l,l,0,0,f,s.x,s.y+l]),o.push(["A",l,l,0,0,f,s.x,s.y-l]),o.push(["Z"])):V(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["A",l,l,0,0,f,c.x,c.y])})}else V(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["L",c.x,c.y])}),a&&o.push(["Z"]);return o},r}(A3),Irt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"line"})},r.prototype.getGridPath=function(t){var n=[];return V(t,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},r}(A3),P3=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=e.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),i=this.get("maxHeight"),a=t.width,o=t.height;return n&&(a=Math.min(a,n)),i&&(o=Math.min(o,i)),Zg(t.minX,t.minY,a,o)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:n+a})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var n=this.get("background"),i=t.getBBox(),a=Wp(n.padding),o=C.exports.__assign({x:0,y:0,width:i.width+a[1]+a[3],height:i.height+a[0]+a[2]},n.style),s=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},r.prototype.drawTitle=function(t){var n=this.get("currentPoint"),i=this.get("title"),a=i.spacing,o=i.style,s=i.text,u=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:C.exports.__assign({text:s,x:n.x,y:n.y},o)}),l=u.getBBox();this.set("currentPoint",{x:n.x,y:l.maxY+a})},r.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var i=Wp(t.padding);n.x=i[3],n.y=i[0]}this.set("currentPoint",n)},r}(br),n1={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Zh={fill:Xt.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Xt.fontFamily,fontWeight:"normal",lineHeight:12},i1="navigation-arrow-right",a1="navigation-arrow-left",TA={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Drt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},t}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Xt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Xt.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:n1,itemName:{spacing:16,style:Zh},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Zh,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Xt.uncheckedColor},markerStyle:{fill:Xt.uncheckedColor,stroke:Xt.uncheckedColor}},inactive:{nameStyle:{fill:Xt.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,n){Te(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,n,i){t[n]=i;var a=this.getElementByLocalId("item-"+t.id);if(a){var o=this.getItems(),s=o.indexOf(t),u=this.createOffScreenGroup(),l=this.drawItem(t,s,this.getItemHeight(),u);this.updateElements(l,a),this.clearUpdateStatus(a)}},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("itemStates"),i=[];return V(n,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var n=this,i=this.getItemsByState(t);V(i,function(a){n.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,i=this.getItems();return Xn(i,function(a){return n.hasState(a,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");V(t,function(n){n.id||(n.id=n.name)})},r.prototype.drawItems=function(t){var n=this,i=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),u=this.get("itemSpacing"),l=this.get("itemMarginBottom"),f=this.get("currentPoint"),c=f.x,h=f.y,v=this.get("layout"),g=this.get("items"),d=!1,m=0,x=this.get("maxWidth"),E=this.get("maxHeight");V(g,function(_,M){var A=n.drawItem(_,M,o,a),b=A.getBBox(),I=s||b.width;I>m&&(m=I),v==="horizontal"?(x&&x<f.x+I-c&&(d=!0,f.x=c,f.y+=o+l),n.moveElementTo(A,f),f.x+=I+u):(E&&E<f.y+o+l-h&&(d=!0,f.x+=m+u,f.y=h,m=0),n.moveElementTo(A,f),f.y+=o+l)}),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=c,this.startY=h,this.adjustNavigation(t,a))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if(Lt(n)){var i=this.getItems();i.forEach(function(a,o){var s=C.exports.__assign(C.exports.__assign({},Zh),n(a,o,i)).fontSize;t<s&&(t=s)})}else n&&(t=n.fontSize)}return t},r.prototype.drawMarker=function(t,n,i,a){var o=C.exports.__assign(C.exports.__assign(C.exports.__assign({x:0,y:a/2},n.style),{symbol:j(i.marker,"symbol","circle")}),j(i.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),u=s.getBBox();s.attr("x",u.width/2);var l=s.attr(),f=l.stroke,c=l.fill;return f&&s.set("isStroke",!0),c&&s.set("isFill",!0),s},r.prototype.drawItemText=function(t,n,i,a,o,s,u){var l=i.formatter,f=i.style,c=C.exports.__assign(C.exports.__assign({x:s,y:o/2,text:l?l(a[n],a,u):a[n]},Zh),Lt(f)?f(a,u,this.getItems()):f);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+n),name:"legend-item-"+n,attrs:c})},r.prototype.drawRadio=function(t,n,i,a,o){var s,u,l=n.style||{},f=(s=l.r)!==null&&s!==void 0?s:a/2,c=f*3.6/8,h=[o+f,a/2-f],v=h[0],g=h[1],d=[v+f,g+f],m=d[0],x=d[1],E=[v,x+f],_=E[0],M=E[1],A=[o,g+f],b=A[0],I=A[1],L=i.showRadio,F=C.exports.__assign(C.exports.__assign({path:[["M",v,g],["A",f,f,0,0,1,m,x],["L",m-c,x],["L",m,x],["A",f,f,0,0,1,_,M],["L",_,M-c],["L",_,M],["A",f,f,0,0,1,b,I],["L",b+c,I],["L",b,I],["A",f,f,0,0,1,v,g],["L",v,g+c]],stroke:"#000000",fill:"#ffffff"},l),{opacity:L?(u=l==null?void 0:l.opacity)!==null&&u!==void 0?u:.45:0}),$=this.addShape(t,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:F});return $.set("tip",n.tip),$},r.prototype.drawItem=function(t,n,i,a){var o="item-"+t.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:n}}),u=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:n}}),l=this.get("marker"),f=this.get("itemName"),c=this.get("itemValue"),h=this.get("itemBackground"),v=this.get("radio"),g=this.getLimitItemWidth(),d=0;if(l){var m=this.drawMarker(u,l,t,i),x=l.spacing,E=j(t,["marker","spacing"]);Zt(E)&&(x=E),d=m.getBBox().maxX+x}if(f){var _=this.drawItemText(u,"name",f,t,i,d,n);g&&Tf(!0,_,Ge(g-d,0,g)),d=_.getBBox().maxX+f.spacing}if(c){var M=this.drawItemText(u,"value",c,t,i,d,n);g&&(c.alignRight?(M.attr({textAlign:"right",x:g}),Tf(!0,M,Ge(g-d,0,g),"head")):Tf(!0,M,Ge(g-d,0,g))),d=M.getBBox().maxX+c.spacing}if(v&&this.drawRadio(u,v,t,i,d),h){var A=u.getBBox(),b=this.addShape(u,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:C.exports.__assign({x:0,y:0,width:A.width,height:i},h.style)});b.toBack()}return this.applyItemStates(t,u),u},r.prototype.adjustNavigation=function(t,n){var i=this,a=this.startX,o=this.startY,s=this.get("layout"),u=n.findAll(function($){return $.get("name")==="legend-item"}),l=this.get("maxWidth"),f=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),v=this.getItemHeight(),g=Et({},n1,this.get("pageNavigator")),d=this.drawNavigation(t,s,"00/00",g),m=d.getBBox(),x={x:a,y:o},E=1,_=0,M=0,A=0,b=this.get("itemMarginBottom");if(s==="horizontal"){var I=this.get("maxRow")||1,L=v+(I===1?0:b);this.pageHeight=L*I,V(u,function($){var Y=$.getBBox(),k=c||Y.width;(_&&_<x.x+k+h||l<x.x+k+h+m.width)&&(E===1&&(_=x.x+h,i.pageWidth=_,i.moveElementTo(d,{x:l-h-m.width-m.minX,y:x.y+v/2-m.height/2-m.minY})),E+=1,x.x=a,x.y+=L),i.moveElementTo($,x),$.getParent().setClip({type:"rect",attrs:{x:x.x,y:x.y,width:k+h,height:v}}),x.x+=k+h})}else{V(u,function($){var Y=$.getBBox();Y.width>M&&(M=Y.width)}),A=M,M+=h,l&&(M=Math.min(l,M),A=Math.min(l,A)),this.pageWidth=M,this.pageHeight=f-Math.max(m.height,v+b);var F=Math.floor(this.pageHeight/(v+b));V(u,function($,Y){Y!==0&&Y%F===0&&(E+=1,x.x+=M,x.y=o),i.moveElementTo($,x),$.getParent().setClip({type:"rect",attrs:{x:x.x,y:x.y,width:M,height:v}}),x.y+=v+b}),this.totalPagesCnt=E,this.moveElementTo(d,{x:a+A/2-m.width/2-m.minX,y:f-m.height-m.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(E/this.get("maxRow")):this.totalPagesCnt=E,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(d),n.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,n,i,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),u=j(a.marker,"style",{}),l=u.size,f=l===void 0?12:l,c=C.exports.__rest(u,["size"]),h=this.drawArrow(s,o,a1,n==="horizontal"?"up":"left",f,c);h.on("click",this.onNavigationBack);var v=h.getBBox();o.x+=v.width+2;var g=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:C.exports.__assign({x:o.x,y:o.y+f/2,text:i,textBaseline:"middle"},j(a.text,"style"))}),d=g.getBBox();o.x+=d.width+2;var m=this.drawArrow(s,o,i1,n==="horizontal"?"down":"right",f,c);return m.on("click",this.onNavigationAfter),s},r.prototype.updateNavigation=function(t){var n=Et({},n1,this.get("pageNavigator")),i=n.marker.style,a=i.fill,o=i.opacity,s=i.inactiveFill,u=i.inactiveOpacity,l=this.currentPageIndex+"/"+this.totalPagesCnt,f=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),c=t?t.findById(this.getElementId(a1)):this.getElementByLocalId(a1),h=t?t.findById(this.getElementId(i1)):this.getElementByLocalId(i1);f.attr("text",l),c.attr("opacity",this.currentPageIndex===1?u:o),c.attr("fill",this.currentPageIndex===1?s:a),c.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?u:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var v=c.getBBox().maxX+2;f.attr("x",v),v+=f.getBBox().width+2,this.updateArrowPath(h,{x:v,y:0})},r.prototype.drawArrow=function(t,n,i,a,o,s){var u=n.x,l=n.y,f=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:C.exports.__assign({size:o,direction:a,path:[["M",u+o/2,l],["L",u,l+o],["L",u+o,l+o],["Z"]],cursor:"pointer"},s)});return f.attr("matrix",Ss({x:u+o/2,y:l+o/2},TA[a])),f},r.prototype.updateArrowPath=function(t,n){var i=n.x,a=n.y,o=t.attr(),s=o.size,u=o.direction,l=Ss({x:i+s/2,y:a+s/2},TA[u]);t.attr("path",[["M",i+s/2,a],["L",i,a+s],["L",i+s,a+s],["Z"]]),t.attr("matrix",l)},r.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,i=t.pageWidth,a=t.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:a*(1-n)}:{x:i*(1-n),y:0};return w2(s)},r.prototype.applyItemStates=function(t,n){var i=this.getItemStates(t),a=i.length>0;if(a){var o=n.getChildren(),s=this.get("itemStates");V(o,function(u){var l=u.get("name"),f=l.split("-")[2],c=hf(t,f,s);c&&(u.attr(c),f==="marker"&&!(u.get("isStroke")&&u.get("isFill"))&&(u.get("isStroke")&&u.attr("fill",null),u.get("isFill")&&u.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},r}(P3),Brt=1.4,AA=.4,Rrt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Xt.textColor,textBaseline:"middle",fontFamily:Xt.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Xt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,n){this.update({min:t,max:n})},r.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:n,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[1];s<a&&(s=a),n.setValue([a,s])}),t.on("legend-handler-max:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[0];s>a&&(s=a),n.setValue([s,a])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var n=this,i=null;t.on("legend-track:dragstart",function(a){i={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(!!i){var o=n.getValueByCanvasPoint(i.x,i.y),s=n.getValueByCanvasPoint(a.x,a.y),u=n.getCurrentValue(),l=u[1]-u[0],f=n.getRange(),c=s-o;c<0?u[0]+c>f.min?n.setValue([u[0]+c,u[1]+c]):n.setValue([f.min,f.min+l]):c>0&&(c>0&&u[1]+c<f.max?n.setValue([u[0]+c,u[1]+c]):n.setValue([f.max-l,f.max])),i={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){i=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,n){var i=this.get("label"),a=i.style,o=i.align,s=i.formatter,u=this.get(t),l=this.getLabelAlignAttrs(t,o),f="label-"+t;this.addShape(n,{type:"text",id:this.getElementId(f),name:"legend-label-"+t,attrs:C.exports.__assign(C.exports.__assign({x:0,y:0,text:Lt(s)?s(u):u},a),l)})},r.prototype.getLabelAlignAttrs=function(t,n){var i=this.isVertical(),a="center",o="middle";return i?(a="start",n!=="rail"?t==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",t==="min"?a="start":a="end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},r.prototype.getRailPath=function(t,n,i,a){var o=this.get("rail"),s=o.size,u=o.defaultLength,l=o.type,f=this.isVertical(),c=u,h=i,v=a;h||(h=f?s:c),v||(v=f?c:s);var g=[];return l==="color"?(g.push(["M",t,n]),g.push(["L",t+h,n]),g.push(["L",t+h,n+v]),g.push(["L",t,n+v]),g.push(["Z"])):(g.push(["M",t+h,n]),g.push(["L",t+h,n+v]),g.push(["L",t,n+v]),g.push(["Z"])),g},r.prototype.drawRail=function(t){var n=this.get("rail"),i=n.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:C.exports.__assign({path:this.getRailPath(0,0)},i)})},r.prototype.getTrackColor=function(t){var n=t.length;if(!n)return null;if(n===1)return t[0];var i;this.isVertical()?i="l(90)":i="l(0)";for(var a=0;a<n;a++){var o=a/(n-1);i+=" "+o+":"+t[a]}return i},r.prototype.getTrackPath=function(t){var n=this.getRailShape(t),i=n.attr("path");return dn(i)},r.prototype.getClipTrackAttrs=function(t){var n=this.getCurrentValue(),i=n[0],a=n[1],o=this.getRailBBox(t),s=this.getPointByValue(i,t),u=this.getPointByValue(a,t),l=this.isVertical(),f,c,h,v;return l?(f=o.minX,c=s.y,h=o.width,v=u.y-s.y):(f=s.x,c=o.minY,h=u.x-s.x,v=o.height),{x:f,y:c,width:h,height:v}},r.prototype.getTrackAttrs=function(t){var n=this.get("track"),i=this.get("colors"),a=this.getTrackPath(t);return Te({path:a,fill:this.getTrackColor(i)},n.style)},r.prototype.resetTrackClip=function(t){var n=t||this.get("group"),i=this.getElementId("track"),a=n.findById(i),o=a.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):a.setClip({type:"rect",attrs:s})},r.prototype.resetTrack=function(t){var n=this.getElementId("track"),i=t.findById(n),a=this.getTrackAttrs(t);i?i.attr(a):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:a})},r.prototype.getPointByValue=function(t,n){var i=this.getRange(),a=i.min,o=i.max,s=(t-a)/(o-a),u=this.getRailBBox(n),l=this.isVertical(),f={x:0,y:0};return l?(f.x=u.minX+u.width/2,f.y=xs(u.minY,u.maxY,s)):(f.x=xs(u.minX,u.maxX,s),f.y=u.minY+u.height/2),f},r.prototype.getRailShape=function(t){var n=t||this.get("group");return n.findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){var n=this.getRailShape(t),i=n.getBBox();return i},r.prototype.getRailCanvasBBox=function(){var t=this.get("group"),n=t.findById(this.getElementId("rail")),i=n.getCanvasBBox();return i},r.prototype.isVertical=function(){return this.get("layout")==="vertical"},r.prototype.getValueByCanvasPoint=function(t,n){var i=this.getRange(),a=i.min,o=i.max,s=this.getRailCanvasBBox(),u=this.isVertical(),l=this.get("step"),f;u?f=(n-s.minY)/s.height:f=(t-s.minX)/s.width;var c=xs(a,o,f);if(l){var h=Math.round((c-a)/l);c=a+h*l}return c>o&&(c=o),c<a&&(c=a),c},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,C.exports.__spreadArrays(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,C.exports.__spreadArrays(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),i=n[0],a=n[1];this.resetHandler(t,"min",i),this.resetHandler(t,"max",a)},r.prototype.getHandlerPath=function(t,n){var i=this.isVertical(),a=[],o=t.size,s=n.x,u=n.y,l=o*Brt,f=o/2,c=o/6;if(i){var h=s+l*AA;a.push(["M",s,u]),a.push(["L",h,u+f]),a.push(["L",s+l,u+f]),a.push(["L",s+l,u-f]),a.push(["L",h,u-f]),a.push(["Z"]),a.push(["M",h,u+c]),a.push(["L",s+l-2,u+c]),a.push(["M",h,u-c]),a.push(["L",s+l-2,u-c])}else{var v=u+l*AA;a.push(["M",s,u]),a.push(["L",s-f,v]),a.push(["L",s-f,u+l]),a.push(["L",s+f,u+l]),a.push(["L",s+f,v]),a.push(["Z"]),a.push(["M",s-c,v]),a.push(["L",s-c,u+l-2]),a.push(["M",s+c,v]),a.push(["L",s+c,u+l-2])}return a},r.prototype.resetHandler=function(t,n,i){var a=this.getPointByValue(i,t),o=this.get("handler"),s=this.getHandlerPath(o,a),u=this.getElementId("handler-"+n),l=t.findById(u),f=this.isVertical();l?l.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:u,attrs:C.exports.__assign(C.exports.__assign({path:s},o.style),{cursor:f?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,a,n,o):this.fixedHorizontal(i,a,n,o)},r.prototype.fitRailLength=function(t,n,i,a){var o=this.isVertical(),s=o?"height":"width",u=this.get("label"),l=u.align,f=u.spacing,c=this.get("max"+Fo(s));if(c){var h=l==="rail"?i[s]+t[s]+n[s]+f*2:i[s],v=h-c;v>0&&this.changeRailLength(a,s,i[s]-v)}},r.prototype.changeRailLength=function(t,n,i){var a=t.getBBox(),o;n==="height"?o=this.getRailPath(a.x,a.y,a.width,i):o=this.getRailPath(a.x,a.y,i,a.height),t.attr("path",o)},r.prototype.changeRailPosition=function(t,n,i){var a=t.getBBox(),o=this.getRailPath(n,i,a.width,a.height);t.attr("path",o)},r.prototype.fixedHorizontal=function(t,n,i,a){var o=this.get("label"),s=o.align,u=o.spacing,l=i.getBBox(),f=t.getBBox(),c=n.getBBox(),h=l.height;this.fitRailLength(f,c,l,i),l=i.getBBox(),s==="rail"?(t.attr({x:a.x,y:a.y+h/2}),this.changeRailPosition(i,a.x+f.width+u,a.y),n.attr({x:a.x+f.width+l.width+u*2,y:a.y+h/2})):s==="top"?(t.attr({x:a.x,y:a.y}),n.attr({x:a.x+l.width,y:a.y}),this.changeRailPosition(i,a.x,a.y+f.height+u)):(this.changeRailPosition(i,a.x,a.y),t.attr({x:a.x,y:a.y+l.height+u}),n.attr({x:a.x+l.width,y:a.y+l.height+u}))},r.prototype.fixedVertail=function(t,n,i,a){var o=this.get("label"),s=o.align,u=o.spacing,l=i.getBBox(),f=t.getBBox(),c=n.getBBox();if(this.fitRailLength(f,c,l,i),l=i.getBBox(),s==="rail")t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x,a.y+f.height+u),n.attr({x:a.x,y:a.y+f.height+l.height+u*2});else if(s==="right")t.attr({x:a.x+l.width+u,y:a.y}),this.changeRailPosition(i,a.x,a.y),n.attr({x:a.x+l.width+u,y:a.y+l.height});else{var h=Math.max(f.width,c.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x+h+u,a.y),n.attr({x:a.x,y:a.y+l.height})}},r}(P3),ka="g2-tooltip",$a="g2-tooltip-title",Zf="g2-tooltip-list",Jg="g2-tooltip-list-item",td="g2-tooltip-marker",ed="g2-tooltip-value",b3="g2-tooltip-name",S2="g2-tooltip-crosshair-x",T2="g2-tooltip-crosshair-y",Frt=Object.freeze(Object.defineProperty({__proto__:null,CONTAINER_CLASS:ka,TITLE_CLASS:$a,LIST_CLASS:Zf,LIST_ITEM_CLASS:Jg,MARKER_CLASS:td,VALUE_CLASS:ed,NAME_CLASS:b3,CROSSHAIR_X:S2,CROSSHAIR_Y:T2},Symbol.toStringTag,{value:"Module"})),Wi,krt=(Wi={},Wi[""+ka]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Xt.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Wi[""+$a]={marginBottom:"4px"},Wi[""+Zf]={margin:"0px",listStyleType:"none",padding:"0px"},Wi[""+Jg]={listStyleType:"none",marginBottom:"4px"},Wi[""+td]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Wi[""+ed]={display:"inline-block",float:"right",marginLeft:"30px"},Wi[""+S2]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Wi[""+T2]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Wi);function $rt(e,r,t,n,i){var a={left:e<i.x,right:e+t>i.x+i.width,top:r<i.y,bottom:r+n>i.y+i.height};return a}function Nrt(e,r,t,n,i,a){var o=e,s=r;switch(a){case"left":o=e-n-t,s=r-i/2;break;case"right":o=e+t,s=r-i/2;break;case"top":o=e-n/2,s=r-i-t;break;case"bottom":o=e-n/2,s=r+t;break;default:o=e+t,s=r-i-t;break}return{x:o,y:s}}function zrt(e,r,t,n,i,a,o){var s=Nrt(e,r,t,n,i,a);if(o){var u=$rt(s.x,s.y,n,i,o);a==="auto"?(u.right&&(s.x=Math.max(0,e-n-t)),u.top&&(s.y=Math.max(0,r-i-t))):a==="top"||a==="bottom"?(u.left&&(s.x=o.x),u.right&&(s.x=o.x+o.width-n),a==="top"&&u.top&&(s.y=r+t),a==="bottom"&&u.bottom&&(s.y=r-i-t)):(u.top&&(s.y=o.y),u.bottom&&(s.y=o.y+o.height-i),a==="left"&&u.left&&(s.x=e+t),a==="right"&&u.right&&(s.x=e-n-t))}return s}function Grt(e,r){var t=!1;return V(r,function(n){if(To(e,n))return t=!0,!1}),t}var Wrt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+ka+'"><div class="'+$a+'"></div><ul class="'+Zf+'"></ul></div>',itemTpl:'<li class="'+Jg+`" data-index={index}>
          <span class="`+td+`" style="background:{color}"></span>
          <span class="`+b3+`">{name}</span>:
          <span class="`+ed+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+S2+'"></div>',yCrosshairTpl:'<div class="'+T2+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:ka,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:krt})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Rr(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Rr(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",i=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");i&&Rr(i,{display:n}),a&&Rr(a,{display:n})},r.prototype.initContainer=function(){if(e.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(Grt(t,["title","showTitle"])&&this.resetTitle(),To(t,"items")&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){e.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var t=this.get("x"),n=this.get("y"),i=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,u=this.get("position"),l=this.get("region"),f=this.getContainer(),c=this.getBBox(),h=c.width,v=c.height,g;l&&(g=Kf(l));var d=zrt(t,n,i,h,v,u,g);Rr(f,{left:fn(d.x+o),top:fn(d.y+s)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),i=this.get("container");i&&i.parentNode===n?n.replaceChild(t,i):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var i=n(this.get("title"),this.get("items"));ux(i)?t=i:t=Mo(i)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName($a)[0],i=t.getElementsByClassName(Zf)[0];this.set("titleDom",n),this.set("listDom",i)},r.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");n&&t?this.setTitle(t):this.setTitle("")},r.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!t||!n)this.clearCrosshairs();else{var i=Kf(t),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",i),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",i),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}},r.prototype.resetCrosshair=function(t,n){var i=this.checkCrosshair(t),a=this.get(t);t==="x"?Rr(i,{left:fn(a),top:fn(n.y),height:fn(n.height)}):Rr(i,{top:fn(a),left:fn(n.x),width:fn(n.width)})},r.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",i=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),o=Frt[a],s=this.get(n),u=this.get("parent");return s||(s=Mo(this.get(i)),this.applyStyle(o,s),u.appendChild(s),this.set(n,s)),s},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),i=this.get("listDom");i&&(V(t,function(a){var o=Uf.toCSSGradient(a.color),s=C.exports.__assign(C.exports.__assign({},a),{color:o}),u=ox(n,s),l=Mo(u);i.appendChild(l)}),this.applyChildrenStyles(i,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&_2(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(E2),Yrt={opacity:0},Hrt={stroke:"#C5C5C5",strokeOpacity:.85},Xrt={fill:"#CACED4",opacity:.85};function Vrt(e){return Nr(e,function(r,t){var n=t===0?"M":"L",i=r[0],a=r[1];return[n,i,a]})}function L3(e){return Vrt(e)}function Urt(e){if(e.length<=2)return L3(e);var r=[];V(e,function(o){er(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=rtt(r,!1),n=xn(e),i=n[0],a=n[1];return t.unshift(["M",i,a]),t}function Krt(e,r,t,n){n===void 0&&(n=!0);var i=new qg({values:e}),a=new Ug({values:Nr(e,function(s,u){return u})}),o=Nr(e,function(s,u){return[a.scale(u)*r,t-i.scale(s)*t]});return n?Urt(o):L3(o)}function qrt(e,r){var t=new qg({values:e}),n=t.max<0?t.max:Math.max(0,t.min);return r-t.scale(n)*r}function jrt(e,r,t,n){var i=C.exports.__spreadArrays(e),a=qrt(n,t);return i.push(["L",r,a]),i.push(["L",0,a]),i.push(["Z"]),i}var Zrt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Yrt,lineStyle:Hrt,areaStyle:Xrt})},r.prototype.renderInner=function(t){var n=this.cfg,i=n.width,a=n.height,o=n.data,s=n.smooth,u=n.isArea,l=n.backgroundStyle,f=n.lineStyle,c=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:C.exports.__assign({x:0,y:0,width:i,height:a},l)});var h=Krt(o,i,a,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:C.exports.__assign({path:h},f)}),u){var v=jrt(h,i,a,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:C.exports.__assign({path:v},c)})}},r.prototype.applyOffset=function(){var t=this.cfg,n=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:n,y:i})},r}(br),O3={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},PA=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"handler",x:0,y:0,width:10,height:24,style:O3})},r.prototype.renderInner=function(t){var n=this.cfg,i=n.width,a=n.height,o=n.style,s=o.fill,u=o.stroke,l=o.radius,f=o.opacity,c=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:a,fill:s,stroke:u,radius:l,opacity:f,cursor:c}});var h=1/3*i,v=2/3*i,g=1/4*a,d=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:g,x2:h,y2:d,stroke:u,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:v,y1:g,x2:v,y2:d,stroke:u,cursor:c}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(br),Qrt={fill:"#416180",opacity:.05},Jrt={fill:"#5B8FF9",opacity:.15,cursor:"move"},Dv=10,tnt={width:Dv,height:24},ent={textBaseline:"middle",fill:"#000",opacity:.45},rnt="sliderchange",nnt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(i){t.currentTarget=n;var a=i.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=j(a,"touches.0.pageX",a.pageX),t.prevY=j(a,"touches.0.pageY",a.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var i=t.cfg.width,a=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var o=j(n,"touches.0.pageX",n.pageX),s=j(n,"touches.0.pageY",n.pageY),u=o-t.prevX,l=t.adjustOffsetRange(u/i);t.updateStartEnd(l),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(rnt,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var i=this.get("start"),a=this.get("end"),o=Ge(i,t,n),s=Ge(a,t,n);!this.get("isInit")&&(i!==o||a!==s)&&this.setValue([o,s])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange();if(vt(t)&&t.length===2){var i=[this.get("start"),this.get("end")];this.update({start:Ge(t[0],n.min,n.max),end:Ge(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Qrt,foregroundStyle:Jrt,handlerStyle:tnt,textStyle:ent}})},r.prototype.update=function(t){var n=t.start,i=t.end,a=C.exports.__assign({},t);st(n)||(a.start=Ge(n,0,1)),st(i)||(a.end=Ge(i,0,1)),e.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",Ge(this.get("start"),0,1)),this.set("end",Ge(this.get("end"),0,1)),e.prototype.init.call(this)},r.prototype.render=function(){e.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var n=this.cfg;n.start,n.end;var i=n.width,a=n.height,o=n.trendCfg,s=o===void 0?{}:o,u=n.minText,l=n.maxText,f=n.backgroundStyle,c=f===void 0?{}:f,h=n.foregroundStyle,v=h===void 0?{}:h,g=n.textStyle,d=g===void 0?{}:g,m=Et({},O3,this.cfg.handlerStyle);Zr(j(s,"data"))&&(this.trend=this.addComponent(t,C.exports.__assign({component:Zrt,id:this.getElementId("trend"),x:0,y:0,width:i,height:a},s))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:C.exports.__assign({x:0,y:0,width:i,height:a},c)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:C.exports.__assign({y:a/2,textAlign:"right",text:u,silent:!1},d)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:C.exports.__assign({y:a/2,textAlign:"left",text:l,silent:!1},d)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:C.exports.__assign({y:0,height:a},v)});var x=j(m,"width",Dv),E=j(m,"height",24);this.minHandler=this.addComponent(t,{component:PA,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(a-E)/2,width:x,height:E,cursor:"ew-resize",style:m}),this.maxHandler=this.addComponent(t,{component:PA,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(a-E)/2,width:x,height:E,cursor:"ew-resize",style:m})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,n,i){var a=this.cfg,o=a.start,s=a.end,u=a.width,l=a.minText,f=a.maxText,c=a.handlerStyle,h=a.height,v=o*u,g=s*u;this.trend&&(this.trend.update({width:u,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",v),t.attr("width",g-v);var d=j(c,"width",Dv);n.attr("text",l),i.attr("text",f);var m=this._dodgeText([v,g],n,i),x=m[0],E=m[1];this.minHandler&&(this.minHandler.update({x:v-d/2}),this.get("updateAutoRender")||this.minHandler.render()),V(x,function(_,M){return n.attr(M,_)}),this.maxHandler&&(this.maxHandler.update({x:g-d/2}),this.get("updateAutoRender")||this.maxHandler.render()),V(E,function(_,M){return i.attr(M,_)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":{var o=0-i,s=1-i;return Math.min(s,Math.max(o,t))}case"maxHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,t))}case"foreground":{var o=0-i,s=1-a;return Math.min(s,Math.max(o,t))}}},r.prototype.updateStartEnd=function(t){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":a+=t;break;case"foreground":i+=t,a+=t;break}this.set("start",i),this.set("end",a)},r.prototype._dodgeText=function(t,n,i){var a,o,s=this.cfg,u=s.handlerStyle,l=s.width,f=2,c=j(u,"width",Dv),h=t[0],v=t[1],g=!1;h>v&&(a=[v,h],h=a[0],v=a[1],o=[i,n],n=o[0],i=o[1],g=!0);var d=n.getBBox(),m=i.getBBox(),x=d.width>h-f?{x:h+c/2+f,textAlign:"left"}:{x:h-c/2-f,textAlign:"right"},E=m.width>l-v-f?{x:v-c/2-f,textAlign:"right"}:{x:v+c/2+f,textAlign:"left"};return g?[E,x]:[x,E]},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r}(br),int={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},o1={default:int,hover:{thumbColor:"rgba(0,0,0,0.2)"}},ant=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.clearEvents=Ta,t.onStartEvent=function(n){return function(i){t.isMobile=n,i.originalEvent.preventDefault();var a=n?j(i.originalEvent,"touches.0.clientX"):i.clientX,o=n?j(i.originalEvent,"touches.0.clientY"):i.clientY;t.startPos=t.cfg.isHorizontal?a:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),i=[];t.isMobile?i=[nu(n,"touchmove",t.onMouseMove),nu(n,"touchend",t.onMouseUp),nu(n,"touchcancel",t.onMouseUp)]:i=[nu(n,"mousemove",t.onMouseMove),nu(n,"mouseup",t.onMouseUp),nu(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){i.forEach(function(a){a.remove()})}},t.onMouseMove=function(n){var i=t.cfg,a=i.isHorizontal,o=i.thumbOffset;n.preventDefault();var s=t.isMobile?j(n,"touches.0.clientX"):n.clientX,u=t.isMobile?j(n,"touches.0.clientY"):n.clientY,l=a?s:u,f=l-t.startPos;t.startPos=l,t.updateThumbOffset(o+f)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var i=t.cfg,a=i.isHorizontal,o=i.x,s=i.y,u=i.thumbLen,l=t.getContainerDOM(),f=l.getBoundingClientRect(),c=n.clientX,h=n.clientY,v=a?c-f.left-o-u/2:h-f.top-s-u/2,g=t.validateRange(v);t.updateThumbOffset(g)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var i=this.getValue(),a=Ge(i,t,n);i!==a&&!this.get("isInit")&&this.setValue(a)},r.prototype.getRange=function(){var t=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:t,max:n}},r.prototype.setValue=function(t){var n=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Ge(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},r.prototype.getValue=function(){return Ge(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return C.exports.__assign(C.exports.__assign({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:o1})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var n=this.cfg,i=n.trackLen,a=n.theme,o=a===void 0?{default:{}}:a,s=Et({},o1,o).default,u=s.lineCap,l=s.trackColor,f=s.size,c=j(this.cfg,"size",f),h=this.get("isHorizontal")?{x1:0+c/2,y1:c/2,x2:i-c/2,y2:c/2,lineWidth:c,stroke:l,lineCap:u}:{x1:c/2,y1:0+c/2,x2:c/2,y2:i-c/2,lineWidth:c,stroke:l,lineCap:u};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},r.prototype.renderThumbShape=function(t){var n=this.cfg,i=n.thumbOffset,a=n.thumbLen,o=n.theme,s=Et({},o1,o).default,u=s.size,l=s.lineCap,f=s.thumbColor,c=j(this.cfg,"size",u),h=this.get("isHorizontal")?{x1:i+c/2,y1:c/2,x2:i+a-c/2,y2:c/2,lineWidth:c,stroke:f,lineCap:l,cursor:"default"}:{x1:c/2,y1:i+c/2,x2:c/2,y2:i+a-c/2,lineWidth:c,stroke:f,lineCap:l,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var n=t.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var i=t.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r.prototype.validateRange=function(t){var n=this.cfg,i=n.thumbLen,a=n.trackLen,o=t;return t+i>a?o=a-i:t+i<i&&(o=0),o},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.updateThumbOffset=function(t){var n=this.cfg,i=n.thumbOffset,a=n.isHorizontal,o=n.thumbLen,s=n.size,u=this.validateRange(t);if(u!==i){var l=this.getElementByLocalId("thumb");a?l.attr({x1:u+s/2,x2:u+o-s/2}):l.attr({y1:u+s/2,y2:u+o-s/2}),this.emitOffsetChange(u)}},r.prototype.emitOffsetChange=function(t){var n=this.cfg,i=n.thumbOffset,a=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Ge(t/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},r}(br),ont=Srt,snt=Trt,unt=Irt,lnt=Ort,bA=Drt,fnt=Rrt,rd=Wrt;function cnt(e){if(Di(e))return null;var r=e[0].x,t=e[0].x,n=e[0].y,i=e[0].y;return V(e,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,n=n>a.y?a.y:n,i=i<a.y?a.y:i}),{minX:r,maxX:t,minY:n,maxY:i,centerX:(r+t)/2,centerY:(n+i)/2}}function LA(e){return Array.from(new Set(e)).length===1}function OA(e){return(Gn(e)+mn(e))/2}function sr(e,r,t,n){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function ws(e,r,t,n,i,a){a===void 0&&(a=0);var o=sr(e,r,t,n),s=sr(e,r,t,i),u=sr(e,r,a,n),l=sr(e,r,a,i);if(i-n===Math.PI*2){var f=sr(e,r,t,n+Math.PI),c=sr(e,r,a,n+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,f.x,f.y],["A",t,t,0,1,1,s.x,s.y],["M",u.x,u.y]];return a&&(h.push(["A",a,a,0,1,0,c.x,c.y]),h.push(["A",a,a,0,1,0,l.x,l.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var v=i-n<=Math.PI?0:1,g=[["M",o.x,o.y],["A",t,t,0,v,1,s.x,s.y],["L",l.x,l.y]];return a&&g.push(["A",a,a,0,v,0,u.x,u.y]),g.push(["L",o.x,o.y]),g.push(["Z"]),g}function I3(e,r,t,n,i){var a=sr(e,r,t,n),o=sr(e,r,t,i);if(hr(i-n,Math.PI*2)){var s=sr(e,r,t,n+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var u=i-n<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,u,1,o.x,o.y]]}function Hp(e,r){var t=e.points,n=cnt(t),i,a,o=r.startAngle,s=r.endAngle,u=s-o;return r.isTransposed?(i=n.maxY*u,a=n.minY*u):(i=n.maxX*u,a=n.minX*u),i+=o,a+=o,{startAngle:a,endAngle:i}}function hnt(e,r){if(Zt(e)&&Zt(r))return[e,r];if(e=e,r=r,LA(e)||LA(r))return[OA(e),OA(r)];for(var t=-1,n=0,i=0,a,o=e.length-1,s,u=0;++t<e.length;)a=o,o=t,u+=s=e[a]*r[o]-e[o]*r[a],n+=(e[a]+e[o])*s,i+=(r[a]+r[o])*s;return u*=3,[n/u,i/u]}function D3(e,r){var t=e.attr(),n=r.attr();return V(t,function(i,a){n[a]===void 0&&(n[a]=void 0)}),n}function yu(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}function vnt(e,r,t){if(Nt(e))return e.padEnd(r,t);if(vt(e)){var n=e.length;if(n<r)for(var i=r-n,a=0;a<i;a++)e.push(t)}return e}function cn(e,r){return typeof e=="object"&&r.forEach(function(t){delete e[t]}),e}function po(e,r,t){var n,i;r===void 0&&(r=[]),t===void 0&&(t=new Map);try{for(var a=C.exports.__values(e),o=a.next();!o.done;o=a.next()){var s=o.value;t.has(s)||(r.push(s),t.set(s,!0))}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r}var Qr=function(){function e(r,t,n,i){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=r,this.y=t,this.height=i,this.width=n}return e.fromRange=function(r,t,n,i){return new e(r,t,n-r,i-t)},e.fromObject=function(r){return new e(r.minX,r.minY,r.width,r.height)},Object.defineProperty(e.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},e.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return V(r,function(i){n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y),n.width=Math.max(i.maxX,n.maxX)-n.x,n.height=Math.max(i.maxY,n.maxY)-n.y}),n},e.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return V(r,function(i){n.x=Math.max(i.x,n.x),n.y=Math.max(i.y,n.y),n.width=Math.min(i.maxX,n.maxX)-n.x,n.height=Math.min(i.maxY,n.maxY)-n.y}),n},e.prototype.cut=function(r,t){var n=r.width,i=r.height;switch(t){case dt.TOP:case dt.TOP_LEFT:case dt.TOP_RIGHT:return e.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case dt.RIGHT:case dt.RIGHT_TOP:case dt.RIGHT_BOTTOM:return e.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case dt.BOTTOM:case dt.BOTTOM_LEFT:case dt.BOTTOM_RIGHT:return e.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case dt.LEFT:case dt.LEFT_TOP:case dt.LEFT_BOTTOM:return e.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},e.prototype.shrink=function(r){var t=C.exports.__read(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return new e(this.x+o,this.y+n,this.width-o-i,this.height-n-a)},e.prototype.expand=function(r){var t=C.exports.__read(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return new e(this.x-o,this.y-n,this.width+o+i,this.height+n+a)},e.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},e.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},e.prototype.size=function(){return this.width*this.height},e.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},e}();function pnt(e){return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]]}function _c(e){if(e.isPolar&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var r=e.convert({x:0,y:0}),t=e.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function gnt(e){if(e.isPolar){var r=e.startAngle,t=e.endAngle;return t-r===Math.PI*2}return!1}function nd(e,r){var t=e.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function dnt(e,r){var t=!1;if(e)if(e.type==="theta"){var n=e.start,i=e.end;t=yu(r.x,n.x,i.x)&&yu(r.y,n.y,i.y)}else{var a=e.invert(r);t=yu(a.x,0,1)&&yu(a.y,0,1)}return t}function Hu(e,r){var t=e.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function A2(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),a=e.getHeight();if(e.isPolar){var o=e.startAngle,s=e.endAngle,u=e.getCenter(),l=e.getRadius();return{type:"path",startState:{path:ws(u.x,u.y,l+r,o,o)},endState:function(c){var h=(s-o)*c+o,v=ws(u.x,u.y,l+r,o,h);return{path:v}},attrs:{path:ws(u.x,u.y,l+r,o,s)}}}var f;return e.isTransposed?f={height:a+r*2}:f={width:i+r*2},{type:"rect",startState:{x:t.x-r,y:n.y-r,width:e.isTransposed?i+r*2:0,height:e.isTransposed?0:a+r*2},endState:f,attrs:{x:t.x-r,y:n.y-r,width:i+r*2,height:a+r*2}}}function ynt(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),a=e.getHeight(),o=Math.min(t.x,n.x),s=Math.min(t.y,n.y);return Qr.fromRange(o-r,s-r,o+i+r,s+a+r)}var mnt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function xnt(e){var r="linear";return mnt.test(e)?r="timeCat":Nt(e)&&(r="cat"),r}function B3(e,r,t,n){return r===void 0&&(r={}),r.type?r.type:e.type!=="identity"&&pu.includes(t)&&["interval"].includes(n)||e.isCategory?"cat":e.type}function wnt(e,r,t){var n=r||[];if(Zt(e)||st(WP(n,e))&&Di(t)){var i=zm("identity");return new i({field:e.toString(),values:[e]})}var a=na(n,e),o=j(t,"type",xnt(a[0])),s=zm(o);return new s(C.exports.__assign({field:e,values:a},t))}function _nt(e,r){if(e.type!=="identity"&&r.type!=="identity"){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);e.change(t)}}function Qf(e){return e.alias||e.field}function R3(e,r,t){var n=e.values,i=n.length,a;if(i===1)a=[.5,1];else{var o=1,s=0;gnt(r)?r.isTransposed?(o=j(t,"widthRatio.multiplePie",1/1.3),s=1/i*o,a=[s/2,1-s/2]):a=[0,1-1/i]:(s=1/i/2,a=[s,1-s])}return a}function Ent(e){var r=e.values.filter(function(t){return!st(t)&&!isNaN(t)});return Math.max.apply(Math,C.exports.__spreadArray(C.exports.__spreadArray([],C.exports.__read(r),!1),[st(e.max)?-1/0:e.max],!1))}function Mnt(e){var r,t;switch(e){case dt.TOP:r={x:0,y:1},t={x:1,y:1};break;case dt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case dt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case dt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Cnt(e){var r,t;return e.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function Qh(e,r){var t={start:{x:0,y:0},end:{x:0,y:0}};e.isRect?t=Mnt(r):e.isPolar&&(t=Cnt(e));var n=t.start,i=t.end;return{start:e.convert(n),end:e.convert(i)}}function F3(e){var r=e.start,t=e.end;return r.x===t.x}function IA(e,r){var t=e.start,n=e.end,i=F3(e);return i?(t.y-n.y)*(r.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-r.y)>0?-1:1}function Jh(e,r){var t=j(e,["components","axis"],{});return Et({},j(t,["common"],{}),Et({},j(t,[r],{})))}function DA(e,r,t){var n=j(e,["components","axis"],{});return Et({},j(n,["common","title"],{}),Et({},j(n,[r,"title"],{})),t)}function s1(e){var r=e.x,t=e.y,n=e.circleCenter,i=t.start>t.end,a=e.isTransposed?e.convert({x:i?0:1,y:0}):e.convert({x:0,y:i?0:1}),o=[a.x-n.x,a.y-n.y],s=[1,0],u=a.y>n.y?Am(o,s):Am(o,s)*-1,l=u+(r.end-r.start),f=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2));return{center:n,radius:f,startAngle:u,endAngle:l}}function Xp(e,r){return bu(e)?e===!1?!1:{}:j(e,[r])}function BA(e,r){return j(e,"position",r)}function RA(e,r){return j(r,["title","text"],Qf(e))}var al=function(){function e(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=Et({},this.getDefaultCfg(),t)}return e.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},e.prototype.render=function(){this.renderViews()},e.prototype.update=function(){},e.prototype.clear=function(){this.clearFacetViews()},e.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},e.prototype.facetToView=function(r){var t=r.region,n=r.data,i=r.padding,a=i===void 0?this.cfg.padding:i,o=this.view.createView({region:t,padding:a});o.data(n||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},e.prototype.createContainer=function(){var r=this.view.getLayer(Ve.FORE);return r.addGroup()},e.prototype.renderViews=function(){this.createFacetViews()},e.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},e.prototype.clearFacetViews=function(){var r=this;V(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},e.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,n=r.height,i=this.cfg.spacing;return i.map(function(a,o){return Zt(a)?a/(o===0?t:n):parseFloat(a)/100})},e.prototype.getFieldValues=function(r,t){var n=[],i={};return V(r,function(a){var o=a[t];!st(o)&&!i[o]&&(n.push(o),i[o]=!0)}),n},e.prototype.getRegion=function(r,t,n,i){var a=C.exports.__read(this.parseSpacing(),2),o=a[0],s=a[1],u=(1+o)/(t===0?1:t)-o,l=(1+s)/(r===0?1:r)-s,f={x:(u+o)*n,y:(l+s)*i},c={x:f.x+u,y:f.y+l};return{start:f,end:c}},e.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},e.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},e.prototype.processAxis=function(r,t){var n=r.getOptions(),i=n.coordinate,a=r.geometries,o=j(i,"type","rect");if(o==="rect"&&a.length){st(n.axes)&&(n.axes={});var s=n.axes,u=C.exports.__read(a[0].getXYFields(),2),l=u[0],f=u[1],c=Xp(s,l),h=Xp(s,f);c!==!1&&(n.axes[l]=this.getXAxisOption(l,s,c,t)),h!==!1&&(n.axes[f]=this.getYAxisOption(f,s,h,t))}},e.prototype.getFacetDataFilter=function(r){return function(t){return KP(r,function(n){var i=n.field,a=n.value;return!st(a)&&i?t[i]===a:!0})}},e}(),k3={},Snt=function(e){return k3[Is(e)]},ol=function(e,r){k3[Is(e)]=r},dr=function(){function e(r,t){this.context=r,this.cfg=t,r.addAction(this)}return e.prototype.applyCfg=function(r){Te(this,r)},e.prototype.init=function(){this.applyCfg(this.cfg)},e.prototype.destroy=function(){this.context.removeAction(this),this.context=null},e}(),Tnt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.callback=null},r}(dr),$3={};function Ant(e,r){var t=$3[e],n=null;if(t){var i=t.ActionClass,a=t.cfg;n=new i(r,a),n.name=e,n.init()}return n}function Wt(e,r,t){$3[e]={ActionClass:r,cfg:t}}function Pnt(e,r){var t=new Tnt(r);return t.callback=e,t.name="callback",t}function bnt(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var a=e[n];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function Vm(e,r){for(var t=[e[0]],n=1,i=e.length;n<i;n=n+2){var a=r.convert({x:e[n],y:e[n+1]});t.push(a.x,a.y)}return t}function N3(e,r){var t=r.isTransposed,n=e[1],i=e[6],a=e[7],o=r.convert({x:i,y:a}),s=t?0:1;return["A",n,n,0,0,s,o.x,o.y]}function Lnt(e,r,t){var n=t.isTransposed,i=t.startAngle,a=t.endAngle,o=e[0].toLowerCase()==="a"?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},s={x:r[1],y:r[2]},u=[],l=n?"y":"x",f=Math.abs(s[l]-o[l])*(a-i),c=s[l]>=o[l]?1:0,h=f>Math.PI?1:0,v=t.convert(s),g=nd(t,v);if(g>=.5)if(f===Math.PI*2){var d={x:(s.x+o.x)/2,y:(s.y+o.y)/2},m=t.convert(d);u.push(["A",g,g,0,h,c,m.x,m.y]),u.push(["A",g,g,0,h,c,v.x,v.y])}else u.push(["A",g,g,0,h,c,v.x,v.y]);return u}function Ont(e){V(e,function(r,t){var n=r;if(n[0].toLowerCase()==="a"){var i=e[t-1],a=e[t+1];a&&a[0].toLowerCase()==="a"?i&&i[0].toLowerCase()==="l"&&(i[0]="M"):i&&i[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Int=function(e,r,t,n){var i,a=[],o=!!n,s,u,l,f,c,h,v;if(o){i=C.exports.__read(n,2),l=i[0],f=i[1];for(var g=0,d=e.length;g<d;g++){var m=e[g];l=vn([0,0],l,m),f=pn([0,0],f,m)}}for(var g=0,x=e.length;g<x;g++){var m=e[g];if(g===0&&!t)v=m;else if(g===x-1&&!t)h=m,a.push(v),a.push(h);else{s=e[t?g?g-1:x-1:g-1],u=e[t?(g+1)%x:g+1];var E=[0,0];E=Su(E,u,s),E=fi(E,E,r);var _=Dp(m,s),M=Dp(m,u),A=_+M;A!==0&&(_/=A,M/=A);var b=fi([0,0],E,-_),I=fi([0,0],E,M);h=mo([0,0],m,b),c=mo([0,0],m,I),c=vn([0,0],c,pn([0,0],u,m)),c=pn([0,0],c,vn([0,0],u,m)),b=Su([0,0],c,m),b=fi([0,0],b,-_/M),h=mo([0,0],m,b),h=vn([0,0],h,pn([0,0],s,m)),h=pn([0,0],h,vn([0,0],s,m)),I=Su([0,0],m,h),I=fi([0,0],I,M/_),c=mo([0,0],m,I),o&&(h=pn([0,0],h,l),h=vn([0,0],h,f),c=pn([0,0],c,l),c=vn([0,0],c,f)),a.push(v),a.push(h),v=c}}return t&&a.push(a.shift()),a};function z3(e,r,t){for(var n=!!r,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=Int(i,.4,n,t),u=i.length,l=[],f,c,h,a=0;a<u-1;a++)f=s[a*2],c=s[a*2+1],h=i[a+1],l.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return n&&(f=s[u],c=s[u+1],h=i[0],l.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),l}function Ec(e,r){return bnt(e,r)}function Vp(e,r,t){var n=[],i=e[0],a=null;if(e.length<=2)return Ec(e,r);for(var o=0,s=e.length;o<s;o++){var u=e[o];(!a||!(a.x===u.x&&a.y===u.y))&&(n.push(u.x),n.push(u.y),a=u)}var l=t||[[0,0],[1,1]],f=z3(n,r,l);return f.unshift(["M",i.x,i.y]),f}function Dnt(e,r){var t=[];return V(r,function(n){var i=n[0];switch(i.toLowerCase()){case"m":case"l":case"c":t.push(Vm(n,e));break;case"a":t.push(N3(n,e));break;case"z":default:t.push(n);break}}),t}function Bnt(e,r){var t=[],n,i,a,o;return V(r,function(s,u){var l=s[0];switch(l.toLowerCase()){case"m":case"c":case"q":t.push(Vm(s,e));break;case"l":n=r[u-1],i=s,a=e.isTransposed,o=a?n[n.length-2]===i[1]:n[n.length-1]===i[2],o?t=t.concat(Lnt(n,i,e)):t.push(Vm(s,e));break;case"a":t.push(N3(s,e));break;case"z":default:t.push(s);break}}),Ont(t),t}function G3(e,r){var t=e.event,n=t.target,i=n.getCanvasBBox();return i.width>=r||i.height>=r?i:null}function Rnt(e,r){var t=e.event,n=t.target,i=n.getCanvasBBox();return i.width>=r||i.height>=r?n.attr("path"):null}function Do(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}function Xu(e){var r=e.event,t=r.target,n;return t&&(n=t.get("delegateObject")),n}function W3(e){var r=e.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Jf(e){return e&&e.component&&e.component.isList()}function Y3(e){return e&&e.component&&e.component.isSlider()}function tc(e){var r=e.event,t=r.target;return t&&t.get("name")==="mask"}function P2(e,r){var t=e.event.target;if(t.get("type")==="path"){var n=Rnt(e,r);return n?$nt(e.view,n):void 0}var i=G3(e,r);return i?b2(e.view,i):null}function H3(e,r,t){var n=G3(e,t);if(!n)return null;var i=e.view,a=Um(i,r,{x:n.x,y:n.y}),o=Um(i,r,{x:n.maxX,y:n.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return b2(r,s)}function _r(e){var r=e.geometries,t=[];return V(r,function(n){var i=n.elements;t=t.concat(i)}),e.views&&e.views.length&&V(e.views,function(n){t=t.concat(_r(n))}),t}function Fnt(e,r,t){var n=_r(e);return n.filter(function(i){return Ri(i,r)===t})}function X3(e,r){var t=e.geometries,n=[];return V(t,function(i){var a=i.getElementsBy(function(o){return o.hasState(r)});n=n.concat(a)}),n}function Ri(e,r){var t=e.getModel(),n=t.data,i;return vt(n)?i=n[0][r]:i=n[r],i}function knt(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function b2(e,r){var t=_r(e),n=[];return V(t,function(i){var a=i.shape,o=a.getCanvasBBox();knt(r,o)&&n.push(i)}),n}function FA(e){var r=[];return V(e,function(t){var n=t[0];if(n!=="A")for(var i=1;i<t.length;i=i+2)r.push([t[i],t[i+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function $nt(e,r){var t=_r(e),n=FA(r),i=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=FA(o.attr("path"));else{var u=o.getCanvasBBox();s=pnt(u)}return htt(n,s)});return i}function V3(e){return e.getComponents().map(function(r){return r.component})}function L2(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}function Nnt(e,r){if(e.length<=2)return Ec(e,!1);var t=e[0],n=[];V(e,function(a){n.push(a.x),n.push(a.y)});var i=z3(n,r,null);return i.unshift(["M",t.x,t.y]),i}function kA(e,r){return e.x<=r.x&&e.maxX>=r.x&&e.y<=r.y&&e.maxY>r.y}function ea(e){var r=e.parent,t=null;return r&&(t=r.views.filter(function(n){return n!==e})),t}function znt(e,r){var t=e.getCoordinate();return t.invert(r)}function Um(e,r,t){var n=znt(e,t);return r.getCoordinate().convert(n)}function U3(e,r,t,n){var i=!1;return V(e,function(a){if(a[t]===r[t]&&a[n]===r[n])return i=!0,!1}),i}function Vu(e,r){var t=e.getScaleByField(r);return!t&&e.views&&V(e.views,function(n){if(t=Vu(n,r),t)return!1}),t}var Gnt=function(){function e(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return e.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},e.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},e.prototype.addAction=function(r){this.actions.push(r)},e.prototype.removeAction=function(r){var t=this.actions,n=this.actions.indexOf(r);n>=0&&t.splice(n,1)},e.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(r.clientX,r.clientY);return n}else return{x:r.x,y:r.y};return null},e.prototype.getCurrentShape=function(){return j(this.event,["gEvent","shape"])},e.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},e.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},e.prototype.isInComponent=function(r){var t=V3(this.view),n=this.getCurrentPoint();return n?!!t.find(function(i){var a=i.getBBox();return r?i.get("name")===r&&kA(a,n):kA(a,n)}):!1},e.prototype.destroy=function(){V(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},e}(),Wnt=function(){function e(r,t){this.view=r,this.cfg=t}return e.prototype.init=function(){this.initEvents()},e.prototype.initEvents=function(){},e.prototype.clearEvents=function(){},e.prototype.destroy=function(){this.clearEvents()},e}();function $A(e,r,t){var n=e.split(":"),i=n[0],a=r.getAction(i)||Ant(i,r);if(!a)throw new Error("There is no action named ".concat(i));var o=n[1];return{action:a,methodName:o,arg:t}}function NA(e){var r=e.action,t=e.methodName,n=e.arg;if(r[t])r[t](n);else throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t))}var Rn={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Ynt=function(e){C.exports.__extends(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return r.prototype.init=function(){this.initContext(),e.prototype.init.call(this)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;V(this.steps,function(n,i){V(n,function(a){var o=t.getActionCallback(i,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;V(this.steps,function(n,i){V(n,function(a){var o=t.getActionCallback(i,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,n=new Gnt(t);this.context=n;var i=this.steps;V(i,function(a){V(a,function(o){if(Lt(o.action))o.actionObject={action:Pnt(o.action,n),methodName:"execute"};else if(Nt(o.action))o.actionObject=$A(o.action,n,o.arg);else if(vt(o.action)){var s=o.action,u=vt(o.arg)?o.arg:[o.arg];o.actionObject=[],V(s,function(l,f){o.actionObject.push($A(l,n,u[f]))})}})})},r.prototype.isAllowStep=function(t){var n=this.currentStepName,i=this.steps;if(n===t||t===Rn.SHOW_ENABLE)return!0;if(t===Rn.PROCESSING)return n===Rn.START;if(t===Rn.START)return n!==Rn.PROCESSING;if(t===Rn.END)return n===Rn.PROCESSING||n===Rn.START;if(t===Rn.ROLLBACK){if(i[Rn.END])return n===Rn.END;if(n===Rn.START)return!0}return!1},r.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var i=this.getKey(t,n);return n.once&&this.emitCaches[i]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,n){t!==Rn.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,n);this.emitCaches[i]=!0},r.prototype.getKey=function(t,n){return t+n.trigger+n.action},r.prototype.getActionCallback=function(t,n){var i=this,a=this.context,o=this.callbackCaches,s=n.actionObject;if(n.action&&s){var u=this.getKey(t,n);if(!o[u]){var l=function(f){a.event=f,i.isAllowExecute(t,n)?(vt(s)?V(s,function(c){a.event=f,NA(c)}):(a.event=f,NA(s)),i.afterExecute(t,n),n.callback&&(a.event=f,n.callback(a))):a.event=null};n.debounce?o[u]=lx(l,n.debounce.wait,n.debounce.immediate):n.throttle?o[u]=ag(l,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[u]=l}return o[u]}return null},r.prototype.bindEvent=function(t,n){var i=t.split(":");i[0]==="window"?window.addEventListener(i[1],n):i[0]==="document"?document.addEventListener(i[1],n):this.view.on(t,n)},r.prototype.offEvent=function(t,n){var i=t.split(":");i[0]==="window"?window.removeEventListener(i[1],n):i[0]==="document"?document.removeEventListener(i[1],n):this.view.off(t,n)},r}(Wnt),K3={};function Hnt(e){return K3[Is(e)]}function $e(e,r){K3[Is(e)]=r}function Xnt(e,r,t){var n=Hnt(e);if(!n)return null;if(Ii(n)){var i=Te(dn(n),t);return new Ynt(r,i)}else{var a=n;return new a(r,t)}}function Vnt(e){return{title:{autoRotate:!0,position:"center",spacing:e.axisTitleSpacing,style:{fill:e.axisTitleTextFillColor,fontSize:e.axisTitleTextFontSize,lineHeight:e.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily},iconStyle:{fill:e.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:e.axisLabelOffset,style:{fill:e.axisLabelFillColor,fontSize:e.axisLabelFontSize,lineHeight:e.axisLabelLineHeight,fontFamily:e.fontFamily}},line:{style:{lineWidth:e.axisLineBorder,stroke:e.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:e.axisGridBorderColor,lineWidth:e.axisGridBorder,lineDash:e.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:e.axisTickLineBorder,stroke:e.axisTickLineBorderColor},alignTick:!0,length:e.axisTickLineLength},subTickLine:null,animate:!0}}function Unt(e){return{title:null,marker:{symbol:"circle",spacing:e.legendMarkerSpacing,style:{r:e.legendCircleMarkerSize,fill:e.legendMarkerColor}},itemName:{spacing:5,style:{fill:e.legendItemNameFillColor,fontFamily:e.fontFamily,fontSize:e.legendItemNameFontSize,lineHeight:e.legendItemNameLineHeight,fontWeight:e.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:e.legendPageNavigatorMarkerSize,inactiveFill:e.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:e.legendPageNavigatorMarkerInactiveFillOpacity,fill:e.legendPageNavigatorMarkerFillColor,opacity:e.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:e.legendPageNavigatorTextFillColor,fontSize:e.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:e.legendItemSpacing,itemMarginBottom:e.legendItemMarginBottom,padding:e.legendPadding}}function q3(e){var r,t={point:{default:{fill:e.pointFillColor,r:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{stroke:e.pointActiveBorderColor,lineWidth:e.pointActiveBorder},selected:{stroke:e.pointSelectedBorderColor,lineWidth:e.pointSelectedBorder},inactive:{fillOpacity:e.pointInactiveFillOpacity,strokeOpacity:e.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:e.hollowPointFillColor,lineWidth:e.hollowPointBorder,stroke:e.hollowPointBorderColor,strokeOpacity:e.hollowPointBorderOpacity,r:e.hollowPointSize},active:{stroke:e.hollowPointActiveBorderColor,strokeOpacity:e.hollowPointActiveBorderOpacity},selected:{lineWidth:e.hollowPointSelectedBorder,stroke:e.hollowPointSelectedBorderColor,strokeOpacity:e.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:e.hollowPointInactiveBorderOpacity}},area:{default:{fill:e.areaFillColor,fillOpacity:e.areaFillOpacity,stroke:null},active:{fillOpacity:e.areaActiveFillOpacity},selected:{fillOpacity:e.areaSelectedFillOpacity},inactive:{fillOpacity:e.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:e.hollowAreaBorderColor,lineWidth:e.hollowAreaBorder,strokeOpacity:e.hollowAreaBorderOpacity},active:{fill:null,lineWidth:e.hollowAreaActiveBorder},selected:{fill:null,lineWidth:e.hollowAreaSelectedBorder},inactive:{strokeOpacity:e.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:e.intervalFillColor,fillOpacity:e.intervalFillOpacity},active:{stroke:e.intervalActiveBorderColor,lineWidth:e.intervalActiveBorder},selected:{stroke:e.intervalSelectedBorderColor,lineWidth:e.intervalSelectedBorder},inactive:{fillOpacity:e.intervalInactiveFillOpacity,strokeOpacity:e.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:e.hollowIntervalFillColor,stroke:e.hollowIntervalBorderColor,lineWidth:e.hollowIntervalBorder,strokeOpacity:e.hollowIntervalBorderOpacity},active:{stroke:e.hollowIntervalActiveBorderColor,lineWidth:e.hollowIntervalActiveBorder,strokeOpacity:e.hollowIntervalActiveBorderOpacity},selected:{stroke:e.hollowIntervalSelectedBorderColor,lineWidth:e.hollowIntervalSelectedBorder,strokeOpacity:e.hollowIntervalSelectedBorderOpacity},inactive:{stroke:e.hollowIntervalInactiveBorderColor,lineWidth:e.hollowIntervalInactiveBorder,strokeOpacity:e.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:e.lineBorderColor,lineWidth:e.lineBorder,strokeOpacity:e.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:e.lineActiveBorder},selected:{lineWidth:e.lineSelectedBorder},inactive:{strokeOpacity:e.lineInactiveBorderOpacity}}},n=Vnt(e),i=Unt(e);return{background:e.backgroundColor,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,padding:"auto",fontFamily:e.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=Hp(a.getModel(),o),u=s.startAngle,l=s.endAngle,f=(u+l)/2,c=7.5,h=c*Math.cos(f),v=c*Math.sin(f);return{matrix:or(null,[["t",h,v]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:C.exports.__assign(C.exports.__assign({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:C.exports.__assign(C.exports.__assign({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:C.exports.__assign(C.exports.__assign({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:C.exports.__assign(C.exports.__assign({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:C.exports.__assign(C.exports.__assign({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:C.exports.__assign(C.exports.__assign({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:C.exports.__assign(C.exports.__assign({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:C.exports.__assign(C.exports.__assign({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Et({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:Et({},n.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:e.legendVerticalPadding},left:{layout:"vertical",padding:e.legendVerticalPadding},top:{layout:"horizontal",padding:e.legendHorizontalPadding},bottom:{layout:"horizontal",padding:e.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:e.sliderRailHeight,defaultLength:e.sliderRailWidth,style:{fill:e.sliderRailFillColor,stroke:e.sliderRailBorderColor,lineWidth:e.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:e.sliderLabelTextFillColor,fontSize:e.sliderLabelTextFontSize,lineHeight:e.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily}},handler:{size:e.sliderHandlerWidth,style:{fill:e.sliderHandlerFillColor,stroke:e.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:e.tooltipCrosshairsBorderColor,lineWidth:e.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(ka)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:e.tooltipContainerFillColor,opacity:e.tooltipContainerFillOpacity,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:"".concat(e.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat($a)]={marginBottom:"12px",marginTop:"12px"},r["".concat(Zf)]={margin:0,listStyleType:"none",padding:0},r["".concat(Jg)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(td)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(ed)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:e.annotationArcBorderColor,lineWidth:e.annotationArcBorder},animate:!0},line:{style:{stroke:e.annotationLineBorderColor,lineDash:e.annotationLineDash,lineWidth:e.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textAlign:"start",fontFamily:e.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:e.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:e.annotationRegionBorder,stroke:e.annotationRegionBorderColor,fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:e.brandColor,lineWidth:2}},line:{style:{stroke:e.annotationLineBorderColor,lineWidth:e.annotationLineBorder},length:e.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:e.cSliderBackgroundFillColor,opacity:e.cSliderBackgroundFillOpacity},foregroundStyle:{fill:e.cSliderForegroundFillColor,opacity:e.cSliderForegroundFillOpacity},handlerStyle:{width:e.cSliderHandlerWidth,height:e.cSliderHandlerHeight,fill:e.cSliderHandlerFillColor,opacity:e.cSliderHandlerFillOpacity,stroke:e.cSliderHandlerBorderColor,lineWidth:e.cSliderHandlerBorder,radius:e.cSliderHandlerBorderRadius,highLightFill:e.cSliderHandlerHighlightFillColor},textStyle:{fill:e.cSliderTextFillColor,opacity:e.cSliderTextFillOpacity,fontSize:e.cSliderTextFontSize,lineHeight:e.cSliderTextLineHeight,fontWeight:e.cSliderTextFontWeight,stroke:e.cSliderTextBorderColor,lineWidth:e.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:e.scrollbarTrackFillColor,thumbColor:e.scrollbarThumbFillColor}},hover:{style:{thumbColor:e.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,stroke:e.labelBorderColor,lineWidth:e.labelBorder},fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:e.innerLabelFillColor,fontSize:e.innerLabelFontSize,fontFamily:e.fontFamily,stroke:e.innerLabelBorderColor,lineWidth:e.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:e.overflowLabelFillColor,fontSize:e.overflowLabelFontSize,fontFamily:e.fontFamily,stroke:e.overflowLabelBorderColor,lineWidth:e.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:e.labelLineBorder}},autoRotate:!0}}}var fe={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},iu={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Knt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],qnt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],jnt=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],j3=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?Knt:r,n=e.paletteQualitative20,i=n===void 0?qnt:n,a=e.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:jnt,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:fe[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:fe[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:iu[85],axisTickLineBorderColor:fe[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:fe[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:fe[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:fe[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:fe[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:fe[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:fe[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:fe[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:fe[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:fe[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:fe[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:fe[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:fe[25],annotationArcBorderColor:fe[15],annotationArcBorder:1,annotationLineBorderColor:fe[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:fe[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:fe[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:fe[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:fe[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:fe[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:iu[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:fe[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:iu[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:fe[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:iu[100],pointBorderOpacity:1,pointActiveBorderColor:fe[100],pointSelectedBorder:2,pointSelectedBorderColor:fe[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:iu[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:fe[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:fe[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:fe[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:fe[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:fe[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:fe[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:iu[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:fe[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:fe[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return C.exports.__assign(C.exports.__assign({},s),e)};j3();function Up(e){var r=e.styleSheet,t=r===void 0?{}:r,n=C.exports.__rest(e,["styleSheet"]),i=j3(t);return Et({},q3(i),n)}var Znt=Up({}),Km={default:Znt};function u1(e){return j(Km,Is(e),Km.default)}function Qnt(e,r){Km[Is(e)]=Up(r)}function zA(e,r,t){var n=t.translate(e),i=t.translate(r);return hr(n,i)}function Jnt(e,r){var t=r.coordinate,n=r.getXScale(),i=n.range,a=i[i.length-1],o=i[0],s=t.invert(e),u=s.x;return t.isPolar&&u>(1+a)/2&&(u=o),n.translate(n.invert(u))}function GA(e,r,t){var n=t.coordinate,i=t.getYScale(),a=i.field,o=n.invert(r),s=i.invert(o.y),u=Ji(e,function(l){var f=l[ge];return f[a][0]<=s&&f[a][1]>=s});return u||e[e.length-1]}var tit=ac(function(e){if(e.isCategory)return 1;for(var r=e.values,t=r.length,n=e.translate(r[0]),i=n,a=0;a<t;a++){var o=r[a],s=e.translate(o);s<n&&(n=s),s>i&&(i=s)}return(i-n)/(t-1)});function eit(e,r,t){var n=r.getAttribute("position"),i=n.getFields(),a=r.scales,o=Lt(t)||!t?i[0]:t,s=a[o],u=s?s.getText(e[o]):e[o]||o;return Lt(t)?t(u,e):u}function rit(e){var r=ic(e.attributes);return Xn(r,function(t){return Vi(pu,t.type)})}function Z3(e){var r,t,n=rit(e),i;try{for(var a=C.exports.__values(n),o=a.next();!o.done;o=a.next()){var s=o.value,u=s.getScale(s.type);if(u&&u.isLinear){var l=j(e.scaleDefs,u.field),f=B3(u,l,s.type,e.type);if(f!=="cat"){i=u;break}}}}catch(v){r={error:v}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}var c=e.getXScale(),h=e.getYScale();return i||h||c}function nit(e,r){var t=r.field,n=e[t];if(vt(n)){var i=n.map(function(a){return r.getText(a)});return i.join("-")}return r.getText(n)}function iit(e,r){var t,n=r.getGroupScales();if(n.length&&(t=n[0]),t){var i=t.field;return t.getText(e[i])}var a=Z3(r);return Qf(a)}function Q3(e,r,t){if(r.length===0)return null;var n=t.type,i=t.getXScale(),a=t.getYScale(),o=i.field,s=a.field,u=null;if(n==="heatmap"||n==="point"){for(var l=t.coordinate,f=l.invert(e),c=i.invert(f.x),h=a.invert(f.y),v=1/0,g=0;g<r.length;g++){var d=r[g],m=d[ge],x=Math.pow(m[o]-c,2)+Math.pow(m[s]-h,2);x<v&&(v=x,u=d)}return u}var E=r[0],_=r[r.length-1],M=Jnt(e,t),A=E[ge][o],b=E[ge][s],I=_[ge][o],L=a.isLinear&&vt(b);if(vt(A)){for(var g=0;g<r.length;g++){var F=r[g],m=F[ge];if(i.translate(m[o][0])<=M&&i.translate(m[o][1])>=M)if(L)vt(u)||(u=[]),u.push(F);else{u=F;break}}vt(u)&&(u=GA(u,e,t))}else{var $=void 0;if(!i.isLinear&&i.type!=="timeCat"){for(var g=0;g<r.length;g++){var F=r[g],m=F[ge];if(zA(m[o],M,i))if(L)vt(u)||(u=[]),u.push(F);else{u=F;break}else i.translate(m[o])<=M&&(_=F,$=r[g+1])}vt(u)&&(u=GA(u,e,t))}else{if((M>i.translate(I)||M<i.translate(A))&&(M>i.max||M<i.min))return null;for(var Y=0,k=r.length-1,z=void 0;Y<=k;){z=Math.floor((Y+k)/2);var S=r[z][ge][o];if(zA(S,M,i))return r[z];i.translate(S)<=i.translate(M)?(Y=z+1,_=r[z],$=r[z+1]):(k===0&&(_=r[0]),k=z-1)}}_&&$&&Math.abs(i.translate(_[ge][o])-M)>Math.abs(i.translate($[ge][o])-M)&&(_=$)}var T=tit(t.getXScale());return!u&&Math.abs(i.translate(_[ge][o])-M)<=T/2&&(u=_),u}function J3(e,r,t,n){var i,a;t===void 0&&(t=""),n===void 0&&(n=!1);var o=e[ge],s=eit(o,r,t),u=r.tooltipOption,l=r.theme.defaultColor,f=[],c,h;function v(F,$){if(n||!st($)&&$!==""){var Y={title:s,data:o,mappingData:e,name:F,value:$,color:e.color||l,marker:!0};f.push(Y)}}if(be(u)){var g=u.fields,d=u.callback;if(d){var m=g.map(function(F){return e[ge][F]}),x=d.apply(void 0,C.exports.__spreadArray([],C.exports.__read(m),!1)),E=C.exports.__assign({data:e[ge],mappingData:e,title:s,color:e.color||l,marker:!0},x);f.push(E)}else{var _=r.scales;try{for(var M=C.exports.__values(g),A=M.next();!A.done;A=M.next()){var b=A.value;if(!st(o[b])){var I=_[b];c=Qf(I),h=I.getText(o[b]),v(c,h)}}}catch(F){i={error:F}}finally{try{A&&!A.done&&(a=M.return)&&a.call(M)}finally{if(i)throw i.error}}}}else{var L=Z3(r);h=nit(o,L),c=iit(o,r),v(c,h)}return f}function WA(e,r,t,n){var i,a,o=n.showNil,s=[],u=e.dataArray;if(!Di(u)){e.sort(u);try{for(var l=C.exports.__values(u),f=l.next();!f.done;f=l.next()){var c=f.value,h=Q3(r,c,e);if(h){var v=e.getElementId(h),g=e.elementsMap[v];if(e.type==="heatmap"||g.visible){var d=J3(h,e,t,o);d.length&&s.push(d)}}}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}return s}function YA(e,r,t,n){var i=n.showNil,a=[],o=e.container,s=o.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var u=s.get("origin").mappingData,l=J3(u,e,t,i);l.length&&a.push(l)}return a}function qm(e,r,t){var n,i,a=[],o=e.geometries,s=t.shared,u=t.title,l=t.reversed;try{for(var f=C.exports.__values(o),c=f.next();!c.done;c=f.next()){var h=c.value;if(h.visible&&h.tooltipOption!==!1){var v=h.type,g=void 0;["point","edge","polygon"].includes(v)?g=YA(h,r,u,t):["area","line","path","heatmap"].includes(v)||s!==!1?g=WA(h,r,u,t):g=YA(h,r,u,t),g.length&&(l&&g.reverse(),a.push(g))}}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return a}function ait(e,r,t){var n,i,a=qm(e,r,t);try{for(var o=C.exports.__values(e.views),s=o.next();!s.done;s=o.next()){var u=s.value;a=a.concat(qm(u,r,t))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function oit(e){return!Zt(e)&&!vt(e)}function O2(e){e===void 0&&(e=0);var r=vt(e)?e:[e];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=C.exports.__spreadArray(C.exports.__spreadArray([],C.exports.__read(r),!1),C.exports.__read(r),!1);break;case 3:r=C.exports.__spreadArray(C.exports.__spreadArray([],C.exports.__read(r),!1),[r[1]],!1);break;default:r=r.slice(0,4);break}return r}var I2={};function sl(e,r){I2[e]=r}function sit(){return Object.keys(I2)}function uit(e){return I2[e]}var lit=function(){function e(r){this.option=this.wrapperOption(r)}return e.prototype.update=function(r){return this.option=this.wrapperOption(r),this},e.prototype.hasAction=function(r){var t=this.option.actions;return nc(t,function(n){return n[0]===r})},e.prototype.create=function(r,t){var n=this.option,i=n.type,a=n.cfg,o=i==="theta",s=C.exports.__assign({start:r,end:t},a),u=Ret(o?"polar":i);return this.coordinate=new u(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},e.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},e.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},e.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},e.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},e.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},e.prototype.getOption=function(){return this.option},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.wrapperOption=function(r){return C.exports.__assign({type:"rect",actions:[],cfg:{}},r)},e.prototype.execActions=function(r){var t=this,n=this.option.actions;V(n,function(i){var a,o=C.exports.__read(i),s=o[0],u=o.slice(1),l=st(r)?!0:r.includes(s);l&&(a=t.coordinate)[s].apply(a,C.exports.__spreadArray([],C.exports.__read(u),!1))})},e}(),kr=function(){function e(r,t,n){this.view=r,this.gEvent=t,this.data=n,this.type=t.type}return e.fromData=function(r,t,n){return new e(r,new yc(t,{}),n)},Object.defineProperty(e.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},e.prototype.clone=function(){return new e(this.view,this.gEvent,this.data)},e}();function fit(e){var r=e.getController("axis"),t=e.getController("legend"),n=e.getController("annotation"),i=e.getController("slider"),a=e.getController("scrollbar");[r,i,a,t,n].forEach(function(o){o&&o.layout()})}var cit=function(){function e(){this.scales=new Map,this.syncScales=new Map}return e.prototype.createScale=function(r,t,n,i){var a=n,o=this.getScaleMeta(i);if(t.length===0&&o){var s=o.scale,u={type:s.type};s.isCategory&&(u.values=s.values),a=Et(u,o.scaleDef,n)}var l=wnt(r,t,a);return this.cacheScale(l,n,i),l},e.prototype.sync=function(r,t){var n=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,u=[];V(i,function(l){var f=n.getScale(l);s=Zt(f.max)?Math.max(s,f.max):s,o=Zt(f.min)?Math.min(o,f.min):o,V(f.values,function(c){u.includes(c)||u.push(c)})}),V(i,function(l){var f=n.getScale(l);if(f.isContinuous)f.change({min:o,max:s,values:u});else if(f.isCategory){var c=f.range,h=n.getScaleMeta(l);u&&!j(h,["scaleDef","range"])&&(c=R3(Et({},f,{values:u}),r,t)),f.change({values:u,range:c})}})})},e.prototype.cacheScale=function(r,t,n){var i=this.getScaleMeta(n);i&&i.scale.type===r.type?(_nt(i.scale,r),i.scaleDef=t):(i={key:n,scale:r,scaleDef:t},this.scales.set(n,i));var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(n),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(n)}},e.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var n=vr(r.split("-")),i=this.syncScales.get(n);i&&i.length&&(t=this.getScaleMeta(i[0]))}return t&&t.scale},e.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var n=t.syncKey,i=this.syncScales.get(n);if(i&&i.length){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}this.scales.delete(r)},e.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},e.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(n,i){var a=n.indexOf(r);if(a!==-1)return n.splice(a,1),n.length===0&&t.syncScales.delete(i),!1})},e.prototype.getSyncKey=function(r){var t=r.scale,n=r.scaleDef,i=t.field,a=j(n,["sync"]);return a===!0?i:a===!1?void 0:a},e.prototype.getScaleMeta=function(r){return this.scales.get(r)},e}(),Bv=function(){function e(r,t,n,i){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.top=r,this.right=t,this.bottom=n,this.left=i}return e.instance=function(r,t,n,i){return r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),new e(r,t,n,i)},e.prototype.max=function(r){var t=C.exports.__read(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,i),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,o),this},e.prototype.shrink=function(r){var t=C.exports.__read(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return this.top+=n,this.right+=i,this.bottom+=a,this.left+=o,this},e.prototype.inc=function(r,t){var n=r.width,i=r.height;switch(t){case dt.TOP:case dt.TOP_LEFT:case dt.TOP_RIGHT:this.top+=i;break;case dt.RIGHT:case dt.RIGHT_TOP:case dt.RIGHT_BOTTOM:this.right+=n;break;case dt.BOTTOM:case dt.BOTTOM_LEFT:case dt.BOTTOM_RIGHT:this.bottom+=i;break;case dt.LEFT:case dt.LEFT_TOP:case dt.LEFT_BOTTOM:this.left+=n;break}return this},e.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},e.prototype.clone=function(){return new(e.bind.apply(e,C.exports.__spreadArray([void 0],C.exports.__read(this.getPadding()),!1)))},e}();function hit(e){var r=e.padding;if(!oit(r))return new(Bv.bind.apply(Bv,C.exports.__spreadArray([void 0],C.exports.__read(O2(r)),!1)));var t=e.viewBBox,n=new Bv,i=[],a=[],o=[];return V(e.getComponents(),function(s){var u=s.type;u===cr.AXIS?i.push(s):[cr.LEGEND,cr.SLIDER,cr.SCROLLBAR].includes(u)?a.push(s):u!==cr.GRID&&u!==cr.TOOLTIP&&o.push(s)}),V(i,function(s){var u=s.component,l=u.getLayoutBBox(),f=new Qr(l.x,l.y,l.width,l.height),c=f.exceed(t);n.max(c)}),V(a,function(s){var u=s.component,l=s.direction,f=u.getLayoutBBox(),c=u.get("padding"),h=new Qr(f.x,f.y,f.width,f.height).expand(c);n.inc(h,l)}),V(o,function(s){var u=s.component,l=s.direction,f=u.getLayoutBBox(),c=new Qr(f.x,f.y,f.width,f.height);n.inc(c,l)}),n}function vit(e,r,t){var n=t.instance();r.forEach(function(i){i.autoPadding=n.max(i.autoPadding.getPadding())})}var tD=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=sit(),n.scalePool=new cit,n.layoutFunc=fit,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(_){var M=_.name;if(!M.includes(":")){var A=n.createViewEvent(_);n.doPlotEvent(A),n.emit(M,A)}},n.onDelegateEvents=function(_){var M=_.name;if(!!M.includes(":")){var A=n.createViewEvent(_);n.emit(M,A)}};var i=t.id,a=i===void 0?Wa("view"):i,o=t.parent,s=t.canvas,u=t.backgroundGroup,l=t.middleGroup,f=t.foregroundGroup,c=t.region,h=c===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:c,v=t.padding,g=t.appendPadding,d=t.theme,m=t.options,x=t.limitInPlot,E=t.syncViewPadding;return n.parent=o,n.canvas=s,n.backgroundGroup=u,n.middleGroup=l,n.foregroundGroup=f,n.region=h,n.padding=v,n.appendPadding=g,n.options=C.exports.__assign(C.exports.__assign({},n.options),m),n.limitInPlot=x,n.id=a,n.syncViewPadding=E,n.themeObject=be(d)?Et({},u1("default"),Up(d)):u1(d),n.init(),n}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(De.BEFORE_RENDER,kr.fromData(this,De.BEFORE_RENDER,n)),this.paint(t),this.emit(De.AFTER_RENDER,kr.fromData(this,De.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(De.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,i=0;i<n.length;i++)n[i].clear(),n[i].container.remove(!0),n[i].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,i=0;i<a.length;i++)a[i].name==="annotation"?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,u){t.getRootView().scalePool.deleteScale(u)}),this.createdScaleKeys.clear();for(var o=this.views,i=0;i<o.length;i++)o[i].clear();this.emit(De.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(De.BEFORE_DESTROY);var t=this.interactions;V(t,function(s){s&&s.destroy()}),this.clear();for(var n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.geometries,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(t)}for(var s=this.controllers,i=0,a=s.length;i<a;i++){var u=s[i];u.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return ir(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,n){return Lt(n)?(ir(this.options,["filters",t],n),this):(!n&&j(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,n){return bu(t)?ir(this.options,["axes"],t):ir(this.options,["axes",t],n),this},r.prototype.legend=function(t,n){return bu(t)?ir(this.options,["legends"],t):Nt(t)?(ir(this.options,["legends",t],n),Ii(n)&&(n==null?void 0:n.selected)&&ir(this.options,["filters",t],function(i){var a;return(a=n==null?void 0:n.selected[i])!==null&&a!==void 0?a:!0})):ir(this.options,["legends"],t),this},r.prototype.scale=function(t,n){var i=this;return Nt(t)?ir(this.options,["scales",t],n):be(t)&&V(t,function(a,o){ir(i.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return ir(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,n){return Nt(t)?ir(this.options,"coordinate",{type:t,cfg:n}):ir(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},r.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var i=Snt(t);if(!i)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new i(this,C.exports.__assign(C.exports.__assign({},n),{type:t})),this},r.prototype.animate=function(t){return ir(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),Te(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,n){if(r.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return ir(this.options,t,n),this},r.prototype.theme=function(t){return this.themeObject=be(t)?Et({},this.themeObject,Up(t)):u1(t),this},r.prototype.interaction=function(t,n){var i=this.interactions[t];i&&i.destroy();var a=Xnt(t,this,n);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(De.BEFORE_CHANGE_DATA,kr.fromData(this,De.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.changeData(t)}this.emit(De.AFTER_CHANGE_DATA,kr.fromData(this,De.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:dn(this.options.scales),axes:dn(this.options.axes),coordinate:dn(this.coordinateController.getOption()),tooltip:dn(this.options.tooltip),legends:dn(this.options.legends),animate:this.options.animate,visible:this.visible},i=new r(C.exports.__assign(C.exports.__assign({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Cu.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Cu.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Cu.FORE}),theme:this.themeObject,padding:this.padding},t),{options:C.exports.__assign(C.exports.__assign({},n),j(t,"options",{}))}));return this.views.push(i),i},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var n=UP(this.views,function(i){return i===t})[0];return n&&n.destroy(),n},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(i){var a=i.getYScale(),o=a.field;t[o]||(t[o]=!0,n.push(a))}),n},r.prototype.getScalesByDim=function(t){for(var n=this.geometries,i={},a=0,o=n.length;a<o;a++){var s=n[a],u=t==="x"?s.getXScale():s.getYScale();u&&!i[u.field]&&(i[u.field]=u)}return i},r.prototype.getScale=function(t,n){var i=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},r.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return tg(this.geometries,function(t,n){return t.concat(n.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},r.prototype.getLayer=function(t){return t===Ve.BG?this.backgroundGroup:t===Ve.MID?this.middleGroup:t===Ve.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return dnt(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return En(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return po(En(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var n=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if(V(t,function(u,l){i[l]&&(o=i[l].scale(u)),a[l]&&(s=a[l].scale(u))}),!st(o)&&!st(s))return n.convert({x:o,y:s})},r.prototype.getController=function(t){return Ji(this.controllers,function(n){return n.name===t})},r.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var n=this.geometries,i=[],a=0,o=n.length;a<o;a++){var s=n[a],u=s.dataArray;s.sort(u);for(var l=void 0,f=0,c=u.length;f<c;f++){var h=u[f];l=Q3(t,h,s),l&&i.push(l)}}for(var v=this.views,a=0,o=v.length;a<o;a++){var g=v[a],d=g.getSnapRecords(t);i=i.concat(d)}return i},r.prototype.getComponents=function(){for(var t=[],n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var n=this.options.filters;return Zr(n)===0?t:Xn(t,function(i,a){var o=Object.keys(n);return o.every(function(s){var u=n[s];return u(i[s],i,a)})})},r.prototype.filterFieldData=function(t,n){var i=this.options.filters,a=j(i,t);return fs(a)?n:n.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,i=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(er(n,a)&&er(i,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(De.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(De.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=j(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,i=n.x,a=n.y,o=n.width,s=n.height;this.backgroundStyleRectShape.attr({fill:t,x:i,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=hit(this).shrink(O2(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(u){return u.name==="tooltip"});n.update();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderPaddingRecursive(t)}},r.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?vit:Lt(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,Bv),this.views.forEach(function(u){u.coordinateBBox=u.viewBBox.shrink(u.autoPadding.getPadding()),u.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var i=A2(this.coordinateInstance),a=i.type,o=i.attrs;n.setClip({type:a,attrs:o})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,u=0,l=s.length;u<l;u++){var f=s[u];f.renderPaintRecursive(t)}},r.prototype.createScale=function(t,n,i,a){var o=j(this.options.scales,[t]),s=C.exports.__assign(C.exports.__assign({},o),i);return this.parent?this.parent.createScale(t,n,s,a):this.scalePool.createScale(t,n,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,n,i,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,n=o.y,i=o.width,a=o.height}else t=0,n=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,u=s.start,l=s.end,f=new Qr(t+i*u.x,n+a*u.y,i*(l.x-u.x),a*(l.y-u.y));(!this.viewBBox||!this.viewBBox.isEqual(f))&&(this.viewBBox=new Qr(t+i*u.x,n+a*u.y,i*(l.x-u.x),a*(l.y-u.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,i=t.length;n<i;n++){var a=t[n],o=uit(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var n=t.shape,i=t.name,a=n?n.get("origin"):null,o=new kr(this,t,a);return o.type=i,o},r.prototype.doPlotEvent=function(t){var n=t.type,i=t.x,a=t.y,o={x:i,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(n)){var u=this.isPointInPlot(o),l=t.clone();if(u){var f="plot:".concat(n);l.type=f,this.emit(f,l),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!u?(n==="mousemove"&&(l.type=un.MOUSE_LEAVE,this.emit(un.MOUSE_LEAVE,l)),l.type=un.LEAVE,this.emit(un.LEAVE,l)):!this.isPreMouseInPlot&&u&&(n==="mousemove"&&(l.type=un.MOUSE_ENTER,this.emit(un.MOUSE_ENTER,l)),l.type=un.ENTER,this.emit(un.ENTER,l)),this.isPreMouseInPlot=u):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(l.type=un.MOUSE_LEAVE,this.emit(un.MOUSE_LEAVE,l)),l.type=un.LEAVE,this.emit(un.LEAVE,l),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),i=j(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var u=a[o];u.scales=this.getGeometryScales();var l={coordinate:n,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?u.update(l):u.init(l)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=o===void 0?{}:o,u=this.filteredData,l=0,f=t.length;l<f;l++){var c=t[l],h=s[c],v=this.getScaleKey(c);this.createScale(c,n.includes(c)?a:u,h,v),this.createdScaleKeys.set(v,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},i=0;i<t.length;i++){var a=t[i];n[a]=this.getScaleByField(a)}return n},r.prototype.getScaleFields=function(){for(var t=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getScaleFields();po(s,t,n)}return t},r.prototype.getGroupedFields=function(){for(var t=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getGroupFields();po(s,t,n)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,n=C.exports.__spreadArray([this.getXScale()],C.exports.__read(this.getYScales()),!1).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;V(n,function(o){var s=o.field,u=o.values,l=o.isCategory,f=o.isIdentity;(l||f)&&u&&!j(a,[s,"range"])&&(o.range=R3(o,i,t.theme))})},r.prototype.initComponents=function(t){for(var n=this.controllers,i=0;i<n.length;i++){var a=n[i];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},r.prototype.paintGeometries=function(t){for(var n=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var u=o[s];u.coordinate=i,u.canvasRegion=a,n||u.animate(!1),u.paint(t)}},r.prototype.renderComponents=function(t){for(var n=0;n<this.getComponents().length;n++){var i=this.getComponents()[n];i.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,n=this.options,i=n.geometries,a=i===void 0?[]:i,o=n.interactions,s=o===void 0?[]:o,u=n.views,l=u===void 0?[]:u,f=n.annotations,c=f===void 0?[]:f,h=n.coordinate,v=n.events,g=n.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new lit(h);for(var d=0;d<a.length;d++){var m=a[d];this.createGeometry(m)}for(var x=0;x<s.length;x++){var E=s[x],_=E.type,M=E.cfg;this.interaction(_,M)}for(var A=0;A<l.length;A++){var b=l[A];this.createView(b)}for(var I=this.getController("annotation"),L=0;L<c.length;L++){var F=c[L];I.annotation(F)}v&&V(v,function($,Y){t.on(Y,$)}),g&&V(g,function($){var Y=$.type,k=C.exports.__rest($,["type"]);t.facet(Y,k)})},r.prototype.createGeometry=function(t){var n=t.type,i=t.cfg,a=i===void 0?{}:i;if(this[n]){var o=this[n](a);V(t,function(s,u){Lt(o[u])&&o[u](s)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(i2);function la(e,r){tD.prototype[e.toLowerCase()]=function(t){t===void 0&&(t={});var n=C.exports.__assign({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new r(n);return this.geometries.push(i),i}}var pit=function(e){C.exports.__extends(r,e);function r(t){var n=this,i=t.container,a=t.width,o=t.height,s=t.autoFit,u=s===void 0?!1:s,l=t.padding,f=t.appendPadding,c=t.renderer,h=c===void 0?"canvas":c,v=t.pixelRatio,g=t.localRefresh,d=g===void 0?!0:g,m=t.visible,x=m===void 0?!0:m,E=t.supportCSSTransform,_=E===void 0?!1:E,M=t.defaultInteractions,A=M===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:M,b=t.options,I=t.limitInPlot,L=t.theme,F=t.syncViewPadding,$=Nt(i)?document.getElementById(i):i,Y=Mo('<div style="position:relative;"></div>');$.appendChild(Y);var k=lT($,u,a,o),z=MZ(h),S=new z.Canvas(C.exports.__assign({container:Y,pixelRatio:v,localRefresh:d,supportCSSTransform:_},k));return n=e.call(this,{parent:null,canvas:S,backgroundGroup:S.addGroup({zIndex:Cu.BG}),middleGroup:S.addGroup({zIndex:Cu.MID}),foregroundGroup:S.addGroup({zIndex:Cu.FORE}),padding:l,appendPadding:f,visible:x,options:b,limitInPlot:I,theme:L,syncViewPadding:F})||this,n.onResize=lx(function(){n.forceFit()},300),n.ele=$,n.canvas=S,n.width=k.width,n.height=k.height,n.autoFit=u,n.localRefresh=d,n.renderer=h,n.wrapperElement=Y,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(A),n}return r.prototype.initDefaultInteractions=function(t){var n=this;V(t,function(i){n.interaction(i)})},r.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},r.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(De.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(De.AFTER_CHANGE_SIZE),this)},r.prototype.clear=function(){e.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),LZ(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return e.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=lT(this.ele,!0,this.width,this.height),n=t.width,i=t.height;this.changeSize(n,i)}},r.prototype.updateCanvasStyle=function(){Rr(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(tD),ul=function(){function e(r){this.visible=!0,this.components=[],this.view=r}return e.prototype.clear=function(r){V(this.components,function(t){t.component.destroy()}),this.components=[]},e.prototype.destroy=function(){this.clear()},e.prototype.getComponents=function(){return this.components},e.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},e}();function git(e){for(var r=[],t=function(i){var a=e[i],o=Ji(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},n=0;n<e.length;n++)t(n);return r}var dit=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,i=this.getTooltipItems(t);if(!i.length){this.hideTooltip();return}var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};n.emit("tooltip:show",kr.fromData(n,"tooltip:show",C.exports.__assign({items:i,title:a},t)));var s=this.getTooltipCfg(),u=s.follow,l=s.showMarkers,f=s.showCrosshairs,c=s.showContent,h=s.marker,v=this.items,g=this.title;if(!er(g,a)||!er(v,i)?(n.emit("tooltip:change",kr.fromData(n,"tooltip:change",C.exports.__assign({items:i,title:a},t))),(Lt(c)?c(i):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Te({},s,{items:this.getItemsAfterProcess(i),title:a},u?t:{})),this.tooltip.show()),l&&this.renderTooltipMarkers(i,h)):(this.tooltip&&u&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=i,this.title=a,f){var d=j(s,["crosshairs","follow"],!1);this.renderCrosshairs(d?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",kr.fromData(this.view,"tooltip:hide",{})),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,n=t.tooltip,i=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,i=n.tooltip,a=n.tooltipMarkersGroup,o=n.xCrosshair,s=n.yCrosshair;t?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var n,i,a,o,s,u,l=this.findItemsFromView(this.view,t);if(l.length){l=En(l);try{for(var f=C.exports.__values(l),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var v=(a=void 0,C.exports.__values(h)),g=v.next();!g.done;g=v.next()){var d=g.value,m=d.mappingData,x=m.x,E=m.y;d.x=vt(x)?x[x.length-1]:x,d.y=vt(E)?E[E.length-1]:E}}catch($){a={error:$}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}}catch($){n={error:$}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var _=this.getTooltipCfg().shared;if(_===!1&&l.length>1){var M=l[0],A=Math.abs(t.y-M[0].y);try{for(var b=C.exports.__values(l),I=b.next();!I.done;I=b.next()){var L=I.value,F=Math.abs(t.y-L[0].y);F<=A&&(M=L,A=F)}}catch($){s={error:$}}finally{try{I&&!I.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}l=[M]}return git(En(l))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(n&&i){var a=n.getBoundingClientRect(),o=a.x,s=a.y,u=a.width,l=a.height;return new Qr(o,s,u,l).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,i=this.processCustomContent(n),a=t.getTheme(),o=j(a,["components","tooltip"],{}),s=j(i,"enterable",o.enterable);return Et({},o,i,{capture:!!(s||this.isLocked)})},r.prototype.processCustomContent=function(t){if(bu(t)||!j(t,"customContent"))return t;var n=t.customContent,i=function(a,o){var s=n(a,o)||"";return Nt(s)?'<div class="g2-tooltip">'+s+"</div>":s};return C.exports.__assign(C.exports.__assign({},t),{customContent:i})},r.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),a=new rd(C.exports.__assign(C.exports.__assign({parent:t.get("el").parentNode,region:n},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,n){var i,a,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),u=s.limitInPlot;try{for(var l=C.exports.__values(t),f=l.next();!f.done;f=l.next()){var c=f.value,h=c.x,v=c.y;if(u||(o==null?void 0:o.getClip())){var g=A2(s.getCoordinate()),d=g.type,m=g.attrs;o==null||o.setClip({type:d,attrs:m})}else o==null||o.setClip(void 0);var x=C.exports.__assign(C.exports.__assign({fill:c.color,symbol:"circle",shadowColor:c.color},n),{x:h,y:v});o.addShape("marker",{attrs:x})}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}},r.prototype.renderCrosshairs=function(t,n){var i=j(n,["crosshairs","type"],"x");i==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):i==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):i==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},r.prototype.renderXCrosshairs=function(t,n){var i=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:t.y},o={x:i.end.x,y:t.y}):(a={x:t.x,y:i.end.y},o={x:t.x,y:i.start.y});else{var s=Hu(i,t),u=i.getCenter(),l=i.getRadius();o=sr(u.x,u.y,l,s),a=u}var f=Et({start:a,end:o,container:this.getTooltipCrosshairsGroup()},j(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete f.type;var c=this.xCrosshair;c?c.update(f):(c=new T3(f),c.init()),c.render(),c.show(),this.xCrosshair=c},r.prototype.renderYCrosshairs=function(t,n){var i=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(i.isRect){var s=void 0,u=void 0;i.isTransposed?(s={x:t.x,y:i.end.y},u={x:t.x,y:i.start.y}):(s={x:i.start.x,y:t.y},u={x:i.end.x,y:t.y}),a={start:s,end:u},o="Line"}else a={center:i.getCenter(),radius:nd(i,t),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";a=Et({container:this.getTooltipCrosshairsGroup()},a,j(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete a.type;var l=this.yCrosshair;l?i.isRect&&l.get("type")==="circle"||!i.isRect&&l.get("type")==="line"?(l=new SA[o](a),l.init()):l.update(a):(l=new SA[o](a),l.init()),l.render(),l.show(),this.yCrosshair=l},r.prototype.getCrosshairsText=function(t,n,i){var a=j(i,["crosshairs","text"]),o=j(i,["crosshairs","follow"]),s=this.items;if(a){var u=this.getViewWithGeometry(this.view),l=s[0],f=u.getXScale(),c=u.getYScales()[0],h=void 0,v=void 0;if(o){var g=this.view.getCoordinate().invert(n);h=f.invert(g.x),v=c.invert(g.y)}else h=l.data[f.field],v=l.data[c.field];var d=t==="x"?h:v;return Lt(a)?a=a(t,d,s,n):a.content=d,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,n){var i,a;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=qm(t,n,o);try{for(var u=C.exports.__values(t.views),l=u.next();!l.done;l=u.next()){var f=l.value;s=s.concat(this.findItemsFromView(f,n))}}catch(c){i={error:c}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return s},r.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:Ji(t.views,function(i){return n.getViewWithGeometry(i)})},r.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,i=n||function(a){return a};return i(t)},r}(ul),eD={};function rD(e){return eD[e.toLowerCase()]}function Kn(e,r){eD[e.toLowerCase()]=r}var Uu={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},yit={interval:function(e){return{enter:{animation:e.isRect?e.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:e.isPolar&&e.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},HA={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",e.isPolar&&e.isTransposed&&(r="wave-in")),{animation:r}},schema:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function mit(e,r){return{delay:Lt(e.delay)?e.delay(r):e.delay,easing:Lt(e.easing)?e.easing(r):e.easing,duration:Lt(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat}}function nD(e,r,t){var n=yit[e];return n&&(Lt(n)&&(n=n(r)),n=Et({},Uu,n),t)?n[t]:n}function Pu(e,r,t){var n=j(e.get("origin"),"data",ge),i=r.animation,a=mit(r,n);if(i){var o=rD(i);o&&o(e,a,t)}else e.animate(t.toAttrs,a)}function xit(e,r,t,n,i){if(HA[t]){var a=HA[t](n),o=rD(j(a,"animation",""));if(o){var s=C.exports.__assign(C.exports.__assign(C.exports.__assign({},Uu.appear),a),r);e.stopAnimate(),o(e,s,{coordinate:n,minYPoint:i,toAttrs:null})}}}var D2="element-background",iD=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.labelShape=[],n.states=[];var i=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.elementIndex,u=t.visible,l=u===void 0?!0:u;return n.shapeFactory=i,n.container=a,n.offscreenGroup=o,n.visible=l,n.elementIndex=s,n}return r.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var n=this,i=n.shapeFactory,a=n.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,n=t.shapeFactory,i=t.shape;if(i){var a=this.getAnimateCfg("leave");a?Pu(i,a,{coordinate:n.coordinate,toAttrs:C.exports.__assign({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},r.prototype.setState=function(t,n){var i=this,a=i.states,o=i.shapeFactory,s=i.model,u=i.shape,l=i.shapeType,f=a.indexOf(t);if(n){if(f>-1)return;a.push(t),(t==="active"||t==="selected")&&(u==null||u.toFront())}else{if(f===-1)return;if(a.splice(f,1),t==="active"||t==="selected"){var c=this.geometry,h=c.sortZIndex,v=c.zIndexReversed,g=v?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?u.setZIndex(g):u.set("zIndex",g)}}var d=o.drawShape(l,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(u,d,a,null):this.syncShapeStyle(u,d,["reset"],null),d.remove(!0);var m={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",m),h3(this.shape,"statechange",m)},r.prototype.clearStates=function(){var t=this,n=this.states;V(n,function(i){t.setState(i,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,n=t.shape,i=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(a=n.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,i=t.geometry,a=t.shapeFactory,o=i.stateOption,s=a.defaultShapeType,u=a.theme[n]||a.theme[s];this.statesStyle=Et({},u,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,n){var i=this.getStatesStyle(),a=j(i,[t,"style"],{}),o=a[n]||a;return Lt(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var n=this,i=this.animate;if(i){var a=i[t];return a&&C.exports.__assign(C.exports.__assign({},a),{callback:function(){var o;Lt(a.callback)&&a.callback(),(o=n.geometry)===null||o===void 0||o.emit(Eo.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,n){var i;n===void 0&&(n=!1);var a=this,o=a.shapeFactory,s=a.container,u=a.shapeType;if(this.shape=o.drawShape(u,t,s),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?Nt(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=n?"enter":"appear",c=this.getAnimateCfg(f);c&&((i=this.geometry)===null||i===void 0||i.emit(Eo.BEFORE_DRAW_ANIMATE),Pu(this.shape,c,{coordinate:o.coordinate,toAttrs:C.exports.__assign({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,n){var i=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){i.setShapeInfo(o,n)})}},r.prototype.syncShapeStyle=function(t,n,i,a,o){var s=this,u;if(i===void 0&&(i=[]),o===void 0&&(o=0),!(!t||!n)){var l=t.get("clipShape"),f=n.get("clipShape");if(this.syncShapeStyle(l,f,i,a),t.isGroup())for(var c=t.get("children"),h=n.get("children"),v=0;v<c.length;v++)this.syncShapeStyle(c[v],h[v],i,a,o+v);else{if(!Di(i)&&!er(i,["reset"])){var g=t.get("name");vt(g)&&(g=g[1]),V(i,function(m){if(n.get("name")!==D2){var x=s.getStateStyle(m,g||o);n.attr(x)}})}var d=D3(t,n);this.animate?a?((u=this.geometry)===null||u===void 0||u.emit(Eo.BEFORE_DRAW_ANIMATE),Pu(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:d,shapeModel:this.model})):Di(i)?t.attr(d):(t.stopAnimate(),t.animate(d,{duration:300})):t.attr(d)}}},r.prototype.getShapeType=function(t){var n=j(t,"shape");return vt(n)?n[0]:n},r}(i2),aD={},oD={};function wit(e){return aD[e.toLowerCase()]}function id(e,r){aD[e.toLowerCase()]=r}function _it(e){return oD[e.toLowerCase()]}function An(e,r){oD[e.toLowerCase()]=r}var Eit={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(e,r){var t=this.getShape(e);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(e){var r=this[e]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(e){return j(e,[this.defaultShapeType,"default","style"],{})},getMarker:function(e,r){var t=this.getShape(e);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var i=this.theme,a=j(i,[e,"default"],{}),o=t.getMarker(r);return Et({},a,o)},drawShape:function(e,r,t){var n=this.getShape(e);return n.draw(r,t)}},Mit={coordinate:null,parsePath:function(e){var r=this.coordinate,t=kI(e);return r.isPolar?t=Bnt(r,t):t=Dnt(r,t),t},parsePoint:function(e){var r=this.coordinate;return r.convert(e)},parsePoints:function(e){var r=this.coordinate;return e.map(function(t){return r.convert(t)})},draw:function(e,r){}},B2={};function zo(e,r){var t=Fo(e),n=C.exports.__assign(C.exports.__assign(C.exports.__assign({},Eit),r),{geometryType:e});return B2[t]=n,n}function Le(e,r,t){var n=Fo(e),i=B2[n],a=C.exports.__assign(C.exports.__assign({},Mit),t);return i[r]=a,a}function XA(e){var r=Fo(e);return B2[r]}function Cit(e,r,t){var n,i;if(t===void 0&&(t={}),!r)return[e];var a=ax(e,r),o=[];if(r.length===1&&t[r[0]]){var s=t[r[0]];try{for(var u=C.exports.__values(s),l=u.next();!l.done;l=u.next()){var f=l.value,c=a["_".concat(f)];c&&o.push(c)}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}else for(var h in a)if(a.hasOwnProperty(h)){var v=a[h];o.push(v)}return o}function sD(e,r){return nc(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!er(e[t],r[t])})}function Yl(e){return vt(e)?e:e.split("*")}function uD(e,r){for(var t=[],n=[],i=[],a=new Map,o=0;o<r.length;o++){var s=r[o];e[s]?n.push(s):t.push(s),a.set(s,!0)}return Object.keys(e).forEach(function(u){a.has(u)||i.push(u)}),{added:t,updated:n,removed:i}}var Go=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,u=t.sortable,l=u===void 0?!1:u,f=t.visible,c=f===void 0?!0:f,h=t.theme,v=t.scales,g=v===void 0?{}:v,d=t.scaleDefs,m=d===void 0?{}:d,x=t.intervalPadding,E=t.dodgePadding,_=t.maxColumnWidth,M=t.minColumnWidth,A=t.columnWidthRatio,b=t.roseWidthRatio,I=t.multiplePieWidthRatio,L=t.zIndexReversed,F=t.sortZIndex,$=t.useDeferredLabel;return n.container=i,n.labelsContainer=a,n.coordinate=o,n.data=s,n.sortable=l,n.visible=c,n.userTheme=h,n.scales=g,n.scaleDefs=m,n.intervalPadding=x,n.dodgePadding=E,n.maxColumnWidth=_,n.minColumnWidth=M,n.columnWidthRatio=A,n.roseWidthRatio=b,n.multiplePieWidthRatio=I,n.zIndexReversed=L,n.sortZIndex=F,n.useDeferredLabel=$?typeof $=="number"?$:1/0:null,n}return r.prototype.position=function(t){var n=t;Ii(t)||(n={fields:Yl(t)});var i=j(n,"fields");return i.length===1&&(i.unshift("1"),ir(n,"fields",i)),ir(this.attributeOption,"position",n),this},r.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},r.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},r.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},r.prototype.adjust=function(t){var n=t;return(Nt(t)||Ii(t))&&(n=[t]),V(n,function(i,a){be(i)||(n[a]={type:i})}),this.adjustOption=n,this},r.prototype.style=function(t,n){if(Nt(t)){var i=Yl(t);this.styleOption={fields:i,callback:n}}else{var a=t,i=a.fields,o=a.callback,s=a.cfg;i||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,n){if(Nt(t)){var i=Yl(t);this.tooltipOption={fields:i,callback:n}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,n,i){if(Nt(t)){var a={},o=Yl(t);a.fields=o,Lt(n)?a.callback=n:Ii(n)&&(a.cfg=n),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var n=t.data,i=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,u=o.lastAttributeOption;er(s,u)?n&&(i||!er(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var n=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=Et({},nD(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var i=this.getOffscreenGroup();i.clear();var a=this.beforeMappingData,o=this.beforeMapping(a);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var u=o[s];this.dataArray[s]=this.mapping(u)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var l=this.container,f=this.type,c=this.coordinate,h=j(this.animateOption,"appear"),v=this.getYScale(),g=c.convert({x:0,y:v.scale(this.getYMinValue())});xit(l,h,f,c,g)}if(this.labelOption){var d=this.useDeferredLabel,m=function(){return n.renderLabels(En(n.dataArray),t)}.bind(this);if(typeof d=="number"){var x=typeof d=="number"&&d!==1/0?d:0;if(!window.requestIdleCallback)setTimeout(m,x);else{var E=x&&x!==1/0?{timeout:x}:void 0;window.requestIdleCallback(m,E)}}else m()}this.lastAttributeOption=C.exports.__assign({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,n=t.container,i=t.geometryLabel,a=t.offscreenGroup;n&&n.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,e.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return V(this.attributes,function(n){pu.includes(n.type)&&t.push(n)}),t},r.prototype.getDefaultValue=function(t){var n,i=this.getAttribute(t);return i&&Di(i.scales)&&(n=i.values[0]),n},r.prototype.getAttributeValues=function(t,n){for(var i=[],a=t.scales,o=0,s=a.length;o<s;o++){var u=a[o],l=u.field;u.isIdentity?i.push(u.values):i.push(n[l])}return t.mapping.apply(t,C.exports.__spreadArray([],C.exports.__read(i),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,n){var i=this.getShapeFactory();return i.getMarker(t,n)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){t=vt(t)?t[0]:t;var n=t[ge];if(this.idFields.length){for(var i=n[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+n[this.idFields[a]];return i}var o=this.type,s=this.getXScale(),u=this.getYScale(),l=s.field||"x",f=u.field||"y",c=n[f],h;s.type==="identity"?h=s.values[0]:h=n[l];var v;o==="interval"||o==="schema"?v="".concat(h):o==="line"||o==="area"||o==="path"?v=o:v="".concat(h,"-").concat(c);for(var g=this.groupScales,a=0,d=g.length;a<d;a++){var m=g[a],x=m.field;v="".concat(v,"-").concat(n[x])}var E=this.getAdjust("dodge");if(E){var _=E.dodgeBy;_&&(v="".concat(v,"-").concat(n[_]))}return this.getAdjust("jitter")&&(v="".concat(v,"-").concat(t.x,"-").concat(t.y)),v},r.prototype.getScaleFields=function(){var t=[],n=new Map,i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var u in a)if(a.hasOwnProperty(u)){var l=a[u];l.fields?po(l.fields,t,n):l.values&&po(l.values,t,n)}return o&&o.fields&&po(o.fields,t,n),be(s)&&s.fields&&po(s.fields,t,n),t},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.elements,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(i){var a=(i==null?void 0:i.fields)||[];a.forEach(function(o){t.has(o)||n.push(o),t.set(o,!0)})},[]),n},r.prototype.getGroupFields=function(){for(var t=[],n=new Map,i=0,a=pu.length;i<a;i++){var o=pu[i],s=this.attributeOption[o];s&&s.fields&&po(s.fields,t,n)}return t},r.prototype.getXYFields=function(){var t=C.exports.__read(this.attributeOption.position.fields,2),n=t[0],i=t[1];return[n,i]},r.prototype.getXField=function(){return j(this.getXYFields(),[0])},r.prototype.getYField=function(){return j(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,u){return n.translate(s[ge][i])-n.translate(u[ge][i])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!XA(t))return this.shapeFactory||(this.shapeFactory=dn(XA(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),i=this.getYScale(),a=this.normalizeValues(t[n.field],n),o;return i?o=this.normalizeValues(t[i.field],i):o=t.y?t.y:.1,{x:a,y:o,y0:i?i.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,n,i){i===void 0&&(i=!1);var a=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),u=new iD({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return u.animate=this.animateOption,u.geometry=this,u.draw(o,i),u},r.prototype.getDrawCfg=function(t){var n=t[ge],i={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=j(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,n)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},r.prototype.updateElements=function(t,n){var i,a,o,s,u,l;n===void 0&&(n=!1);for(var f=new Map,c=[],h=new Map,v=0,g=0;g<t.length;g++)for(var d=t[g],m=0;m<d.length;m++){var x=d[m],E=this.getElementId(x),_=f.has(E)?"".concat(E,"-").concat(g,"-").concat(m):E;c.push(_),f.set(_,x),h.set(_,v),v++}this.elements=new Array(v);var M=uD(this.lastElementsMap,c),A=M.added,b=M.updated,I=M.removed;try{for(var L=C.exports.__values(A),F=L.next();!F.done;F=L.next()){var E=F.value,x=f.get(E),g=h.get(E),$=this.createElement(x,g,n);this.elements[g]=$,this.elementsMap[E]=$,$.shape&&$.shape.set("zIndex",this.zIndexReversed?this.elements.length-g:g)}}catch(D){i={error:D}}finally{try{F&&!F.done&&(a=L.return)&&a.call(L)}finally{if(i)throw i.error}}try{for(var Y=C.exports.__values(b),k=Y.next();!k.done;k=Y.next()){var E=k.value,$=this.lastElementsMap[E],x=f.get(E),z=this.getDrawCfg(x),S=$.getModel(),g=h.get(E);(this.isCoordinateChanged||sD(z,S))&&($.animate=this.animateOption,$.update(z)),this.elements[g]=$,this.elementsMap[E]=$,$.shape&&$.shape.set("zIndex",this.zIndexReversed?this.elements.length-g:g)}}catch(D){o={error:D}}finally{try{k&&!k.done&&(s=Y.return)&&s.call(Y)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var T=C.exports.__values(I),O=T.next();!O.done;O=T.next()){var E=O.value,$=this.lastElementsMap[E];$.animate=this.animateOption,$.destroy()}}catch(D){u={error:D}}finally{try{O&&!O.done&&(l=T.return)&&l.call(T)}finally{if(u)throw u.error}}},r.prototype.getLabelType=function(){var t=this,n=t.labelOption,i=t.coordinate,a=t.type,o=i.type,s=i.isTransposed,u=j(n,["cfg","type"]);return u||(o==="polar"?u=s?"pie":"polar":o==="theta"?u="pie":a==="interval"||a==="polygon"?u="interval":u="base"),u},r.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,i=t.max,a;return n>=0?a=n:i<=0?a=i:a=0,a},r.prototype.createAttrOption=function(t,n,i){if(st(n)||be(n))be(n)&&er(Object.keys(n),["values"])?ir(this.attributeOption,t,{fields:n.values}):ir(this.attributeOption,t,n);else{var a={};Zt(n)?a.values=[n]:a.fields=Yl(n),i&&(Lt(i)?a.callback=i:a.values=i),ir(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,n=this,i=n.attributes,a=n.attributeOption,o=n.theme,s=n.shapeType;this.groupScales=[];var u={},l=function(h){if(a.hasOwnProperty(h)){var v=a[h];if(!v)return{value:void 0};var g=C.exports.__assign({},v),d=g.callback,m=g.values,x=g.fields,E=x===void 0?[]:x,_=E.map(function(A){var b=t.scales[A];if(!u[A]&&pu.includes(h)){var I=B3(b,j(t.scaleDefs,A),h,t.type);I==="cat"&&(t.groupScales.push(b),u[A]=!0)}return b});g.scales=_,h!=="position"&&_.length===1&&_[0].type==="identity"?g.values=_[0].values:!d&&!m&&(h==="size"?g.values=o.sizes:h==="shape"?g.values=o.shapes[s]||[]:h==="color"&&(_.length?g.values=_[0].values.length<=10?o.colors10:o.colors20:g.values=o.colors10));var M=l3(h);i[h]=new M(g)}};for(var f in a){var c=l(f);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){var n,i;this.hasSorted=!1;for(var a=this.getAttribute("position").scales,o=a.filter(function(I){return I.isCategory}),s=this.groupData(t),u=[],l=0,f=s.length;l<f;l++){for(var c=s[l],h=[],v=0,g=c.length;v<g;v++){var d=c[v],m={};for(var x in d)m[x]=d[x];m[ge]=d;try{for(var E=(n=void 0,C.exports.__values(o)),_=E.next();!_.done;_=E.next()){var M=_.value,A=M.field;m[A]=M.translate(m[A])}}catch(I){n={error:I}}finally{try{_&&!_.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}h.push(m)}u.push(h)}var b=this.adjustData(u);return this.beforeMappingData=b,b},r.prototype.adjustData=function(t){var n=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,u=this.maxColumnWidth||s.maxColumnWidth,l=this.minColumnWidth||s.minColumnWidth,f=this.columnWidthRatio||s.columnWidthRatio,c=t;if(n){var h=this.getXScale(),v=this.getYScale(),g=h.field,d=v?v.field:null,m=_c(this.coordinate),x=h.values.length,E=this.getAttribute("size"),_=void 0;E&&(_=E.values[0]);for(var M=0,A=n.length;M<A;M++){var b=n[M],I=C.exports.__assign({xField:g,yField:d,intervalPadding:a,dodgePadding:o,xDimensionLength:m,groupNum:x,defaultSize:_,maxColumnWidth:u,minColumnWidth:l,columnWidthRatio:f},b),L=b.type;if(L==="dodge"){var F=[];if(h.isCategory||h.type==="identity")F.push("x");else if(!v)F.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");I.adjustNames=F,I.dodgeRatio=f}else if(L==="stack"){var $=this.coordinate;if(!v){I.height=$.getHeight();var Y=this.getDefaultValue("size")||3;I.size=Y}!$.isTransposed&&st(I.reverseOrder)&&(I.reverseOrder=!0)}var k=GI(L);I.dimValuesMap={},h&&h.values&&(I.dimValuesMap[h.field]=h.values.map(function(S){return h.translate(S)}));var z=new k(I);c=z.process(c),this.adjusts[L]=z}}return c},r.prototype.groupData=function(t){for(var n=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<n.length;s++){var u=n[s],l=u.field;o.push(l),j(i,[l,"values"])&&(a[l]=i[l].values)}return Cit(t,o,a)},r.prototype.updateStackRange=function(t,n){for(var i=En(n),a=t.field,o=t.min,s=t.max,u=0;u<i.length;u++){var l=i[u],f=Math.min.apply(null,l[a]),c=Math.max.apply(null,l[a]);f<o&&(o=f),c>s&&(s=c)}var h=this.scaleDefs,v={};o<t.min&&!j(h,[a,"min"])&&(v.min=o),s>t.max&&!j(h,[a,"max"])&&(v.max=s),t.change(v)},r.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var i=0,a=n.length;i<a;i++){var o=n[i];this.generateShapePoints(o);var s=n[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return n},r.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),u=i?this.getAttributeValues(i,o):null,l=n.getShapePoints(u,s);o.points=l}},r.prototype.normalizeValues=function(t,n){var i=[];if(vt(t))for(var a=0;a<t.length;a++){var o=t[a];i.push(n.scale(o))}else i=n.scale(t);return i},r.prototype.mapping=function(t){for(var n=this.attributes,i=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[ge],points:o.points,nextPoints:o.nextPoints};for(var u in n)if(n.hasOwnProperty(u)){var l=n[u],f=l.names,c=this.getAttributeValues(l,o);if(f.length>1)for(var h=0;h<c.length;h+=1){var v=c[h],g=f[h];s[g]=vt(v)&&v.length===1?v[0]:v}else s[f[0]]=c.length===1?c[0]:c}this.convertPoint(s),i.push(s)}return i},r.prototype.convertPoint=function(t){var n=t.x,i=t.y,a,o,s,u=this.coordinate;if(vt(n)&&vt(i)){a=[],o=[];for(var l=0,f=0,c=n.length,h=i.length;l<c&&f<h;l+=1,f+=1)s=u.convert({x:n[l],y:i[f]}),a.push(s.x),o.push(s.y)}else if(vt(i)){o=[];for(var v=0;v<i.length;v++){var g=i[v];s=u.convert({x:n,y:g}),a&&a!==s.x?(vt(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if(vt(n)){a=[];for(var v=0;v<n.length;v++){var d=n[v];s=u.convert({x:d,y:i}),o&&o!==s.y?(vt(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var m=u.convert({x:n,y:i});a=m.x,o=m.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,n){var i=t.fields,a=i===void 0?[]:i,o=t.callback,s=t.cfg;if(s)return s;var u=a.map(function(l){return n[l]});return o.apply(void 0,C.exports.__spreadArray([],C.exports.__read(u),!1))},r.prototype.setCfg=function(t){var n=this,i=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],V(s,function(u,l){u&&u.key&&n.idFields.push(l)})),o&&(this.theme=this.userTheme?Et({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,n){return n===void 0&&(n=!1),C.exports.__awaiter(this,void 0,void 0,function(){var i,a,o,s,u,l,f,c,h,v,g,d,m=this;return C.exports.__generator(this,function(x){switch(x.label){case 0:return i=this.geometryLabel,this.emit(Eo.BEFORE_RENDER_LABEL),i||(a=this.getLabelType(),o=wit(a),i=new o(this),this.geometryLabel=i),[4,i.render(t,n)];case 1:x.sent(),s=i.labelsRenderer.shapesMap,u=new Map,V(s,function(E,_){for(var M=E.getChildren()||[],A=0;A<M.length;A++){var b=M[A],I=m.elementsMap[b.get("elementId")||_.split(" ")[0]];if(I){b.cfg.name=["element","label"],b.cfg.element=I;var L=u.get(I)||new Set;L.add(E),u.set(I,L)}}});try{for(l=C.exports.__values(u.entries()),f=l.next();!f.done;f=l.next())c=C.exports.__read(f.value,2),h=c[0],v=c[1],h.labelShape=C.exports.__spreadArray([],C.exports.__read(v),!1)}catch(E){g={error:E}}finally{try{f&&!f.done&&(d=l.return)&&d.call(l)}finally{if(g)throw g.error}}return this.emit(Eo.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(j(this.animateOption,"appear")===void 0||j(this.animateOption,"appear")&&j(this.animateOption,["appear","animation"])===void 0)},r}(i2),lD=or;function ad(e,r,t){var n=lD(e.getMatrix(),[["t",r,t]]);e.setMatrix(n)}function Sit(e,r){var t=e.attr(),n=t.x,i=t.y,a=lD(e.getMatrix(),[["t",-n,-i],["r",r],["t",n,i]]);return a}function fD(e,r){var t=Sit(e,r);e.setMatrix(t)}function Bo(e){return e.find(function(r){return r.get("type")==="text"})}function cD(e,r,t){t===void 0&&(t=[0,0,0,0]);var n=e&&e.getChildren()[0];if(n){var i=n.clone();r!=null&&r.rotate&&fD(i,-r.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,u=a.width,l=a.height;i.destroy();var f=t;return st(f)?f=[2,2,2,2]:Zt(f)&&(f=new Array(4).fill(f)),{x:o-f[3],y:s-f[0],width:u+f[1]+f[3],height:l+f[0]+f[2],rotation:(r==null?void 0:r.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Tit(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function Ait(e,r){var t=e.getBBox();return nc(r,function(n){var i=n.getBBox();return Tit(t,i,2)>0})}function hD(e,r,t){var n=t.data,i=t.origin,a=t.animateCfg,o=t.coordinate,s=j(a,"update");e.set("data",n),e.set("origin",i),e.set("animateCfg",a),e.set("coordinate",o),e.set("visible",r.get("visible")),(e.getChildren()||[]).forEach(function(u,l){var f=r.getChildByIndex(l);if(!f)e.removeChild(u),u.remove(!0);else{u.set("data",n),u.set("origin",i),u.set("animateCfg",a),u.set("coordinate",o);var c=D3(u,f);s?Pu(u,s,{toAttrs:c,coordinate:o}):u.attr(c),f.isGroup()&&hD(u,f,t)}}),V(r.getChildren(),function(u,l){l>=e.getCount()&&(u.destroyed||e.add(u))})}var Pit=function(){function e(r){this.shapesMap={};var t=r.layout,n=r.container;this.layout=t,this.container=n}return e.prototype.render=function(r,t,n){return n===void 0&&(n=!1),C.exports.__awaiter(this,void 0,void 0,function(){var i,a,o,s,u,l,f,c,h=this;return C.exports.__generator(this,function(v){switch(v.label){case 0:if(i={},a=this.createOffscreenGroup(),!r.length)return[3,2];try{for(o=C.exports.__values(r),s=o.next();!s.done;s=o.next())u=s.value,u&&(i[u.id]=this.renderLabel(u,a))}catch(g){f={error:g}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(f)throw f.error}}return[4,this.doLayout(r,t,i)];case 1:v.sent(),this.renderLabelLine(r,i),this.renderLabelBackground(r,i),this.adjustLabel(r,i),v.label=2;case 2:return l=this.shapesMap,V(i,function(g,d){if(g.destroyed)delete i[d];else{if(l[d]){var m=g.get("data"),x=g.get("origin"),E=g.get("coordinate"),_=g.get("animateCfg"),M=l[d];hD(M,i[d],{data:m,origin:x,animateCfg:_,coordinate:E}),i[d]=M}else{if(h.container.destroyed)return;h.container.add(g);var A=j(g.get("animateCfg"),n?"enter":"appear");A&&Pu(g,A,{toAttrs:C.exports.__assign({},g.attr()),coordinate:g.get("coordinate")})}delete l[d]}}),V(l,function(g){var d=j(g.get("animateCfg"),"leave");d?Pu(g,d,{toAttrs:null,coordinate:g.get("coordinate")}):g.remove(!0)}),this.shapesMap=i,a.destroy(),[2]}})})},e.prototype.clear=function(){this.container.clear(),this.shapesMap={}},e.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},e.prototype.renderLabel=function(r,t){var n=r.id,i=r.elementId,a=r.data,o=r.mappingData,s=r.coordinate,u=r.animate,l=r.content,f={id:n,elementId:i,data:a,origin:C.exports.__assign(C.exports.__assign({},o),{data:o[ge]}),coordinate:s},c=t.addGroup(C.exports.__assign({name:"label",animateCfg:this.animate===!1||u===null||u===!1?!1:Et({},this.animate,u)},f)),h;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),g=v.width,d=v.height,m=j(r,"textAlign","left"),x=r.x,E=r.y-d/2;m==="center"?x=x-g/2:(m==="right"||m==="end")&&(x=x-g),ad(l,x,E),h=l,c.add(l)}else{var _=j(r,["style","fill"]);h=c.addShape("text",C.exports.__assign({attrs:C.exports.__assign(C.exports.__assign({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:j(r,"textBaseline","middle"),text:r.content},r.style),{fill:ZP(_)?r.color:_})},f))}return r.rotate&&fD(h,r.rotate),c},e.prototype.doLayout=function(r,t,n){return C.exports.__awaiter(this,void 0,void 0,function(){var i,a=this;return C.exports.__generator(this,function(o){switch(o.label){case 0:return this.layout?(i=vt(this.layout)?this.layout:[this.layout],[4,Promise.all(i.map(function(s){var u=_it(j(s,"type",""));if(!!u){var l=[],f=[];return V(n,function(c,h){l.push(c),f.push(t[c.get("elementId")])}),u(r,l,f,a.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderLabelLine=function(r,t){V(r,function(n){var i=j(n,"coordinate");if(!(!n||!i)){var a=i.getCenter(),o=i.getRadius();if(!!n.labelLine){var s=j(n,"labelLine",{}),u=n.id,l=s.path;if(!l){var f=sr(a.x,a.y,o,n.angle);l=[["M",f.x,f.y],["L",n.x,n.y]]}var c=t[u];c.destroyed||c.addShape("path",{capture:!1,attrs:C.exports.__assign({path:l,stroke:n.color?n.color:j(n,["style","fill"],"#000"),fill:null},s.style),id:u,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},e.prototype.renderLabelBackground=function(r,t){V(r,function(n){var i=j(n,"coordinate"),a=j(n,"background");if(!(!a||!i)){var o=n.id,s=t[o];if(!s.destroyed){var u=s.getChildren()[0];if(u){var l=cD(s,n,a.padding),f=l.rotation,c=C.exports.__rest(l,["rotation"]),h=s.addShape("rect",{attrs:C.exports.__assign(C.exports.__assign({},c),a.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(h.setZIndex(-1),f){var v=u.getMatrix();h.setMatrix(v)}}}}})},e.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),n=new t({});return n},e.prototype.adjustLabel=function(r,t){V(r,function(n){if(n){var i=n.id,a=t[i];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});V(o,function(s){s&&(n.offsetX&&s.attr("x",s.attr("x")+n.offsetX),n.offsetY&&s.attr("y",s.attr("y")+n.offsetY))})}}})},e}();function VA(e){var r=0;return V(e,function(t){r+=t}),r/e.length}var R2=function(){function e(r){this.geometry=r}return e.prototype.getLabelItems=function(r){var t=this,n=[],i=this.getLabelCfgs(r);return V(r,function(a,o){var s=i[o];if(!s||st(a.x)||st(a.y)){n.push(null);return}var u=vt(s.content)?s.content:[s.content];s.content=u;var l=u.length;V(u,function(f,c){if(st(f)||f===""){n.push(null);return}var h=C.exports.__assign(C.exports.__assign({},s),t.getLabelPoint(s,a,c));h.textAlign||(h.textAlign=t.getLabelAlign(h,c,l)),h.offset<=0&&(h.labelLine=null),n.push(h)})}),n},e.prototype.render=function(r,t){return t===void 0&&(t=!1),C.exports.__awaiter(this,void 0,void 0,function(){var n,i,a;return C.exports.__generator(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(r),i=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,i.render(n,a,t)];case 1:return o.sent(),[2]}})})},e.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},e.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},e.prototype.getCoordinate=function(){return this.geometry.coordinate},e.prototype.getDefaultLabelCfg=function(r,t){var n=this.geometry,i=n.type,a=n.theme;return i==="polygon"||i==="interval"&&t==="middle"||r<0&&!["line","point","path"].includes(i)?j(a,"innerLabels",{}):j(a,"labels",{})},e.prototype.getThemedLabelCfg=function(r){var t=this.geometry,n=this.getDefaultLabelCfg(),i=t.type,a=t.theme,o;return i==="polygon"||r.offset<0&&!["line","point","path"].includes(i)?o=Et({},n,a.innerLabels,r):o=Et({},n,a.labels,r),o},e.prototype.setLabelPosition=function(r,t,n,i){},e.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),n=this.getOffsetVector(r);return t.isTransposed?n[0]:n[1]},e.prototype.getLabelOffsetPoint=function(r,t,n){var i=r.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",u=o?1:-1,l={x:0,y:0};return t>0||n===1?l[s]=i*u:l[s]=i*u*-1,l},e.prototype.getLabelPoint=function(r,t,n){var i=this.getCoordinate(),a=r.content.length;function o(m,x,E){E===void 0&&(E=!1);var _=m;return vt(_)&&(r.content.length===1?E?_=VA(_):_.length<=2?_=_[m.length-1]:_=VA(_):_=_[x]),_}var s={content:r.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},u=vt(t.shape)?t.shape[0]:t.shape,l=u==="funnel"||u==="pyramid";if(this.geometry.type==="polygon"){var f=hnt(t.x,t.y);s.x=f[0],s.y=f[1]}else this.geometry.type==="interval"&&!l?(s.x=o(t.x,n,!0),s.y=o(t.y,n)):(s.x=o(t.x,n),s.y=o(t.y,n));if(l){var c=j(t,"nextPoints"),h=j(t,"points");if(c){var v=i.convert(h[1]),g=i.convert(c[1]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}else if(u==="pyramid"){var v=i.convert(h[1]),g=i.convert(h[2]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}}r.position&&this.setLabelPosition(s,t,n,r.position);var d=this.getLabelOffsetPoint(r,n,a);return s.start={x:s.x,y:s.y},s.x+=d.x,s.y+=d.y,s.color=t.color,s},e.prototype.getLabelAlign=function(r,t,n){var i="center",a=this.getCoordinate();if(a.isTransposed){var o=r.offset;o<0?i="right":o===0?i="center":i="left",n>1&&t===0&&(i==="right"?i="left":i==="left"&&(i="right"))}return i},e.prototype.getLabelId=function(r){var t=this.geometry,n=t.type,i=t.getXScale(),a=t.getYScale(),o=r[ge],s=t.getElementId(r);return n==="line"||n==="area"?s+=" ".concat(o[i.field]):n==="path"&&(s+=" ".concat(o[i.field],"-").concat(o[a.field])),s},e.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,n=r.labelOption,i=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Pit({container:t,layout:j(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=a?nD("label",o):!1,s},e.prototype.getLabelCfgs=function(r){var t=this,n=this.geometry,i=n.labelOption,a=n.scales,o=n.coordinate,s=i,u=s.fields,l=s.callback,f=s.cfg,c=u.map(function(v){return a[v]}),h=[];return V(r,function(v,g){var d=v[ge],m=t.getLabelText(d,c),x;if(l){var E=u.map(function(I){return d[I]});if(x=l.apply(void 0,C.exports.__spreadArray([],C.exports.__read(E),!1)),st(x)){h.push(null);return}}var _=C.exports.__assign(C.exports.__assign({id:t.getLabelId(v),elementId:t.geometry.getElementId(v),data:d,mappingData:v,coordinate:o},f),x);Lt(_.position)&&(_.position=_.position(d,v,g));var M=t.getLabelOffset(_.offset||0),A=t.getDefaultLabelCfg(M,_.position);_=Et({},A,_),_.offset=t.getLabelOffset(_.offset||0);var b=_.content;Lt(b)?_.content=b(d,v,g):fs(b)&&(_.content=m[0]),h.push(_)}),h},e.prototype.getLabelText=function(r,t){var n=[];return V(t,function(i){var a=r[i.field];vt(a)?a=a.map(function(o){return i.getText(o)}):a=i.getText(a),st(a)||a===""?n.push(null):n.push(a)}),n},e.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate(),n=0;return Zt(r)&&(n=r),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},e.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return V(r.elementsMap,function(n,i){t[i]=n.shape}),V(r.getOffscreenGroup().getChildren(),function(n){var i=r.getElementId(n.get("origin").mappingData);t[i]=n}),t},e}();function UA(e,r,t){if(!e)return t;var n;if(e.callback&&e.callback.length>1){var i=Array(e.callback.length-1).fill("");n=e.mapping.apply(e,C.exports.__spreadArray([r],C.exports.__read(i),!1)).join("")}else n=e.mapping(r).join("");return n||t}var Ts={hexagon:function(e,r,t){var n=t/2*Math.sqrt(3);return[["M",e,r-t],["L",e+n,r-t/2],["L",e+n,r+t/2],["L",e,r+t],["L",e-n,r+t/2],["L",e-n,r-t/2],["Z"]]},bowtie:function(e,r,t){var n=t-1.5;return[["M",e-t,r-n],["L",e+t,r+n],["L",e+t,r-n],["L",e-t,r+n],["Z"]]},cross:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r+t],["M",e+t,r-t],["L",e-t,r+t]]},tick:function(e,r,t){return[["M",e-t/2,r-t],["L",e+t/2,r-t],["M",e,r-t],["L",e,r+t],["M",e-t/2,r+t],["L",e+t/2,r+t]]},plus:function(e,r,t){return[["M",e-t,r],["L",e+t,r],["M",e,r-t],["L",e,r+t]]},hyphen:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},line:function(e,r,t){return[["M",e,r-t],["L",e,r+t]]}},bit=["line","cross","tick","plus","hyphen"];function Lit(e,r){return Lt(r)?r(e):Et({},e,r)}function Oit(e,r){var t=e.symbol;if(Nt(t)&&bit.indexOf(t)!==-1){var n=j(e,"style",{}),i=j(n,"lineWidth",1),a=n.stroke||n.fill||r;e.style=Et({},e.style,{lineWidth:i,stroke:a,fill:null})}}function vD(e){var r=e.symbol;Nt(r)&&Ts[r]&&(e.symbol=Ts[r])}function l1(e){return e.startsWith(dt.LEFT)||e.startsWith(dt.RIGHT)?"vertical":"horizontal"}function Iit(e,r,t,n,i){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),u=r.getAttribute("shape"),l=e.getTheme().defaultColor,f=r.coordinate.isPolar;return a.getTicks().map(function(c,h){var v,g=c.text,d=c.value,m=g,x=a.invert(d),E=e.filterFieldData(o,[(v={},v[o]=x,v)]).length===0;V(e.views,function(I){var L;I.filterFieldData(o,[(L={},L[o]=x,L)]).length||(E=!0)});var _=UA(s,x,l),M=UA(u,x,"point"),A=r.getShapeMarker(M,{color:_,isInPolar:f}),b=i;return Lt(b)&&(b=b(m,h,C.exports.__assign({name:m,value:x},Et({},n,A)))),A=Et({},n,A,cn(C.exports.__assign({},b),["style"])),Oit(A,_),b&&b.style&&(A.style=Lit(A.style,b.style)),vD(A),{id:x,name:m,value:x,marker:A,unchecked:E}})}return[]}function Dit(e,r,t){return t.map(function(n,i){var a=r;Lt(a)&&(a=a(n.name,i,Et({},e,n)));var o=Lt(n.marker)?n.marker(n.name,i,Et({},e,n)):n.marker,s=Et({},e,a,o);return vD(s),n.marker=s,n})}function KA(e,r){var t=j(e,["components","legend"],{});return Et({},j(t,["common"],{}),Et({},j(t,[r],{})))}function f1(e){return e?!1:e==null||isNaN(e)}function qA(e){if(vt(e))return f1(e[1].y);var r=e.y;return vt(r)?f1(r[0]):f1(r)}function F2(e,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!e.length||e.length===1&&!t)return[];if(r){for(var n=[],i=0,a=e.length;i<a;i++){var o=e[i];qA(o)||n.push(o)}return[n]}for(var s=[],u=[],i=0,a=e.length;i<a;i++){var o=e[i];qA(o)?u.length&&(u.length===1&&!t||s.push(u),u=[]):u.push(o)}return u.length&&s.push(u),s}function pD(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var i=t===0?"M":"L";r.push([i,n.x,n.y])}}var a=e[0];return a&&(r.push(["L",a.x,a.y]),r.push(["z"])),r}function gD(e){for(var r=e.length/2,t=[],n=[],i=0;i<e.length;i++)i<r?t.push(e[i]):n.push(e[i]);var a=Vp(t,!1),o=Vp(n,!1);n.length&&a.push(["L",n[0].x,n[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function je(e,r,t,n){n===void 0&&(n="");var i=e.style,a=i===void 0?{}:i,o=e.defaultStyle,s=e.color,u=e.size,l=C.exports.__assign(C.exports.__assign({},o),a);return s&&(r&&(a.stroke||(l.stroke=s)),t&&(a.fill||(l.fill=s))),n&&st(a[n])&&!st(u)&&(l[n]=u),l}function dD(e){return Et({},{fill:"#CCD6EC",fillOpacity:.3},j(e,["background","style"]))}function k2(e){var r=e.x,t=vt(e.y)?e.y:[e.y];return t.map(function(n,i){return{x:vt(r)?r[i]:r,y:n}})}var Bit={line:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dot:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dash:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},smooth:function(e,r,t){return[["M",e-t,r],["A",t/2,t/2,0,1,1,e,r],["A",t/2,t/2,0,1,0,e+t,r]]},hv:function(e,r,t){return[["M",e-t-1,r-2.5],["L",e,r-2.5],["L",e,r+2.5],["L",e+t+1,r+2.5]]},vh:function(e,r,t){return[["M",e-t-1,r+2.5],["L",e,r+2.5],["L",e,r-2.5],["L",e+t+1,r-2.5]]},hvh:function(e,r,t){return[["M",e-(t+1),r+2.5],["L",e-t/2,r+2.5],["L",e-t/2,r-2.5],["L",e+t/2,r-2.5],["L",e+t/2,r+2.5],["L",e+t+1,r+2.5]]},vhv:function(e,r){return[["M",e-5,r+2.5],["L",e-5,r],["L",e,r],["L",e,r-3],["L",e,r+3],["L",e+6.5,r+3]]}};function yD(e,r){var t=e.color;return{symbol:Bit[r],style:{lineWidth:2,r:6,stroke:t}}}function Rit(e,r,t){for(var n=e.isStack,i=e.connectNulls,a=e.isInCircle,o=e.showSinglePoint,s=je(e,!0,!1,"lineWidth"),u=F2(e.points,i,o),l=[],f=0,c=u.length;f<c;f++){var h=u[f];l=l.concat(kit(h,a,n,r,t,s))}return s.path=l,s}function jm(e,r,t,n,i){if(e.length===1)return[["M",e[0].x,e[0].y-i.lineWidth/2],["L",e[0].x,e[0].y],["L",e[0].x,e[0].y+i.lineWidth/2]];var a;return t?(r&&e.length&&e.push({x:e[0].x,y:e[0].y}),a=Vp(e,!1,n)):(a=Ec(e,!1),r&&a.push(["Z"])),a}function Fit(e,r,t,n,i,a){var o=[],s=[];V(e,function(f){var c=k2(f);o.push(c[1]),s.push(c[0])});var u=jm(o,r,n,i,a),l=jm(s,r,n,i,a);return t?u:u.concat(l)}function kit(e,r,t,n,i,a){if(e.length){var o=e[0];return vt(o.y)?Fit(e,r,t,n,i,a):jm(e,r,n,i,a)}return[]}zo("line",{defaultShapeType:"line"});V(["line","dot","dash","smooth"],function(e){Le("line",e,{draw:function(r,t){var n=e==="smooth",i;if(n){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var u=Rit(r,n,i),l=t.addShape({type:"path",attrs:u,name:"line",capture:!n});return l},getMarker:function(r){return yD(r,e)}})});var ao={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},pe={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ci=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],$it=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Nit=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],zit=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?Ci:r,n=e.paletteQualitative20,i=n===void 0?$it:n,a=e.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Nit,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:pe[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:pe[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:ao[85],axisTickLineBorderColor:pe[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:pe[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:pe[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:pe[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:pe[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ci[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:pe[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:pe[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:pe[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:pe[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:pe[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:pe[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ao[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ao[25],annotationArcBorderColor:pe[15],annotationArcBorder:1,annotationLineBorderColor:pe[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:pe[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:pe[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:pe[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:pe[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:pe[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ao[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:pe[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:ao[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:pe[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Ci[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ao[100],pointBorderOpacity:1,pointActiveBorderColor:pe[100],pointSelectedBorder:2,pointSelectedBorderColor:pe[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ci[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ao[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:pe[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:pe[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ci[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ci[0],areaFillOpacity:.25,areaActiveFillColor:Ci[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ci[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ci[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:pe[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:pe[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ci[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:pe[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:pe[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ci[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ao[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:pe[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:pe[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return C.exports.__assign(C.exports.__assign({},s),e)},Git=zit();function Wit(){return window?window.devicePixelRatio:1}function mD(e,r,t,n){var i=e-t,a=r-n;return Math.sqrt(i*i+a*a)}function hs(e,r,t,n,i,a){return i>=e&&i<=e+t&&a>=r&&a<=r+n}function ec(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function Yit(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function jA(e,r){return e[0]===r[0]&&e[1]===r[1]}var Hit=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Xit=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vit=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,xD=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function wD(e,r){var t=e.match(xD);V(t,function(n){var i=n.split(":");r.addColorStop(i[0],i[1])})}function Uit(e,r,t){var n=Hit.exec(t),i=parseFloat(n[1])%360*(Math.PI/180),a=n[2],o=r.getBBox(),s,u;i>=0&&i<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=i&&i<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var l=Math.tan(i),f=l*l,c=(u.x-s.x+l*(u.y-s.y))/(f+1)+s.x,h=l*(u.x-s.x+l*(u.y-s.y))/(f+1)+s.y,v=e.createLinearGradient(s.x,s.y,c,h);return wD(a,v),v}function Kit(e,r,t){var n=Xit.exec(t),i=parseFloat(n[1]),a=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var u=s.match(xD);return u[u.length-1].split(":")[1]}var l=r.getBBox(),f=l.maxX-l.minX,c=l.maxY-l.minY,h=Math.sqrt(f*f+c*c)/2,v=e.createRadialGradient(l.minX+f*i,l.minY+c*a,0,l.minX+f/2,l.minY+c/2,o*h);return wD(s,v),v}function qit(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,i,a=Vit.exec(t),o=a[1],s=a[2];function u(){n=e.createPattern(i,o),r.set("pattern",n),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),n}function jit(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if(Nt(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Uit(e,r,t);if(t[0]==="r")return Kit(e,r,t);if(t[0]==="p")return qit(e,r,t)}return t}if(t instanceof CanvasPattern)return t}function Zit(e){var r=0,t=0,n=0,i=0;return vt(e)?e.length===1?r=t=n=i=e[0]:e.length===2?(r=n=e[0],t=i=e[1]):e.length===3?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,[r,t,n,i]}function tv(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Zm(e,r){return tv(e)*tv(r)?(e[0]*r[0]+e[1]*r[1])/(tv(e)*tv(r)):1}function ZA(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(Zm(e,r))}function Kp(e,r){var t=r[1],n=r[2],i=rg(ng(r[3]),Math.PI*2),a=r[4],o=r[5],s=e[0],u=e[1],l=r[6],f=r[7],c=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-f)/2,h=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-f)/2,v=c*c/(t*t)+h*h/(n*n);v>1&&(t*=Math.sqrt(v),n*=Math.sqrt(v));var g=t*t*(h*h)+n*n*(c*c),d=g?Math.sqrt((t*t*(n*n)-g)/g):1;a===o&&(d*=-1),isNaN(d)&&(d=0);var m=n?d*t*h/n:0,x=t?d*-n*c/t:0,E=(s+l)/2+Math.cos(i)*m-Math.sin(i)*x,_=(u+f)/2+Math.sin(i)*m+Math.cos(i)*x,M=[(c-m)/t,(h-x)/n],A=[(-1*c-m)/t,(-1*h-x)/n],b=ZA([1,0],M),I=ZA(M,A);return Zm(M,A)<=-1&&(I=Math.PI),Zm(M,A)>=1&&(I=0),o===0&&I>0&&(I=I-2*Math.PI),o===1&&I<0&&(I=I+2*Math.PI),{cx:E,cy:_,rx:jA(e,[l,f])?0:t,ry:jA(e,[l,f])?0:n,startAngle:b,endAngle:b+I,xRotation:i,arcFlag:a,sweepFlag:o}}var qp=Math.sin,jp=Math.cos,$2=Math.atan2,ev=Math.PI;function _D(e,r,t,n,i,a,o){var s=r.stroke,u=r.lineWidth,l=t-i,f=n-a,c=$2(f,l),h=new Y2({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*jp(ev/6)+","+10*qp(ev/6)+" L0,0 L"+10*jp(ev/6)+",-"+10*qp(ev/6),stroke:s,lineWidth:u}});h.translate(i,a),h.rotateAtPoint(i,a,c),e.set(o?"startArrowShape":"endArrowShape",h)}function ED(e,r,t,n,i,a,o){var s=r.startArrow,u=r.endArrow,l=r.stroke,f=r.lineWidth,c=o?s:u,h=c.d,v=c.fill,g=c.stroke,d=c.lineWidth,m=C.exports.__rest(c,["d","fill","stroke","lineWidth"]),x=t-i,E=n-a,_=$2(E,x);h&&(i=i-jp(_)*h,a=a-qp(_)*h);var M=new Y2({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:C.exports.__assign(C.exports.__assign({},m),{stroke:g||l,lineWidth:d||f,fill:v})});M.translate(i,a),M.rotateAtPoint(i,a,_),e.set(o?"startArrowShape":"endArrowShape",M)}function _s(e,r,t,n,i){var a=$2(n-r,t-e);return{dx:jp(a)*i,dy:qp(a)*i}}function N2(e,r,t,n,i,a){typeof r.startArrow=="object"?ED(e,r,t,n,i,a,!0):r.startArrow?_D(e,r,t,n,i,a,!0):e.set("startArrowShape",null)}function z2(e,r,t,n,i,a){typeof r.endArrow=="object"?ED(e,r,t,n,i,a,!1):r.endArrow?_D(e,r,t,n,i,a,!1):e.set("startArrowShape",null)}var QA={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ku(e,r){var t=r.attr();for(var n in t){var i=t[n],a=QA[n]?QA[n]:n;a==="matrix"&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):a==="lineDash"&&e.setLineDash?vt(i)&&e.setLineDash(i):(a==="strokeStyle"||a==="fillStyle"?i=jit(e,r,i):a==="globalAlpha"&&(i=i*e.globalAlpha),e[a]=i)}}function Qm(e,r,t){for(var n=0;n<r.length;n++){var i=r[n];i.cfg.visible?i.draw(e,t):i.skipDraw()}}function Qit(e,r,t){var n=e.get("refreshElements");V(n,function(i){if(i!==e)for(var a=i.cfg.parent;a&&a!==e&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),n[0]===e?G2(r):Jm(r,t)}function Jm(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&G2(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&Jm(n.cfg.children,r);else{var i=Jit(n,r);n.cfg.refresh=i,i&&n.isGroup()&&Jm(n.cfg.children,r)}}}function MD(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&MD(t.cfg.children)}}function G2(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.refresh=!0,n.isGroup()&&G2(n.get("children"))}}function Jit(e,r){var t=e.cfg.cacheCanvasBBox,n=e.cfg.isInView&&t&&ec(t,r);return n}function CD(e,r,t,n){var i=t.path,a=t.startArrow,o=t.endArrow;if(!!i){var s=[0,0],u=[0,0],l={dx:0,dy:0};r.beginPath();for(var f=0;f<i.length;f++){var c=i[f],h=c[0];if(f===0&&a&&a.d){var v=e.getStartTangent();l=_s(v[0][0],v[0][1],v[1][0],v[1][1],a.d)}else if(f===i.length-2&&i[f+1][0]==="Z"&&o&&o.d){var g=i[f+1];if(g[0]==="Z"){var v=e.getEndTangent();l=_s(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}}else if(f===i.length-1&&o&&o.d&&i[0]!=="Z"){var v=e.getEndTangent();l=_s(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}var d=l.dx,m=l.dy;switch(h){case"M":r.moveTo(c[1]-d,c[2]-m),u=[c[1],c[2]];break;case"L":r.lineTo(c[1]-d,c[2]-m);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-d,c[4]-m);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-d,c[6]-m);break;case"A":{var x=void 0;n?(x=n[f],x||(x=Kp(s,c),n[f]=x)):x=Kp(s,c);var E=x.cx,_=x.cy,M=x.rx,A=x.ry,b=x.startAngle,I=x.endAngle,L=x.xRotation,F=x.sweepFlag;if(r.ellipse)r.ellipse(E,_,M,A,L,b,I,1-F);else{var $=M>A?M:A,Y=M>A?1:M/A,k=M>A?A/M:1;r.translate(E,_),r.rotate(L),r.scale(Y,k),r.arc(0,0,$,b,I,1-F),r.scale(1/Y,1/k),r.rotate(-L),r.translate(-E,-_)}break}case"Z":r.closePath();break}if(h==="Z")s=u;else{var z=c.length;s=[c[z-2],c[z-1]]}}}}function SD(e,r){var t=e.get("canvas");t&&(r==="remove"&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}function tat(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),i=e.getCanvasBBox(),a=i&&!!(i.width&&i.height);n&&a?r=Yit(t,i):n?r=t:a&&(r=i)}return r}function eat(e){if(!e.length)return null;var r=[],t=[],n=[],i=[];return V(e,function(a){var o=tat(a);o&&(r.push(o.minX),t.push(o.minY),n.push(o.maxX),i.push(o.maxY))}),{minX:Gn(r),minY:Gn(t),maxX:mn(n),maxY:mn(i)}}function rat(e,r){return!e||!r||!ec(e,r)?null:{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}}var W2=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){SD(this,t)},r.prototype.getShapeBase=function(){return Qp},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),Ku(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],i=[];V(t,function(h){var v=h.cfg.cacheCanvasBBox;v&&h.cfg.isInView&&(n.push(v.minX,v.maxX),i.push(v.minY,v.maxY))});var a=null;if(n.length){var o=Gn(n),s=mn(n),u=Gn(i),l=mn(i);a={minX:o,minY:u,x:o,y:u,maxX:s,maxY:l,width:s-o,height:l-u};var f=this.cfg.canvas;if(f){var c=f.getViewRange();this.set("isInView",ec(a,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},r.prototype.draw=function(t,n){var i=this.cfg.children,a=n?this.cfg.refresh:!0;i.length&&a&&(t.save(),Ku(t,this),this._applyClip(t,this.getClip()),Qm(t,i,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}($g),nat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return Qp},r.prototype.getGroupBase=function(){return W2},r.prototype.onCanvasChange=function(t){SD(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),i=zg(t),a=i(this),o=n/2,s=a.x-o,u=a.y-o,l=a.x+a.width+o,f=a.y+a.height+o;return{x:s,minX:s,y:u,minY:u,width:a.width+n,height:a.height+n,maxX:l,maxY:f}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),Ku(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var i=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!ec(n,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),Ku(t,this),this._applyClip(t,i),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),i=ec(n,t);this.set("isInView",i),i?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!st(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&i>0&&(!st(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,i,a,o)},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(Ng),$i=nat,iat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr(),u=s.x,l=s.y,f=s.r,c=o/2,h=mD(u,l,t,n);return a&&i?h<=f+c:a?h<=f:i?h>=f-c&&h<=f+c:!1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,a=n.y,o=n.r;t.beginPath(),t.arc(i,a,o,0,Math.PI*2,!1),t.closePath()},r}($i),aat=iat;function rv(e,r,t,n){return e/(t*t)+r/(n*n)}var oat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr(),u=o/2,l=s.x,f=s.y,c=s.rx,h=s.ry,v=(t-l)*(t-l),g=(n-f)*(n-f);return a&&i?rv(v,g,c+u,h+u)<=1:a?rv(v,g,c,h)<=1:i?rv(v,g,c-u,h-u)>=1&&rv(v,g,c+u,h+u)<=1:!1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,a=n.y,o=n.rx,s=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,a,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,l=o>s?1:o/s,f=o>s?s/o:1;t.save(),t.translate(i,a),t.scale(l,f),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},r}($i),sat=oat;function JA(e){return e instanceof HTMLElement&&Nt(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS"}var uat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,i=this.attrs;if(Nt(t)){var a=new Image;a.onload=function(){if(n.destroyed)return!1;n.attr("img",a),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):JA(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||(i.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t==="img"&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,u=n.sx,l=n.sy,f=n.swidth,c=n.sheight,h=n.img;(h instanceof Image||JA(h))&&(!st(u)&&!st(l)&&!st(f)&&!st(c)?t.drawImage(h,u,l,f,c,i,a,o,s):t.drawImage(h,i,a,o,s))},r}($i),lat=uat;function xo(e,r,t,n,i,a,o){var s=Math.min(e,t),u=Math.max(e,t),l=Math.min(r,n),f=Math.max(r,n),c=i/2;return a>=s-c&&a<=u+c&&o>=l-c&&o<=f+c?wr.pointToLine(e,r,t,n,a,o)<=i/2:!1}var fat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&N2(this,t,a,o,n,i),u&&z2(this,t,n,i,a,o)},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){if(!i||!o)return!1;var s=this.attr(),u=s.x1,l=s.y1,f=s.x2,c=s.y2;return xo(u,l,f,c,o,t,n)},r.prototype.createPath=function(t){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2,u=n.startArrow,l=n.endArrow,f={dx:0,dy:0},c={dx:0,dy:0};u&&u.d&&(f=_s(i,a,o,s,n.startArrow.d)),l&&l.d&&(c=_s(i,a,o,s,n.endArrow.d)),t.beginPath(),t.moveTo(i+f.dx,a+f.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,i=t.y1,a=t.x2,o=t.y2;return wr.length(n,i,a,o)},r.prototype.getPoint=function(t){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return wr.pointAt(i,a,o,s,t)},r}($i),cat=fat,hat={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},vat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return st(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),n=t.x,i=t.y,a=t.symbol||"circle",o=this._getR(t),s,u;if(Lt(a))s=a,u=s(n,i,o),u=$I(u);else{if(s=r.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;u=s(n,i,o)}return u},r.prototype.createPath=function(t){var n=this._getPath(),i=this.get("paramsCache");CD(this,t,{path:n},i)},r.Symbols=hat,r}($i),pat=vat;function TD(e,r,t){var n=Wg();return e.createPath(n),n.isPointInPath(r,t)}var gat=1e-6;function c1(e){return Math.abs(e)<gat?0:e<0?-1:1}function dat(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function AD(e,r,t){var n=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=e[a],s=e[(a+1)%i];if(dat(o,s,[r,t]))return!0;c1(o[1]-t)>0!=c1(s[1]-t)>0&&c1(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function vf(e,r,t,n,i,a,o,s){var u=(Math.atan2(s-r,o-e)+Math.PI*2)%(Math.PI*2);if(u<n||u>i)return!1;var l={x:e+t*Math.cos(u),y:r+t*Math.sin(u)};return mD(l.x,l.y,o,s)<=a/2}var yat=or;function mat(e){for(var r=!1,t=e.length,n=0;n<t;n++){var i=e[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function xat(e,r,t,n,i){for(var a=!1,o=r/2,s=0;s<e.length;s++){var u=e[s],l=u.currentPoint,f=u.params,c=u.prePoint,h=u.box;if(!(h&&!hs(h.x-o,h.y-o,h.width+r,h.height+r,t,n))){switch(u.command){case"L":case"Z":a=xo(c[0],c[1],l[0],l[1],r,t,n);break;case"Q":var v=DI.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],t,n);a=v<=r/2;break;case"C":var g=_f.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],f[5],f[6],t,n,i);a=g<=r/2;break;case"A":var d=u.arcParams,m=d.cx,x=d.cy,E=d.rx,_=d.ry,M=d.startAngle,A=d.endAngle,b=d.xRotation,I=[t,n,1],L=E>_?E:_,F=E>_?1:E/_,$=E>_?_/E:1,Y=yat(null,[["t",-m,-x],["r",-b],["s",1/F,1/$]]);Gf(I,I,Y),a=vf(0,0,L,M,A,r,I[0],I[1]);break}if(a)break}}return a}function wat(e){for(var r=e.length,t=[],n=[],i=[],a=0;a<r;a++){var o=e[a],s=o[0];s==="M"?(i.length&&(n.push(i),i=[]),i.push([o[1],o[2]])):s==="Z"?i.length&&(t.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&n.push(i),{polygons:t,polylines:n}}var nv=C.exports.__assign({hasArc:mat,extractPolygons:wat,isPointInStroke:xat},a2);function tP(e,r,t){for(var n=!1,i=0;i<e.length;i++){var a=e[i];if(n=AD(a,r,t),n)break}return n}var _at=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t==="path"&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=$I(t);var n=nv.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=NI(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,i=t.endArrow;if(n){var a=this.getStartTangent();N2(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(i){var a=this.getEndTangent();z2(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.getSegments(),u=this.get("hasArc"),l=!1;if(i){var f=this.getTotalLength();l=nv.isPointInStroke(s,o,t,n,f)}if(!l&&a)if(u)l=TD(this,t,n);else{var c=this.attr("path"),h=nv.extractPolygons(c);l=tP(h.polygons,t,n)||tP(h.polylines,t,n)}return l},r.prototype.createPath=function(t){var n=this.attr(),i=this.get("paramsCache");CD(this,t,n,i)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return st(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,a,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;V(n,function(f,c){t>=f[0]&&t<=f[1]&&(i=(t-f[0])/(f[1]-f[0]),a=c)});var s=o[a];if(st(s)||st(a))return null;var u=s.length,l=o[a+1];return _f.pointAt(s[u-2],s[u-1],l[1],l[2],l[3],l[4],l[5],l[6],i)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",nv.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,n=0,i=[],a,o,s,u,l=this.get("curve");if(!!l){if(V(l,function(f,c){s=l[c+1],u=f.length,s&&(t+=_f.length(f[u-2],f[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}V(l,function(f,c){s=l[c+1],u=f.length,s&&(a=[],a[0]=n/t,o=_f.length(f[u-2],f[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,a[1]=n/t,i.push(a))}),this.set("tCache",i)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var i=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([a[0],a[1]]),n.push([i[0],i[1]]))}return n},r.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,i;if(n>1){var a=t[n-2].currentPoint,o=t[n-1].currentPoint,s=t[n-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},r}($i),Y2=_at;function PD(e,r,t,n,i){var a=e.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=e[o][0],u=e[o][1],l=e[o+1][0],f=e[o+1][1];if(xo(s,u,l,f,r,t,n))return!0}if(i){var c=e[0],h=e[a-1];if(xo(c[0],c[1],h[0],h[1],r,t,n))return!0}return!1}var Eat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr().points,u=!1;return i&&(u=PD(s,o,t,n,!0)),!u&&a&&(u=AD(s,t,n)),u},r.prototype.createPath=function(t){var n=this.attr(),i=n.points;if(!(i.length<2)){t.beginPath();for(var a=0;a<i.length;a++){var o=i[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}($i),Mat=Eat,Cat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,i=n.points,a=n.startArrow,o=n.endArrow,s=i.length,u=i[0][0],l=i[0][1],f=i[s-1][0],c=i[s-1][1];a&&N2(this,t,i[1][0],i[1][1],u,l),o&&z2(this,t,i[s-2][0],i[s-2][1],f,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){if(!i||!o)return!1;var s=this.attr().points;return PD(s,o,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),i=n.points,a=n.startArrow,o=n.endArrow,s=i.length;if(!(i.length<2)){var u=i[0][0],l=i[0][1],f=i[s-1][0],c=i[s-1][1];if(a&&a.d){var h=_s(u,l,i[1][0],i[1][1],a.d);u+=h.dx,l+=h.dy}if(o&&o.d){var h=_s(i[s-2][0],i[s-2][1],f,c,o.d);f-=h.dx,c-=h.dy}t.beginPath(),t.moveTo(u,l);for(var v=0;v<s-1;v++){var g=i[v];t.lineTo(g[0],g[1])}t.lineTo(f,c)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return st(n)?(this.set("totalLength",FI.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return V(i,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),wr.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;V(t,function(u,l){t[l+1]&&(o=[],o[0]=i/n,s=wr.length(u[0],u[1],t[l+1][0],t[l+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}($i),Sat=Cat;function Tat(e,r,t,n,i,a,o){var s=i/2;return hs(e-s,r-s,t,i,a,o)||hs(e+t-s,r-s,i,n,a,o)||hs(e+s,r+n-s,t,i,a,o)||hs(e-s,r+s,i,n,a,o)}function Aat(e,r,t,n,i,a,o,s){return xo(e+i,r,e+t-i,r,a,o,s)||xo(e+t,r+i,e+t,r+n-i,a,o,s)||xo(e+t-i,r+n,e+i,r+n,a,o,s)||xo(e,r+n-i,e,r+i,a,o,s)||vf(e+t-i,r+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||vf(e+t-i,r+n-i,i,0,.5*Math.PI,a,o,s)||vf(e+i,r+n-i,i,.5*Math.PI,Math.PI,a,o,s)||vf(e+i,r+i,i,Math.PI,1.5*Math.PI,a,o,s)}var Pat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr(),u=s.x,l=s.y,f=s.width,c=s.height,h=s.radius;if(h){var g=!1;return i&&(g=Aat(u,l,f,c,h,o,t,n)),!g&&a&&(g=TD(this,t,n)),g}else{var v=o/2;if(a&&i)return hs(u-v,l-v,f+v,c+v,t,n);if(a)return hs(u,l,f,c,t,n);if(i)return Tat(u,l,f,c,o,t,n)}},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,u=n.radius;if(t.beginPath(),u===0)t.rect(i,a,o,s);else{var l=Zit(u),f=l[0],c=l[1],h=l[2],v=l[3];t.moveTo(i+f,a),t.lineTo(i+o-c,a),c!==0&&t.arc(i+o-c,a+c,c,-Math.PI/2,0),t.lineTo(i+o,a+s-h),h!==0&&t.arc(i+o-h,a+s-h,h,0,Math.PI/2),t.lineTo(i+v,a+s),v!==0&&t.arc(i+v,a+s-v,v,Math.PI/2,Math.PI),t.lineTo(i,a+f),f!==0&&t.arc(i+f,a+f,f,Math.PI,Math.PI*1.5),t.closePath()}},r}($i),bat=Pat,Lat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=Hg(t)},r.prototype._setText=function(t){var n=null;Nt(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,i=t.fontSize*1;return n?n-i:i*.14},r.prototype._drawTextArr=function(t,n,i){var a=this.attrs,o=a.textBaseline,s=a.x,u=a.y,l=a.fontSize*1,f=this._getSpaceingY(),c=Yg(a.text,a.fontSize,a.lineHeight),h;V(n,function(v,g){h=u+g*(f+l)-c+l,o==="middle"&&(h+=c-l-(c-l)/2),o==="top"&&(h+=c-l),st(v)||(i?t.fillText(v,s,h):t.strokeText(v,s,h))})},r.prototype._drawText=function(t,n){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,n);else{var u=i.text;st(u)||(n?t.fillText(u,a,o):t.strokeText(u,a,o))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&i>0&&(!st(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!st(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}($i),Oat=Lat;function Iat(e,r){if(r){var t=Rg(r);return ba(t,e)}return e}function bD(e,r,t){var n=e.getTotalMatrix();if(n){var i=Iat([r,t,1],n),a=i[0],o=i[1];return[a,o]}return[r,t]}function eP(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!zf(e)||e.cfg.isInView===!1)return!1;if(e.cfg.clipShape){var n=bD(e,r,t),i=n[0],a=n[1];if(e.isClipped(i,a))return!1}var o=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function LD(e,r,t){if(!eP(e,r,t))return null;for(var n=null,i=e.getChildren(),a=i.length,o=a-1;o>=0;o--){var s=i[o];if(s.isGroup())n=LD(s,r,t);else if(eP(s,r,t)){var u=s,l=bD(s,r,t),f=l[0],c=l[1];u.isInShape(f,c)&&(n=s)}if(n)break}return n}var Dat=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return Qp},r.prototype.getGroupBase=function(){return W2},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Wit();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*n,o>1&&i.scale(o,o)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){var i;return this.get("quickHit")?i=LD(this,t,n):i=e.prototype.getShape.call(this,t,n,null),i},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),i;if(t.length&&t[0]===this)i=n;else if(i=eat(t),i){i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1;var a=this.get("clipView");a&&(i=rat(i,n))}return i},r.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(tb(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),i=this.getChildren();t.clearRect(0,0,n.width,n.height),Ku(t,this),Qm(t,i),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Ku(t,this),Qit(this,i,a),Qm(t,i,a),t.restore()):n.length&&MD(n),V(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=JP(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(kg),Bat="0.5.12",Rat=Object.freeze(Object.defineProperty({__proto__:null,Shape:Qp,version:Bat,Canvas:Dat,Group:W2,getArcParams:Kp,Event:yc,Base:Dg,AbstractCanvas:kg,AbstractGroup:$g,AbstractShape:Ng,getBBoxMethod:zg,registerBBox:gi,getTextHeight:Yg,assembleFont:Hg,isAllowCapture:zf,multiplyVec2:ba,invert:Rg,getOffScreenContext:Wg,registerEasing:AI,PathUtil:a2},Symbol.toStringTag,{value:"Module"})),tx={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ne={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function pi(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function OD(e){var r=tx[e.type],t=e.getParent();if(!r)throw new Error("the type "+e.type+" is not supported by svg");var n=pi(r);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),t){var i=t.get("el");i||(i=t.createDom(),t.set("el",i)),i.appendChild(n)}return n}function ID(e,r){var t=e.get("el"),n=nb(t.children).sort(r),i=document.createDocumentFragment();n.forEach(function(a){i.appendChild(a)}),t.appendChild(i)}function Fat(e,r){var t=e.parentNode,n=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),i=n[r],a=n.indexOf(e);if(i){if(a>r)t.insertBefore(e,i);else if(a<r){var o=n[r+1];o?t.insertBefore(e,o):t.appendChild(e)}}else t.appendChild(e)}function kat(e,r){var t=e.cfg.el,n=e.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!i.dx&&!i.dy&&!i.blur&&!i.color)t.removeAttribute("filter");else{var a=r.find("filter",i);a||(a=r.addShadow(i)),t.setAttribute("filter","url(#"+a+")")}}function Mc(e){var r=e.attr().matrix;if(r){for(var t=e.cfg.el,n=[],i=0;i<9;i+=3)n.push(r[i]+","+r[i+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",r)}}function rc(e,r){var t=e.getClip(),n=e.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){OD(t),t.createPath(r);var i=r.addClip(t);n.setAttribute("clip-path","url(#"+i+")")}}function DD(e,r){r.forEach(function(t){t.draw(e)})}function BD(e,r){var t=e.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),i=e.getParent(),a=i?i.getChildren():[t],o=e.get("el");if(r==="remove"){var s=e.get("isClipShape");if(s){var u=o&&o.parentNode,l=u&&u.parentNode;u&&l&&l.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Fat(o,a.indexOf(e));else if(r==="sort"){var f=e.get("children");f&&f.length&&ID(e,function(c,h){return f.indexOf(c)-f.indexOf(h)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?Mc(e):r==="clip"?rc(e,n):r==="attr"||r==="add"&&e.draw(n)}}var H2=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=pi("g");this.set("el",t);var n=this.getParent();if(n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,t)}},r.prototype.onCanvasChange=function(t){BD(this,t)},r.prototype.getShapeBase=function(){return Jp},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var n=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),rc(this,t),this.createPath(t),n.length&&DD(t,n))},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");V(n||i,function(o,s){ne[s]&&a.setAttribute(ne[s],o)}),Mc(this)},r}($g),$at=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,t)}},r.prototype.getShapeBase=function(){return Jp},r.prototype.getGroupBase=function(){return H2},r.prototype.onCanvasChange=function(t){BD(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var i=zg(this.get("type"));i&&(n=i(this))}if(n){var a=n.x,o=n.y,s=n.width,u=n.height,l=this.getHitLineWidth(),f=l/2,c=a-f,h=o-f,v=a+s+f,g=o+u+f;return{x:c,y:h,minX:c,minY:h,maxX:v,maxY:g,width:s+l,height:u+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),n=t.fill,i=t.fillStyle;return(n||i||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,i=t.strokeStyle;return(n||i)&&this.canStroke},r.prototype.draw=function(t,n){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||OD(this),rc(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},r.prototype.createPath=function(t,n){},r.prototype.strokeAndFill=function(t,n){var i=n||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,u=i.strokeStyle,l=i.fillOpacity,f=i.strokeOpacity,c=i.lineWidth,h=this.get("el");this.canFill&&(n?"fill"in i?this._setColor(t,"fill",a):"fillStyle"in i&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),l&&h.setAttribute(ne.fillOpacity,l)),this.canStroke&&c>0&&(n?"stroke"in i?this._setColor(t,"stroke",s):"strokeStyle"in i&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),f&&h.setAttribute(ne.strokeOpacity,f),c&&h.setAttribute(ne.lineWidth,c))},r.prototype._setColor=function(t,n,i){var a=this.get("el");if(!i){a.setAttribute(ne[n],"none");return}if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)){var o=t.find("gradient",i);o||(o=t.addGradient(i)),a.setAttribute(ne[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(i)){var o=t.find("pattern",i);o||(o=t.addPattern(i)),a.setAttribute(ne[n],"url(#"+o+")")}else a.setAttribute(ne[n],i)},r.prototype.shadow=function(t,n){var i=this.attr(),a=n||i,o=a.shadowOffsetX,s=a.shadowOffsetY,u=a.shadowBlur,l=a.shadowColor;(o||s||u||l)&&kat(this,t)},r.prototype.transform=function(t){var n=this.attr(),i=(t||n).matrix;i&&Mc(this)},r.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},r.prototype.isPointInPath=function(t,n){var i=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,u=n+o.top,l=document.elementFromPoint(s,u);return!!(l&&l.isEqualNode(i))},r.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?n+i:0},r}(Ng),di=$at,Nat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");V(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):ne[s]&&a.setAttribute(ne[s],o)})},r}(di),zat=Nat,Gat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");if(V(n||i,function(l,f){ne[f]&&a.setAttribute(ne[f],l)}),typeof i.html=="function"){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,u=s.length-1;u>=0;u--)a.removeChild(s[u]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},r}(di),Wat=Gat,Yat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");V(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):ne[s]&&a.setAttribute(ne[s],o)})},r}(di),Hat=Yat,Xat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el");V(n||a,function(s,u){u==="img"?i._setImage(a.img):ne[u]&&o.setAttribute(ne[u],s)})},r.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},r.prototype._setImage=function(t){var n=this.attr(),i=this.get("el");if(Nt(t))i.setAttribute("href",t);else if(t instanceof window.Image)n.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Nt(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")i.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),n.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",a.toDataURL())}},r}(di),Vat=Xat,Uat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");V(n||i,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=be(o)?t.addArrow(i,ne[s]):t.getDefaultArrow(i,ne[s]);a.setAttribute(ne[s],"url(#"+u+")")}else a.removeAttribute(ne[s]);else ne[s]&&a.setAttribute(ne[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,i=t.y1,a=t.x2,o=t.y2;return wr.length(n,i,a,o)},r.prototype.getPoint=function(t){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return wr.pointAt(i,a,o,s,t)},r}(di),Kat=Uat,iv={circle:function(e,r,t){return[["M",e,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["z"]]},triangleDown:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},rP={get:function(e){return iv[e]},register:function(e,r){iv[e]=r},remove:function(e){delete iv[e]},getAll:function(){return iv}},qat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return vt(t)?t.map(function(n){return n.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),n=t.x,i=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return Lt(o)?s=o:s=rP.get(o),s?s(n,i,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=rP,r}(di),jat=qat,Zat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el");V(n||a,function(s,u){if(u==="path"&&vt(s))o.setAttribute("d",i._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var l=be(s)?t.addArrow(a,ne[u]):t.getDefaultArrow(a,ne[u]);o.setAttribute(ne[u],"url(#"+l+")")}else o.removeAttribute(ne[u]);else ne[u]&&o.setAttribute(ne[u],s)})},r.prototype._formatPath=function(t){var n=t.map(function(i){return i.join(" ")}).join("");return~n.indexOf("NaN")?"":n},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var n=this.get("el"),i=this.getTotalLength();if(i===0)return null;var a=n?n.getPointAtLength(t*i):null;return a?{x:a.x,y:a.y}:null},r}(di),Qat=Zat,Jat=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");V(n||i,function(o,s){s==="points"&&vt(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):ne[s]&&a.setAttribute(ne[s],o)})},r}(di),tot=Jat,eot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");V(n||i,function(o,s){s==="points"&&vt(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):ne[s]&&a.setAttribute(ne[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return st(n)?(this.set("totalLength",FI.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return V(i,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),wr.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;V(t,function(u,l){t[l+1]&&(o=[],o[0]=i/n,s=wr.length(u[0],u[1],t[l+1][0],t[l+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}(di),rot=eot;function not(e){var r=0,t=0,n=0,i=0;return vt(e)?e.length===1?r=t=n=i=e[0]:e.length===2?(r=n=e[0],t=i=e[1]):e.length===3?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,{r1:r,r2:t,r3:n,r4:i}}var iot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];V(n||a,function(l,f){u.indexOf(f)!==-1&&!s?(o.setAttribute("d",i._assembleRect(a)),s=!0):u.indexOf(f)===-1&&ne[f]&&o.setAttribute(ne[f],l)})},r.prototype._assembleRect=function(t){var n=t.x,i=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+n+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=not(s);vt(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var l=[["M "+(n+u.r1)+","+i],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return l.join(" ")},r}(di),aot=iot,nP=.3,oot={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},sot={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},uot={left:"left",start:"left",center:"middle",right:"end",end:"end"},lot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return C.exports.__assign(C.exports.__assign({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el");this._setFont(),V(n||a,function(s,u){u==="text"?i._setText(""+s):u==="matrix"&&s?Mc(i):ne[u]&&o.setAttribute(ne[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),i=n.textBaseline,a=n.textAlign,o=oI();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",sot[i]||"alphabetic"):t.setAttribute("alignment-baseline",oot[i]||"baseline"),t.setAttribute("text-anchor",uot[a]||"left")},r.prototype._setText=function(t){var n=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=o===void 0?"bottom":o;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),l=u.length-1,f="";V(u,function(c,h){h===0?s==="alphabetic"?f+='<tspan x="'+a+'" dy="'+-l+'em">'+c+"</tspan>":s==="top"?f+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?f+='<tspan x="'+a+'" dy="'+-(l-1)/2+'em">'+c+"</tspan>":s==="bottom"?f+='<tspan x="'+a+'" dy="-'+(l+nP)+'em">'+c+"</tspan>":s==="hanging"&&(f+='<tspan x="'+a+'" dy="'+(-(l-1)-nP)+'em">'+c+"</tspan>"):f+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),n.innerHTML=f}else n.innerHTML=t},r}(di),fot=lot,cot=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,hot=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,vot=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function RD(e){var r=e.match(vot);if(!r)return"";var t="";return r.sort(function(n,i){return n=n.split(":"),i=i.split(":"),Number(n[0])-Number(i[0])}),V(r,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function pot(e,r){var t=cot.exec(e),n=rg(ng(parseFloat(t[1])),Math.PI*2),i=t[2],a,o;n>=0&&n<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),u=s*s,l=(o.x-a.x+s*(o.y-a.y))/(u+1)+a.x,f=s*(o.x-a.x+s*(o.y-a.y))/(u+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",l),r.setAttribute("y2",f),r.innerHTML=RD(i)}function got(e,r){var t=hot.exec(e),n=parseFloat(t[1]),i=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",n),r.setAttribute("cy",i),r.setAttribute("r",a),r.innerHTML=RD(o)}var dot=function(){function e(r){this.cfg={};var t=null,n=Wa("gradient_");return r.toLowerCase()[0]==="l"?(t=pi("linearGradient"),pot(r,t)):(t=pi("radialGradient"),got(r,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=r,this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),yot={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},mot={x:"-40%",y:"-40%",width:"200%",height:"200%"},xot=function(){function e(r){this.type="filter",this.cfg={},this.type="filter";var t=pi("filter");return V(mot,function(n,i){t.setAttribute(i,n)}),this.el=t,this.id=Wa("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return e.prototype.match=function(r,t){if(this.type!==r)return!1;var n=!0,i=this.cfg;return V(Object.keys(i),function(a){if(i[a]!==t[a])return n=!1,!1}),n},e.prototype.update=function(r,t){var n=this.cfg;return n[yot[r]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(r,t){var n=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=n},e}(),iP=function(){function e(r,t){this.cfg={};var n=pi("marker"),i=Wa("marker_");n.setAttribute("id",i);var a=pi("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(r,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY",""+5)},e.prototype._setMarker=function(r,t){var n=this.el,i=this.cfg.path,a=this.cfg.d;vt(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",i),n.appendChild(t),a&&n.setAttribute("refX",""+a/r)},e.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},e}(),wot=function(){function e(r){this.type="clip",this.cfg={};var t=pi("clipPath");this.el=t,this.id=Wa("clip_"),t.id=this.id;var n=r.cfg.el;return t.appendChild(n),this.cfg=r,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},e}(),_ot=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Eot=function(){function e(r){this.cfg={};var t=pi("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=pi("image");t.appendChild(n);var i=Wa("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=r;var a=_ot.exec(r),o=a[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),Mot=function(){function e(r){var t=pi("defs"),n=Wa("defs_");t.id=n,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return e.prototype.find=function(r,t){for(var n=this.children,i=null,a=0;a<n.length;a++)if(n[a].match(r,t)){i=n[a].id;break}return i},e.prototype.findById=function(r){for(var t=this.children,n=null,i=0;i<t.length;i++)if(t[i].id===r){n=t[i];break}return n},e.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},e.prototype.getDefaultArrow=function(r,t){var n=r.stroke||r.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new iP(r,t);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},e.prototype.addGradient=function(r){var t=new dot(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(r,t){var n=new iP(r,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(r){var t=new xot(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(r){var t=new Eot(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(r){var t=new wot(r);return this.el.appendChild(t.el),this.add(t),t.id},e}(),Cot=function(e){C.exports.__extends(r,e);function r(t){return e.call(this,C.exports.__assign(C.exports.__assign({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return Jp},r.prototype.getGroupBase=function(){return H2},r.prototype.getShape=function(t,n,i){var a=i.target||i.srcElement;if(!tx[a.tagName]){for(var o=a.parentNode;o&&!tx[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=pi("svg"),n=new Mot(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},r.prototype.onCanvasChange=function(t){var n=this.get("context"),i=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&ID(this,function(s,u){return a.indexOf(s)-a.indexOf(u)?1:0})}else if(t==="clear"){if(i){i.innerHTML="";var o=n.el;o.innerHTML="",i.appendChild(o)}}else t==="matrix"?Mc(this):t==="clip"?rc(this,n):t==="changeSize"&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();rc(this,t),n.length&&DD(t,n)},r}(kg),Sot="0.5.6",Tot=Object.freeze(Object.defineProperty({__proto__:null,Shape:Jp,version:Sot,Canvas:Cot,Group:H2,Event:yc,Base:Dg,AbstractCanvas:kg,AbstractGroup:$g,AbstractShape:Ng,getBBoxMethod:zg,registerBBox:gi,getTextHeight:Yg,assembleFont:Hg,isAllowCapture:zf,multiplyVec2:ba,invert:Rg,getOffScreenContext:Wg,registerEasing:AI,PathUtil:a2},Symbol.toStringTag,{value:"Module"})),X2=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.type="path",n.shapeType="line";var i=t.connectNulls,a=i===void 0?!1:i,o=t.showSinglePoint,s=o===void 0?!0:o;return n.connectNulls=a,n.showSinglePoint=s,n}return r.prototype.updateElements=function(t,n){var i,a,o,s,u,l;n===void 0&&(n=!1);for(var f=new Map,c=new Map,h=[],v=0,g=0;g<t.length;g++){var d=t[g],m=this.getElementId(d);h.push(m),f.set(m,d),c.set(m,v),v++}this.elements=new Array(v);var x=uD(this.lastElementsMap,h),E=x.added,_=x.updated,M=x.removed;try{for(var A=C.exports.__values(E),b=A.next();!b.done;b=A.next()){var m=b.value,d=f.get(m),I=this.getShapeFactory(),L=this.getShapeInfo(d),g=c.get(m),F=new iD({shapeFactory:I,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:g});F.geometry=this,F.animate=this.animateOption,F.draw(L,n),this.elementsMap[m]=F,this.elements[g]=F}}catch(T){i={error:T}}finally{try{b&&!b.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var $=C.exports.__values(_),Y=$.next();!Y.done;Y=$.next()){var m=Y.value,d=f.get(m),F=this.lastElementsMap[m],g=c.get(m),L=this.getShapeInfo(d),k=F.getModel();(this.isCoordinateChanged||sD(k,L))&&(F.animate=this.animateOption,F.update(L)),this.elementsMap[m]=F,this.elements[g]=F}}catch(T){o={error:T}}finally{try{Y&&!Y.done&&(s=$.return)&&s.call($)}finally{if(o)throw o.error}}try{for(var z=C.exports.__values(M),S=z.next();!S.done;S=z.next()){var m=S.value,F=this.lastElementsMap[m];F.animate=this.animateOption,F.destroy()}}catch(T){u={error:T}}finally{try{S&&!S.done&&(l=z.return)&&l.call(z)}finally{if(u)throw u.error}}},r.prototype.getPointsAndData=function(t){for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];n.push({x:s.x,y:s.y}),i.push(s[ge])}return{points:n,data:i}},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),a=i.points,o=i.data;return n.mappingData=t,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=a,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},r}(Go);function Aot(e,r,t,n,i){var a=[];if(e.length){for(var o=[],s=[],u=0,l=e.length;u<l;u++){var f=e[u];o.push(f[1]),s.push(f[0])}s=s.reverse(),V([o,s],function(c,h){var v=[],g=n.parsePoints(c),d=g[0];o.length===1&&s.length===1?v=h===0?[["M",d.x-.5,d.y],["L",d.x+.5,d.y]]:[["L",d.x+.5,d.y],["L",d.x-.5,d.y]]:(r&&g.push({x:d.x,y:d.y}),t?v=Vp(g,!1,i):v=Ec(g,!1),h>0&&(v[0][0]="L")),a=a.concat(v)}),a.push(["Z"])}return a}function od(e,r,t,n,i){for(var a=je(e,r,!r,"lineWidth"),o=e.connectNulls,s=e.isInCircle,u=e.points,l=e.showSinglePoint,f=F2(u,o,l),c=[],h=0,v=f.length;h<v;h++){var g=f[h];c=c.concat(Aot(g,s,t,n,i))}return a.path=c,a}function FD(e){var r=e.start,t=e.end;return[[r.x,t.y],[t.x,r.y]]}zo("area",{defaultShapeType:"area",getDefaultPoints:function(e){var r=e.x,t=e.y0,n=vt(e.y)?e.y:[t,e.y];return n.map(function(i){return{x:r,y:i}})}});Le("area","area",{draw:function(e,r){var t=od(e,!1,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:r,fillOpacity:1}}}});var Pot=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=t.startOnZero,a=i===void 0?!0:i,o=t.sortable,s=o===void 0?!1:o,u=t.showSinglePoint,l=u===void 0?!1:u;return n.startOnZero=a,n.sortable=s,n.showSinglePoint=l,n}return r.prototype.getPointsAndData=function(t){for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];n.push(s.points),i.push(s[ge])}return{points:n,data:i}},r.prototype.getYMinValue=function(){if(this.startOnZero)return e.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(X2);zo("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return k2(e)}});Le("edge","line",{draw:function(e,r){var t=je(e,!0,!1,"lineWidth"),n=Ec(this.parsePoints(e.points),this.coordinate.isPolar);return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var bot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Go),Lot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.updateElements=function(t,n){for(var i=0;i<t.length;i++){var a=t[i],o=this.prepareRange(a),s=this.prepareSize(),u=j(this.styleOption,["cfg","shadowBlur"]);Zt(u)||(u=s/2),this.prepareGreyScaleBlurredCircle(s,u),this.drawWithRange(a,o,s,u)}},r.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var n=this.getAttribute("color"),i=n.getFields()[0],a=1/0,o=-1/0;return t.forEach(function(s){var u=s[ge][i];u>o&&(o=u),u<a&&(a=u)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Zt(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,n){var i=this.getGrayScaleBlurredCanvas(),a=t+n,o=i.getContext("2d");i.width=i.height=a*2,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,n,i,a){var o,s,u=this.coordinate,l=u.start,f=u.end,c=this.coordinate.getWidth(),h=this.coordinate.getHeight(),v=this.getAttribute("color"),g=v.getFields()[0];this.clearShadowCanvasCtx();var d=this.getShadowCanvasCtx();n&&(t=t.filter(function($){return $[ge][g]<=n[1]&&$[ge][g]>=n[0]}));var m=this.scales[g];try{for(var x=C.exports.__values(t),E=x.next();!E.done;E=x.next()){var _=E.value,M=this.getDrawCfg(_),A=M.x,b=M.y,I=m.scale(_[ge][g]);this.drawGrayScaleBlurredCircle(A-l.x,b-f.y,i+a,I,d)}}catch($){o={error:$}}finally{try{E&&!E.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}var L=d.getImageData(0,0,c,h);this.clearShadowCanvasCtx(),this.colorize(L),d.putImageData(L,0,0);var F=this.getImageShape();F.attr("x",l.x),F.attr("y",f.y),F.attr("width",c),F.attr("height",h),F.attr("img",d.canvas),F.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,n,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-i,n-i)},r.prototype.colorize=function(t){for(var n=this.getAttribute("color"),i=t.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if(Zt(s)){var u=a[s]?a[s]:Uf.rgb2arr(n.gradient(s/256));i[o-3]=u[0],i[o-2]=u[1],i[o-1]=u[2],i[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=t.map(function(a){return a[ge]});return C.exports.__assign(C.exports.__assign({},n),{mappingData:t,data:i})},r}(Go);function V2(e){var r,t,n=e.x,i=e.y,a=e.y0,o=e.size,s,u;vt(i)?(r=C.exports.__read(i,2),s=r[0],u=r[1]):(s=a,u=i);var l,f;vt(n)?(t=C.exports.__read(n,2),l=t[0],f=t[1]):(l=n-o/2,f=n+o/2);var c=[{x:l,y:s},{x:l,y:u}];return c.push({x:f,y:u},{x:f,y:s}),c}function U2(e,r){r===void 0&&(r=!0);var t=[],n=e[0];t.push(["M",n.x,n.y]);for(var i=1,a=e.length;i<a;i++)t.push(["L",e[i].x,e[i].y]);return r&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function kD(e,r){var t=0,n=0,i=0,a=0;return vt(e)?e.length===1?t=n=i=a=e[0]:e.length===2?(t=i=e[0],n=a=e[1]):e.length===3?(t=e[0],n=a=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],a=e[3]):t=n=i=a=e,t+n>r&&(t=t?r/(1+n/t):0,n=r-t),i+a>r&&(i=i?r/(1+a/i):0,a=r-i),[t||0,n||0,i||0,a||0]}function $D(e,r,t){var n=[];if(t.isRect){var i=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=j(e,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,u=t.isTransposed?t.getWidth():t.getHeight(),l=C.exports.__read(kD(o,Math.min(s,u)),4),f=l[0],c=l[1],h=l[2],v=l[3],g=t.isTransposed&&t.isReflect("y"),d=g?0:1,m=function(b){return g?-b:b};n.push(["M",i.x,a.y+m(f)]),f!==0&&n.push(["A",f,f,0,0,d,i.x+f,a.y]),n.push(["L",a.x-c,a.y]),c!==0&&n.push(["A",c,c,0,0,d,a.x,a.y+m(c)]),n.push(["L",a.x,i.y-m(h)]),h!==0&&n.push(["A",h,h,0,0,d,a.x-h,i.y]),n.push(["L",i.x+v,i.y]),v!==0&&n.push(["A",v,v,0,0,d,i.x,i.y-m(v)])}else n.push(["M",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]);n.push(["z"])}if(t.isPolar){var x=t.getCenter(),E=Hp(e,t),_=E.startAngle,M=E.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=ws(x.x,x.y,t.getRadius(),_,M);else{var A=function(L){return Math.pow(L,2)},f=Math.sqrt(A(x.x-r[0].x)+A(x.y-r[0].y)),c=Math.sqrt(A(x.x-r[2].x)+A(x.y-r[2].y));n=ws(x.x,x.y,f,t.startAngle,t.endAngle,c)}}return n}function Oot(e,r,t){var n=t.getWidth(),i=t.getHeight(),a=t.type==="rect",o=[],s=(e[2].x-e[1].x)/2,u=t.isTransposed?s*i/n:s*n/i;return r==="round"?(a?(o.push(["M",e[0].x,e[0].y+u]),o.push(["L",e[1].x,e[1].y-u]),o.push(["A",s,s,0,0,1,e[2].x,e[2].y-u]),o.push(["L",e[3].x,e[3].y+u]),o.push(["A",s,s,0,0,1,e[0].x,e[0].y+u])):(o.push(["M",e[0].x,e[0].y]),o.push(["L",e[1].x,e[1].y]),o.push(["A",s,s,0,0,1,e[2].x,e[2].y]),o.push(["L",e[3].x,e[3].y]),o.push(["A",s,s,0,0,1,e[0].x,e[0].y])),o.push(["z"])):o=U2(e),o}function ND(e,r,t){var n=[];return st(r)?t?n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",(e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function Hl(e,r){return[r,e]}function Iot(e,r,t){var n,i,a,o,s,u,l,f=C.exports.__read(C.exports.__spreadArray([],C.exports.__read(e),!1),4),c=f[0],h=f[1],v=f[2],g=f[3],d=C.exports.__read(typeof t=="number"?Array(4).fill(t):t,4),m=d[0],x=d[1],E=d[2],_=d[3];r.isTransposed&&(n=C.exports.__read(Hl(h,g),2),h=n[0],g=n[1]),r.isReflect("y")&&(i=C.exports.__read(Hl(c,h),2),c=i[0],h=i[1],a=C.exports.__read(Hl(v,g),2),v=a[0],g=a[1]),r.isReflect("x")&&(o=C.exports.__read(Hl(c,g),2),c=o[0],g=o[1],s=C.exports.__read(Hl(h,v),2),h=s[0],v=s[1]);var M=[],A=function(b){return Math.abs(b)};return u=C.exports.__read(kD([m,x,E,_],Math.min(A(g.x-c.x),A(h.y-c.y))).map(function(b){return A(b)}),4),m=u[0],x=u[1],E=u[2],_=u[3],r.isTransposed&&(l=C.exports.__read([_,m,x,E],4),m=l[0],x=l[1],E=l[2],_=l[3]),c.y<h.y?(M.push(["M",g.x,g.y+E]),E!==0&&M.push(["A",E,E,0,0,0,g.x-E,g.y]),M.push(["L",c.x+_,c.y]),_!==0&&M.push(["A",_,_,0,0,0,c.x,c.y+_]),M.push(["L",h.x,h.y-m]),m!==0&&M.push(["A",m,m,0,0,0,h.x+m,h.y]),M.push(["L",v.x-x,v.y]),x!==0&&M.push(["A",x,x,0,0,0,v.x,v.y-x]),M.push(["L",g.x,g.y+E]),M.push(["z"])):g.x<c.x?(M.push(["M",v.x+x,v.y]),x!==0&&M.push(["A",x,x,0,0,0,v.x,v.y+x]),M.push(["L",g.x,g.y-E]),E!==0&&M.push(["A",E,E,0,0,0,g.x+E,g.y]),M.push(["L",c.x-_,c.y]),_!==0&&M.push(["A",_,_,0,0,0,c.x,c.y-_]),M.push(["L",h.x,h.y+m]),m!==0&&M.push(["A",m,m,0,0,0,h.x-m,h.y]),M.push(["L",v.x+x,v.y]),M.push(["z"])):(M.push(["M",h.x,h.y+m]),m!==0&&M.push(["A",m,m,0,0,1,h.x+m,h.y]),M.push(["L",v.x-x,v.y]),x!==0&&M.push(["A",x,x,0,0,1,v.x,v.y+x]),M.push(["L",g.x,g.y-E]),E!==0&&M.push(["A",E,E,0,0,1,g.x-E,g.y]),M.push(["L",c.x+_,c.y]),_!==0&&M.push(["A",_,_,0,0,1,c.x,c.y-_]),M.push(["L",h.x,h.y+m]),M.push(["z"])),M}zo("interval",{defaultShapeType:"rect",getDefaultPoints:function(e){return V2(e)}});Le("interval","rect",{draw:function(e,r){var t=je(e,!1,!0),n=r,i=e==null?void 0:e.background;if(i){n=r.addGroup({name:"interval-group"});var a=dD(e),o=$D(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},a),{path:o}),zIndex:-1,name:D2})}var s;t.radius&&this.coordinate.isRect?s=Iot(this.parsePoints(e.points),this.coordinate,t.radius):s=this.parsePath(Oot(e.points,t.lineCap,this.coordinate));var u=n.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:s}),name:"interval"});return i?n:u},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});function Dot(e,r){var t=e.length,n=e;Nt(n[0])&&(n=e.map(function(s){return r.translate(s)}));for(var i=n[1]-n[0],a=2;a<t;a++){var o=n[a]-n[a-1];i>o&&(i=o)}return i}function Bot(e,r){if(r){var t=En(e),n=na(t,r);return n.length}return e.length}function K2(e){var r=e.theme,t=e.coordinate,n=e.getXScale(),i=n.values,a=e.beforeMappingData,o=i.length,s=_c(e.coordinate),u=e.intervalPadding,l=e.dodgePadding,f=e.maxColumnWidth||r.maxColumnWidth,c=e.minColumnWidth||r.minColumnWidth,h=e.columnWidthRatio||r.columnWidthRatio,v=e.multiplePieWidthRatio||r.multiplePieWidthRatio,g=e.roseWidthRatio||r.roseWidthRatio;if(n.isLinear&&i.length>1){i.sort();var d=Dot(i,n);o=(n.max-n.min)/d,i.length>o&&(o=i.length)}var m=n.range,x=1/o,E=1;if(t.isPolar?t.isTransposed&&o>1?E=v:E=g:(n.isLinear&&(x*=m[1]-m[0]),E=h),!st(u)&&u>=0){var _=u/s;x=(1-(o-1)*_)/o}else x*=E;if(e.getAdjust("dodge")){var M=e.getAdjust("dodge"),A=M.dodgeBy,b=Bot(a,A);if(!st(l)&&l>=0){var I=l/s;x=(x-I*(b-1))/b}else!st(u)&&u>=0&&(x*=E),x=x/b;x=x>=0?x:0}if(!st(f)&&f>=0){var L=f/s;x>L&&(x=L)}if(!st(c)&&c>=0){var F=c/s;x<F&&(x=F)}return x}var Rot=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var i=t.background;return n.background=i,n}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=_c(o);i=i/s}else this.defaultSize||(this.defaultSize=K2(this)),i=this.defaultSize;return n.size=i,n},r.prototype.adjustScale=function(){e.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Ent(t)});else{var n=this.scaleDefs,i=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!j(n,[i,"min"])&&t.change({min:0}),o<=0&&!j(n,[i,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},r}(Go),Fot=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;n.type="line";var i=t.sortable,a=i===void 0?!1:i;return n.sortable=a,n}return r}(X2),zD=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],kot=["cross","tick","plus","hyphen","line"];function q2(e,r,t,n,i){var a,o,s=je(r,i,!i,"r"),u=e.parsePoints(r.points),l=u[0];if(r.isStack)l=u[1];else if(u.length>1){var f=t.addGroup();try{for(var c=C.exports.__values(u),h=c.next();!h.done;h=c.next()){var v=h.value;f.addShape({type:"marker",attrs:C.exports.__assign(C.exports.__assign(C.exports.__assign({},s),{symbol:Ts[n]||n}),v)})}}catch(g){a={error:g}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return f}return t.addShape({type:"marker",attrs:C.exports.__assign(C.exports.__assign(C.exports.__assign({},s),{symbol:Ts[n]||n}),l)})}zo("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(e){return k2(e)}});V(zD,function(e){Le("point","hollow-".concat(e),{draw:function(r,t){return q2(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:Ts[e]||e,style:{r:4.5,stroke:t,fill:null}}}})});var $ot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return C.exports.__assign(C.exports.__assign({},n),{isStack:!!this.getAdjust("stack")})},r}(Go);function Not(e){for(var r=e[0],t=1,n=[["M",r.x,r.y]];t<e.length;){var i=e[t];(i.x!==e[t-1].x||i.y!==e[t-1].y)&&(n.push(["L",i.x,i.y]),i.x===r.x&&i.y===r.y&&t<e.length-1&&(r=e[t+1],n.push(["Z"]),n.push(["M",r.x,r.y]),t++)),t++}return er(vr(n),r)||n.push(["L",r.x,r.y]),n.push(["Z"]),n}zo("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var r=[];return V(e.x,function(t,n){var i=e.y[n];r.push({x:t,y:i})}),r}});Le("polygon","polygon",{draw:function(e,r){if(!Di(e.points)){var t=je(e,!0,!0),n=this.parsePath(Not(e.points));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n}),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});var zot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i=n.x,a=n.y,o;if(!(vt(i)&&vt(a))){var s=this.getXScale(),u=this.getYScale(),l=s.values.length,f=u.values.length,c=.5*1/l,h=.5*1/f;s.isCategory&&u.isCategory?(i=[i-c,i-c,i+c,i+c],a=[a-h,a+h,a+h,a-h]):vt(i)?(o=i,i=[o[0],o[0],o[1],o[1]],a=[a-h/2,a+h/2,a+h/2,a-h/2]):vt(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],i=[i-c/2,i-c/2,i+c/2,i+c/2]),n.x=i,n.y=a}return n},r}(Go);zo("schema",{defaultShapeType:""});var Got=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=_c(o);i=i/s}else this.defaultSize||(this.defaultSize=K2(this)),i=this.defaultSize;return n.size=i,n},r}(Go);function Wot(e){if(!vt(e))return[];var r=mn(e);return Nr(e,function(t){return t/r})}zo("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var r=e.size/2,t=[],n=Wot(e._size);return V(e.y,function(i,a){var o=n[a]*r,s=a===0,u=a===e.y.length-1;t.push({isMin:s,isMax:u,x:e.x-o,y:i}),t.unshift({isMin:s,isMax:u,x:e.x+o,y:i})}),t}});Le("violin","violin",{draw:function(e,r){var t=je(e,!0,!0),n=this.parsePath(pD(e.points));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n}),name:"violin"})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:r}}}});var Yot=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=_c(o);i=i/s}else this.defaultSize||(this.defaultSize=K2(this)),i=this.defaultSize;return n.size=i,n._size=j(t[ge],[this._sizeField]),n},r.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,e.prototype.initAttributes.call(this)},r}(Go);Le("area","line",{draw:function(e,r){var t=od(e,!0,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});Le("area","smooth",{draw:function(e,r){var t=this.coordinate,n=od(e,!1,!0,this,FD(t)),i=r.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:r,fillOpacity:1}}}});Le("area","smooth-line",{draw:function(e,r){var t=this.coordinate,n=od(e,!0,!0,this,FD(t)),i=r.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function ex(e,r){return["C",e.x*1/2+r.x*1/2,e.y,e.x*1/2+r.x*1/2,r.y,r.x,r.y]}function rx(e,r){var t=[];t.push({x:r.x,y:r.y}),t.push(e);var n=["Q"];return V(t,function(i){n.push(i.x,i.y)}),n}function Hot(e,r,t){var n=rx(r,t),i=[["M",e.x,e.y]];return i.push(n),i}function Xot(e,r){var t=rx(e[1],r),n=rx(e[3],r),i=[["M",e[0].x,e[0].y]];return i.push(n),i.push(["L",e[3].x,e[3].y]),i.push(["L",e[2].x,e[2].y]),i.push(t),i.push(["L",e[1].x,e[1].y]),i.push(["L",e[0].x,e[0].y]),i.push(["Z"]),i}Le("edge","arc",{draw:function(e,r){var t=je(e,!0,!1,"lineWidth"),n=e.points,i=n.length>2?"weight":"normal",a;if(e.isInCircle){var o={x:0,y:1};return i==="normal"?a=Hot(n[0],n[1],o):(t.fill=t.stroke,a=Xot(n,o)),a=this.parsePath(a),r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:a})})}else{if(i==="normal")return n=this.parsePoints(n),a=I3((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:a})});var s=ex(n[1],n[3]),u=ex(n[2],n[0]);return a=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],s,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],u,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:a})})}},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});function Vot(e,r){var t=ex(e,r),n=[["M",e.x,e.y]];return n.push(t),n}Le("edge","smooth",{draw:function(e,r){var t=je(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(Vot(n[0],n[1]));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var av=1/3;function Uot(e,r){var t=[];t.push({x:e.x,y:e.y*(1-av)+r.y*av}),t.push({x:r.x,y:e.y*(1-av)+r.y*av}),t.push(r);var n=[["M",e.x,e.y]];return V(t,function(i){n.push(["L",i.x,i.y])}),n}Le("edge","vhv",{draw:function(e,r){var t=je(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(Uot(n[0],n[1]));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});Le("interval","funnel",{getPoints:function(e){return e.size=e.size*2,V2(e)},draw:function(e,r){var t=je(e,!1,!0),n=this.parsePath(ND(e.points,e.nextPoints,!1)),i=r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});Le("interval","hollow-rect",{draw:function(e,r){var t=je(e,!0,!1),n=r,i=e==null?void 0:e.background;if(i){n=r.addGroup();var a=dD(e),o=$D(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},a),{path:o}),zIndex:-1,name:D2})}var s=this.parsePath(U2(e.points)),u=n.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:s}),name:"interval"});return i?n:u},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function Kot(e){var r=e.x,t=e.y,n=e.y0;return vt(t)?t.map(function(i,a){return{x:vt(r)?r[a]:r,y:i}}):[{x:r,y:n},{x:r,y:t}]}Le("interval","line",{getPoints:function(e){return Kot(e)},draw:function(e,r){var t=je(e,!0,!1,"lineWidth"),n=cn(C.exports.__assign({},t),["fill"]),i=this.parsePath(U2(e.points,!1)),a=r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},n),{path:i}),name:"interval"});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return[["M",t,n-i],["L",t,n+i]]},style:{r:5,stroke:r}}}});Le("interval","pyramid",{getPoints:function(e){return e.size=e.size*2,V2(e)},draw:function(e,r){var t=je(e,!1,!0),n=this.parsePath(ND(e.points,e.nextPoints,!0)),i=r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});function qot(e){var r,t=e.x,n=e.y,i=e.y0,a=e.size,o,s;vt(n)?(r=C.exports.__read(n,2),o=r[0],s=r[1]):(o=i,s=n);var u=t+a/2,l=t-a/2;return[{x:t,y:o},{x:t,y:s},{x:l,y:o},{x:u,y:o},{x:l,y:s},{x:u,y:s}]}function jot(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]]}Le("interval","tick",{getPoints:function(e){return qot(e)},draw:function(e,r){var t=je(e,!0,!1),n=this.parsePath(jot(e.points)),i=r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return[["M",t-i/2,n-i],["L",t+i/2,n-i],["M",t,n-i],["L",t,n+i],["M",t-i/2,n+i],["L",t+i/2,n+i]]},style:{r:5,stroke:r}}}});var Zot=function(e,r,t){var n=e.x,i=e.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:n,y:o}];break;case"hvh":var u=(a+n)/2;s=[{x:u,y:i},{x:u,y:o}];break;case"vhv":var l=(i+o)/2;s=[{x:n,y:l},{x:a,y:l}];break}return s};function Qot(e,r){var t=[];return V(e,function(n,i){var a=e[i+1];if(t.push(n),a){var o=Zot(n,a,r);t=t.concat(o)}}),t}function Jot(e){return e.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function tst(e,r){var t=F2(e.points,e.connectNulls,e.showSinglePoint),n=[];return V(t,function(i){var a=Qot(i,r);n=n.concat(Jot(a))}),C.exports.__assign(C.exports.__assign({},je(e,!0,!1,"lineWidth")),{path:n})}V(["hv","vh","hvh","vhv"],function(e){Le("line",e,{draw:function(r,t){var n=tst(r,e),i=t.addShape({type:"path",attrs:n,name:"line"});return i},getMarker:function(r){return yD(r,e)}})});V(kot,function(e){Le("point",e,{draw:function(r,t){return q2(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:Ts[e],style:{r:4.5,stroke:t,fill:null}}}})});Le("point","image",{draw:function(e,r){var t,n,i=je(e,!1,!1,"r").r,a=this.parsePoints(e.points),o=a[0];if(e.isStack)o=a[1];else if(a.length>1){var s=r.addGroup();try{for(var u=C.exports.__values(a),l=u.next();!l.done;l=u.next()){var f=l.value;s.addShape("image",{attrs:{x:f.x-i/2,y:f.y-i,width:i,height:i,img:e.shape[1]}})}}catch(c){t={error:c}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}return r.addShape("image",{attrs:{x:o.x-i/2,y:o.y-i,width:i,height:i,img:e.shape[1]}})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});V(zD,function(e){Le("point",e,{draw:function(r,t){return q2(this,r,t,e,!1)},getMarker:function(r){var t=r.color;return{symbol:Ts[e]||e,style:{r:4.5,fill:t}}}})});function aP(e){var r=vt(e)?e:[e],t=r[0],n=r[r.length-1],i=r.length>1?r[1]:t,a=r.length>3?r[3]:n,o=r.length>2?r[2]:i;return{min:t,max:n,min1:i,max1:a,median:o}}function oP(e,r,t){var n=t/2,i;if(vt(r)){var a=aP(r),o=a.min,s=a.max,u=a.median,l=a.min1,f=a.max1,c=e-n,h=e+n;i=[[c,s],[h,s],[e,s],[e,f],[c,l],[c,f],[h,f],[h,l],[e,l],[e,o],[c,o],[h,o],[c,u],[h,u]]}else{r=st(r)?.5:r;var v=aP(e),o=v.min,s=v.max,u=v.median,l=v.min1,f=v.max1,g=r-n,d=r+n;i=[[o,g],[o,d],[o,r],[l,r],[l,g],[l,d],[f,d],[f,g],[f,r],[s,r],[s,g],[s,d],[u,g],[u,d]]}return i.map(function(m){return{x:m[0],y:m[1]}})}function est(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y],["L",e[6].x,e[6].y],["L",e[7].x,e[7].y],["L",e[4].x,e[4].y],["Z"],["M",e[8].x,e[8].y],["L",e[9].x,e[9].y],["M",e[10].x,e[10].y],["L",e[11].x,e[11].y],["M",e[12].x,e[12].y],["L",e[13].x,e[13].y]]}Le("schema","box",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return oP(r,t,n)},draw:function(e,r){var t=je(e,!0,!1),n=this.parsePath(est(e.points)),i=r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n,name:"schema"})});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var a=[n-6,n-3,n,n+3,n+6],o=oP(t,a,i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function rst(e){var r=vt(e)?e:[e],t=r.sort(function(n,i){return i-n});return vnt(t,4,t[t.length-1])}function sP(e,r,t){var n=rst(r);return[{x:e,y:n[0]},{x:e,y:n[1]},{x:e-t/2,y:n[2]},{x:e-t/2,y:n[1]},{x:e+t/2,y:n[1]},{x:e+t/2,y:n[2]},{x:e,y:n[2]},{x:e,y:n[3]}]}function nst(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["L",e[4].x,e[4].y],["L",e[5].x,e[5].y],["Z"],["M",e[6].x,e[6].y],["L",e[7].x,e[7].y]]}Le("schema","candle",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return sP(r,t,n)},draw:function(e,r){var t=je(e,!0,!0),n=this.parsePath(nst(e.points)),i=r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n,name:"schema"})});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var a=[n+7.5,n+3,n-3,n-7.5],o=sP(t,a,i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function ist(e,r){var t=Math.abs(e[0].x-e[2].x),n=Math.abs(e[0].y-e[2].y),i=Math.min(t,n);r&&(i=Ge(r,0,Math.min(t,n))),i=i/2;var a=(e[0].x+e[2].x)/2,o=(e[0].y+e[2].y)/2;return{x:a-i,y:o-i,width:i*2,height:i*2}}Le("polygon","square",{draw:function(e,r){if(!Di(e.points)){var t=je(e,!0,!0),n=this.parsePoints(e.points);return r.addShape("rect",{attrs:C.exports.__assign(C.exports.__assign({},t),ist(n,e.size)),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});Le("violin","smooth",{draw:function(e,r){var t=je(e,!0,!0),n=this.parsePath(gD(e.points));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{stroke:null,r:4,fill:r}}}});Le("violin","hollow",{draw:function(e,r){var t=je(e,!0,!1),n=this.parsePath(pD(e.points));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});Le("violin","hollow-smooth",{draw:function(e,r){var t=je(e,!0,!1),n=this.parsePath(gD(e.points));return r.addShape("path",{attrs:C.exports.__assign(C.exports.__assign({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});var ast=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelValueDir=function(t){var n="y",i=t.points;return i[0][n]<=i[2][n]?1:-1},r.prototype.getLabelOffsetPoint=function(t,n,i,a){var o,s=e.prototype.getLabelOffsetPoint.call(this,t,n,i),u=this.getCoordinate(),l=u.isTransposed,f=l?"x":"y",c=this.getLabelValueDir(t.mappingData);return s=C.exports.__assign(C.exports.__assign({},s),(o={},o[f]=s[f]*c,o)),u.isReflect("x")&&(s=C.exports.__assign(C.exports.__assign({},s),{x:s.x*-1})),u.isReflect("y")&&(s=C.exports.__assign(C.exports.__assign({},s),{y:s.y*-1})),s},r.prototype.getThemedLabelCfg=function(t){var n=this.geometry,i=this.getDefaultLabelCfg(),a=n.theme;return Et({},i,a.labels,t.position==="middle"?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,n,i,a){var o=this.getCoordinate(),s=o.isTransposed,u=n.points,l=o.convert(u[0]),f=o.convert(u[2]),c=this.getLabelValueDir(n),h,v,g,d,m=vt(n.shape)?n.shape[0]:n.shape;if(m==="funnel"||m==="pyramid"){var x=j(n,"nextPoints"),E=j(n,"points");if(x){var _=o.convert(E[0]),M=o.convert(E[1]),A=o.convert(x[0]),b=o.convert(x[1]);s?(h=Math.min(A.y,_.y),g=Math.max(A.y,_.y),v=(M.x+b.x)/2,d=(_.x+A.x)/2):(h=Math.min((M.y+b.y)/2,(_.y+A.y)/2),g=Math.max((M.y+b.y)/2,(_.y+A.y)/2),v=b.x,d=_.x)}else h=Math.min(f.y,l.y),g=Math.max(f.y,l.y),v=f.x,d=l.x}else h=Math.min(f.y,l.y),g=Math.max(f.y,l.y),v=f.x,d=l.x;switch(a){case"right":t.x=v,t.y=(h+g)/2,t.textAlign=j(t,"textAlign",c>0?"left":"right");break;case"left":t.x=d,t.y=(h+g)/2,t.textAlign=j(t,"textAlign",c>0?"left":"right");break;case"bottom":s&&(t.x=(v+d)/2),t.y=g,t.textAlign=j(t,"textAlign","center"),t.textBaseline=j(t,"textBaseline",c>0?"bottom":"top");break;case"middle":s&&(t.x=(v+d)/2),t.y=(h+g)/2,t.textAlign=j(t,"textAlign","center"),t.textBaseline=j(t,"textBaseline","middle");break;case"top":s&&(t.x=(v+d)/2),t.y=h,t.textAlign=j(t,"textAlign","center"),t.textBaseline=j(t,"textBaseline",c>0?"bottom":"top");break}},r}(R2),ov=Math.PI/2,GD=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),i=0;if(Zt(t))i=t;else if(Nt(t)&&t.indexOf("%")!==-1){var a=n.getRadius();n.innerRadius>0&&(a=a*(1-n.innerRadius)),i=parseFloat(t)*.01*a}return i},r.prototype.getLabelItems=function(t){var n=e.prototype.getLabelItems.call(this,t),i=this.geometry.getYScale();return Nr(n,function(a){if(a&&i){var o=i.scale(j(a.data,i.field));return C.exports.__assign(C.exports.__assign({},a),{percent:o})}return a})},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),i;if(t.labelEmit)i=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)i="center";else{var a=n.getCenter(),o=t.offset;Math.abs(t.x-a.x)<1?i="center":t.angle>Math.PI||t.angle<=0?i=o>0?"left":"right":i=o>0?"right":"left"}return i},r.prototype.getLabelPoint=function(t,n,i){var a=1,o,s=t.content[i];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(t.content.length===1&&i===0?i=1:i===0&&(a=-1),o=this.getArcPoint(n,i));var u=t.offset*a,l=this.getPointAngle(o),f=t.labelEmit,c=this.getCirclePoint(l,u,o,f);return c.r===0?c.content="":(c.content=s,c.angle=l,c.color=n.color),c.rotate=t.autoRotate?this.getLabelRotate(l,u,f):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!vt(t.x)&&!vt(t.y)?{x:t.x,y:t.y}:{x:vt(t.x)?t.x[n]:t.x,y:vt(t.y)?t.y[n]:t.y}},r.prototype.getPointAngle=function(t){return Hu(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,n,i,a){var o=this.getCoordinate(),s=o.getCenter(),u=nd(o,i);if(u===0)return C.exports.__assign(C.exports.__assign({},s),{r:u});var l=t;if(o.isTransposed&&u>n&&!a){var f=Math.asin(n/(2*u));l=t+f*2}else u=u+n;return{x:s.x+u*Math.cos(l),y:s.y+u*Math.sin(l),r:u}},r.prototype.getLabelRotate=function(t,n,i){var a=t+ov;return i&&(a-=ov),a&&(a>ov?a=a-Math.PI:a<-ov&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),i=t.length,a={x:0,y:0};return V(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=n.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(R2),ost=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return r.prototype.getDefaultLabelCfg=function(t,n){var i=e.prototype.getDefaultLabelCfg.call(this,t,n);return Et({},i,j(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return e.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,n,i){var a;return n<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),i=n.getCenter(),a;return t.angle<=Math.PI/2&&t.x>=i.x?a="left":a="right",t.offset<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var n=this.getCoordinate(),i={x:vt(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:vt(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=Hu(n,i);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var u=Hu(n,a);s>=u&&(u=u+Math.PI*2),o=s+(u-s)/2}return o},r.prototype.getCirclePoint=function(t,n){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+n;return C.exports.__assign(C.exports.__assign({},sr(a.x,a.y,o,t)),{angle:t,r:o})},r}(GD),uP=4;function sst(e,r,t,n,i,a){var o,s,u=!0,l=n.start,f=n.end,c=Math.min(l.y,f.y),h=Math.abs(l.y-f.y),v,g=0,d=Number.MIN_VALUE,m=r.map(function(I){return I.y>g&&(g=I.y),I.y<d&&(d=I.y),{size:t,targets:[I.y-c]}});for(d-=c,g-c>h&&(h=g-c);u;)for(m.forEach(function(I){var L=(Math.min.apply(d,I.targets)+Math.max.apply(d,I.targets))/2;I.pos=Math.min(Math.max(d,L-I.size/2),h-I.size)}),u=!1,v=m.length;v--;)if(v>0){var x=m[v-1],E=m[v];x.pos+x.size>E.pos&&(x.size+=E.size,x.targets=x.targets.concat(E.targets),x.pos+x.size>h&&(x.pos=h-x.size),m.splice(v,1),u=!0)}v=0,m.forEach(function(I){var L=c+t/2;I.targets.forEach(function(){r[v].y=I.pos+L,L+=t,v++})});var _={};try{for(var M=C.exports.__values(e),A=M.next();!A.done;A=M.next()){var b=A.value;_[b.get("id")]=b}}catch(I){o={error:I}}finally{try{A&&!A.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}r.forEach(function(I){var L=I.r*I.r,F=Math.pow(Math.abs(I.y-i.y),2);if(L<F)I.x=i.x;else{var $=Math.sqrt(L-F);a?I.x=i.x+$:I.x=i.x-$}var Y=_[I.id];Y.attr("x",I.x),Y.attr("y",I.y);var k=Ji(Y.getChildren(),function(z){return z.get("type")==="text"});k&&(k.attr("y",I.y),k.attr("x",I.x))})}function ust(e,r,t,n){if(!(!e.length||!r.length)){var i=e[0]?e[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var u=14,l=o+i,f=l*2+u*2,c={start:a.start,end:a.end},h=[[],[]];e.forEach(function(v){!v||(v.textAlign==="right"?h[0].push(v):h[1].push(v))}),h.forEach(function(v,g){var d=f/u;v.length>d&&(v.sort(function(m,x){return x["..percent"]-m["..percent"]}),v.splice(d,v.length-d)),v.sort(function(m,x){return m.y-x.y}),sst(r,v,u,c,s,g)})}V(e,function(v){if(v&&v.labelLine){var g=v.offset,d=v.angle,m=sr(s.x,s.y,o,d),x=sr(s.x,s.y,o+g/2,d),E=v.x+j(v,"offsetX",0),_=v.y+j(v,"offsetY",0),M={x:E-Math.cos(d)*uP,y:_-Math.sin(d)*uP};be(v.labelLine)||(v.labelLine={}),v.labelLine.path=["M ".concat(m.x),"".concat(m.y," Q").concat(x.x),"".concat(x.y," ").concat(M.x),M.y].join(",")}})}}function WD(e,r,t){var n=e.filter(function(g){return!g.invisible});n.sort(function(g,d){return g.y-d.y});var i=!0,a=t.minY,o=t.maxY,s=Math.abs(a-o),u,l=0,f=Number.MIN_VALUE,c=n.map(function(g){return g.y>l&&(l=g.y),g.y<f&&(f=g.y),{content:g.content,size:r,targets:[g.y-a],pos:null}});for(f-=a,l-a>s&&(s=l-a);i;)for(c.forEach(function(g){var d=(Math.min.apply(f,g.targets)+Math.max.apply(f,g.targets))/2;g.pos=Math.min(Math.max(f,d-g.size/2),s-g.size),g.pos=Math.max(0,g.pos)}),i=!1,u=c.length;u--;)if(u>0){var h=c[u-1],v=c[u];h.pos+h.size>v.pos&&(h.size+=v.size,h.targets=h.targets.concat(v.targets),h.pos+h.size>s&&(h.pos=s-h.size),c.splice(u,1),i=!0)}u=0,c.forEach(function(g){var d=a+r/2;g.targets.forEach(function(){n[u].y=g.pos+d,d+=r,u++})})}var lP=4;function lst(e,r){var t=r.getCenter(),n=r.getRadius();if(e&&e.labelLine){var i=e.angle,a=e.offset,o=sr(t.x,t.y,n,i),s=e.x+j(e,"offsetX",0)*(Math.cos(i)>0?1:-1),u=e.y+j(e,"offsetY",0)*(Math.sin(i)>0?1:-1),l={x:s-Math.cos(i)*lP,y:u-Math.sin(i)*lP},f=e.labelLine.smooth,c=[],h=l.x-t.x,v=l.y-t.y,g=Math.atan(v/h);if(h<0&&(g+=Math.PI),f===!1){be(e.labelLine)||(e.labelLine={});var d=0;(i<0&&i>-Math.PI/2||i>Math.PI*1.5)&&l.y>o.y&&(d=1),i>=0&&i<Math.PI/2&&l.y>o.y&&(d=1),i>=Math.PI/2&&i<Math.PI&&o.y>l.y&&(d=1),(i<-Math.PI/2||i>=Math.PI&&i<Math.PI*1.5)&&o.y>l.y&&(d=1);var m=a/2>4?4:Math.max(a/2-1,0),x=sr(t.x,t.y,n+m,i),E=sr(t.x,t.y,n+a/2,g),_=0;c.push("M ".concat(o.x," ").concat(o.y)),c.push("L ".concat(x.x," ").concat(x.y)),c.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(_," ").concat(d," ").concat(E.x," ").concat(E.y)),c.push("L ".concat(l.x," ").concat(l.y))}else{var x=sr(t.x,t.y,n+(a/2>4?4:Math.max(a/2-1,0)),i),M=o.x<t.x?1:-1;c.push("M ".concat(l.x," ").concat(l.y));var A=(o.y-t.y)/(o.x-t.x),b=(l.y-t.y)/(l.x-t.x);Math.abs(A-b)>Math.pow(Math.E,-16)&&c.push.apply(c,["C",l.x+M*4,l.y,2*x.x-o.x,2*x.y-o.y,o.x,o.y]),c.push("L ".concat(o.x," ").concat(o.y))}e.labelLine.path=c.join(" ")}}function fst(e,r,t,n){var i,a,o=Xn(e,function(L){return!st(L)}),s=r[0]&&r[0].get("coordinate");if(!!s){var u=s.getCenter(),l=s.getRadius(),f={};try{for(var c=C.exports.__values(r),h=c.next();!h.done;h=c.next()){var v=h.value;f[v.get("id")]=v}}catch(L){i={error:L}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var g=j(o[0],"labelHeight",14),d=j(o[0],"offset",0);if(!(d<=0)){var m="left",x="right",E=Ga(o,function(L){return L.x<u.x?m:x}),_=s.start,M=s.end,A=Math.min((l+d+g)*2,s.getHeight()),b=A/2,I={minX:_.x,maxX:M.x,minY:u.y-b,maxY:u.y+b};V(E,function(L,F){var $=Math.floor(A/g);L.length>$&&(L.sort(function(Y,k){return k.percent-Y.percent}),V(L,function(Y,k){k+1>$&&(f[Y.id].set("visible",!1),Y.invisible=!0)})),WD(L,g,I)}),V(E,function(L,F){V(L,function($){var Y=F===x,k=f[$.id],z=k.getChildByIndex(0);if(z){var S=l+d,T=$.y-u.y,O=Math.pow(S,2),D=Math.pow(T,2),H=O-D>0?O-D:0,it=Math.sqrt(H),pt=Math.abs(Math.cos($.angle)*S);Y?$.x=u.x+Math.max(it,pt):$.x=u.x-Math.max(it,pt)}z&&(z.attr("y",$.y),z.attr("x",$.x)),lst($,s)})})}}}var nx=4,cst=4,fP=4;function hst(e,r,t){var n=r.getCenter(),i=r.getRadius(),a={x:e.x-(t?fP:-fP),y:e.y},o=sr(n.x,n.y,i+nx,e.angle),s={x:a.x,y:a.y},u={x:o.x,y:o.y},l=sr(n.x,n.y,i,e.angle),f="";if(a.y!==o.y){var c=t?4:-4;s.y=a.y,e.angle<0&&e.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-c),a.y<o.y?u.y=s.y:(u.y=o.y,u.x=Math.max(u.x,s.x-c))),e.angle>0&&e.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-c),a.y>o.y?u.y=s.y:(u.y=o.y,u.x=Math.max(u.x,s.x-c))),e.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-c),a.y>o.y?u.y=s.y:(u.y=o.y,u.x=Math.min(u.x,s.x-c))),e.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-c),a.y<o.y?u.y=s.y:(u.y=o.y,u.x=Math.min(u.x,s.x-c)))}f=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(u.x,",").concat(u.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(l.x,",").concat(l.y)].join(" "),e.labelLine=Et({},e.labelLine,{path:f})}function vst(e,r,t,n){var i,a,o=r[0]&&r[0].get("coordinate");if(!!o){var s=o.getCenter(),u=o.getRadius(),l={};try{for(var f=C.exports.__values(r),c=f.next();!c.done;c=f.next()){var h=c.value;l[h.get("id")]=h}}catch(L){i={error:L}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var v=j(e[0],"labelHeight",14),g=Math.max(j(e[0],"offset",0),nx);V(e,function(L){if(!!L){var F=j(l,[L.id]);if(!!F){var $=L.x>s.x||L.x===s.x&&L.y>s.y,Y=st(L.offsetX)?cst:L.offsetX,k=sr(s.x,s.y,u+nx,L.angle),z=g+Y;L.x=s.x+($?1:-1)*(u+z),L.y=k.y}}});var d=o.start,m=o.end,x="left",E="right",_=Ga(e,function(L){return L.x<s.x?x:E}),M=(u+g)*2+v;V(_,function(L){var F=L.length*v;F>M&&(M=Math.min(F,Math.abs(d.y-m.y)))});var A={minX:d.x,maxX:m.x,minY:s.y-M/2,maxY:s.y+M/2};V(_,function(L,F){var $=M/v;L.length>$&&(L.sort(function(Y,k){return k.percent-Y.percent}),V(L,function(Y,k){k>$&&(l[Y.id].set("visible",!1),Y.invisible=!0)})),WD(L,v,A)});var b=A.minY,I=A.maxY;V(_,function(L,F){var $=F===E;V(L,function(Y){var k=j(l,Y&&[Y.id]);if(!!k){if(Y.y<b||Y.y>I){k.set("visible",!1);return}var z=k.getChildByIndex(0),S=z.getCanvasBBox(),T={x:$?S.x:S.maxX,y:S.y+S.height/2};ad(z,Y.x-T.x,Y.y-T.y),Y.labelLine&&hst(Y,o,$)}})})}}function pst(e,r,t,n){V(r,function(i){var a=n.minX,o=n.minY,s=n.maxX,u=n.maxY,l=i.getCanvasBBox(),f=l.minX,c=l.minY,h=l.maxX,v=l.maxY,g=l.x,d=l.y,m=l.width,x=l.height,E=g,_=d;(f<a||h<a)&&(E=a),(c<o||v<o)&&(_=o),f>s?E=s-m:h>s&&(E=E-(h-s)),c>u?_=u-x:v>u&&(_=_-(v-u)),(E!==g||_!==d)&&ad(i,E-g,_-d)})}function gst(e,r,t,n){V(r,function(i,a){var o=i.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}var dst=100,YD=function(){function e(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,n=t===void 0?1:t,i=r.yGap,a=i===void 0?8:i;this.xGap=n,this.yGap=a}return e.prototype.hasGap=function(r){for(var t=!0,n=this.bitmap,i=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),u=i;u<=a;u+=1){if(!n[u]){n[u]={};continue}if(u===i||u===a){for(var l=o;l<=s;l++)if(n[u][l]){t=!1;break}}else if(n[u][o]||n[u][s]){t=!1;break}}return t},e.prototype.fillGap=function(r){for(var t=this.bitmap,n=Math.round(r.minX),i=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=n;s<=i;s+=1)t[s]||(t[s]={});for(var s=n;s<=i;s+=this.xGap){for(var u=a;u<=o;u+=this.yGap)t[s][u]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[n][s]=!0,t[i][s]=!0;if(this.xGap!==1)for(var s=n;s<=i;s+=1)t[s][a]=!0,t[s][o]=!0},e.prototype.destroy=function(){this.bitmap={}},e}();function yst(e,r,t){t===void 0&&(t=dst);var n=-1,i=e.attr(),a=i.x,o=i.y,s=e.getCanvasBBox(),u=Math.sqrt(s.width*s.width+s.height*s.height),l,f=-n,c=0,h=0,v=function(x){var E=x*.1;return[E*Math.cos(E),E*Math.sin(E)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var g=!1,d=0,m={};Math.min(Math.abs(c),Math.abs(h))<u&&d<t;)if(l=v(f+=n),c=~~l[0],h=~~l[1],!(!c&&!h||m["".concat(c,"-").concat(h)])&&(e.attr({x:a+c,y:o+h}),c+h<0&&e.attr("textAlign","right"),d++,r.hasGap(e.getCanvasBBox()))){r.fillGap(e.getCanvasBBox()),g=!0,m["".concat(c,"-").concat(h)]=!0;break}return g}function mst(e,r,t,n){var i=e.getCanvasBBox(),a=i.width,o=i.height,s={x:r,y:t,textAlign:"center"};switch(n){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break}return e.attr(s),e.getCanvasBBox()}function xst(e,r,t,n){var i=new YD;V(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});yst(o,i)||a.remove(!0)}),i.destroy()}function wst(e,r,t,n){var i=new YD;V(r,function(a){for(var o=a.find(function(v){return v.get("type")==="text"}),s=o.attr(),u=s.x,l=s.y,f=!1,c=0;c<=8;c++){var h=mst(o,u,l,c);if(i.hasGap(h)){i.fillGap(h),f=!0;break}}f||a.remove(!0)}),i.destroy()}function _st(e,r){return(e[0]||0)*(r[0]||0)+(e[1]||0)*(r[1]||0)+(e[2]||0)*(r[2]||0)}function cP(e){if(e.length>4)return[];var r=function(i,a){return[a.x-i.x,a.y-i.y]},t=r(e[0],e[1]),n=r(e[1],e[2]);return[t,n]}function sv(e,r,t){r===void 0&&(r=0),t===void 0&&(t={x:0,y:0});var n=e.x,i=e.y;return{x:(n-t.x)*Math.cos(-r)+(i-t.y)*Math.sin(-r)+t.x,y:(t.x-n)*Math.sin(-r)+(i-t.y)*Math.cos(-r)+t.y}}function hP(e){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],t=e.rotation;return t?[sv(r[0],t,r[0]),sv(r[1],t,r[0]),sv(r[2],t,r[0]),sv(r[3],t,r[0])]:r}function vP(e,r){if(e.length>4)return{min:0,max:0};var t=[];return e.forEach(function(n){t.push(_st([n.x,n.y],r))}),{min:Math.min.apply(Math,C.exports.__spreadArray([],C.exports.__read(t),!1)),max:Math.max.apply(Math,C.exports.__spreadArray([],C.exports.__read(t),!1))}}function Est(e,r){return e.max>r.min&&e.min<r.max}function Mst(e){return typeof e=="number"&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0}function pP(e){return["x","y","width","height"].every(function(r){return Mst(e[r])})}function Cst(e,r,t){return t===void 0&&(t=0),!(r.x>e.x+e.width+t||r.x+r.width<e.x-t||r.y>e.y+e.height+t||r.y+r.height<e.y-t)}function Sst(e,r,t){if(t===void 0&&(t=0),!pP(e)||!pP(r))return!1;if(!e.rotation&&!r.rotation)return Cst(e,r,t);for(var n=hP(e),i=hP(r),a=cP(n).concat(cP(i)),o=0;o<a.length;o++){var s=a[o],u=vP(n,s),l=vP(i,s);if(!Est(u,l))return!1}return!0}function Tst(e){if(typeof window!="undefined"){var r;try{r=new Blob([e.toString()],{type:"application/javascript"})}catch{r=new window.BlobBuilder,r.append(e.toString()),r=r.getBlob()}return new Worker(URL.createObjectURL(r))}}var Ast=function(e){function r(){function l(_,M){return(_[0]||0)*(M[0]||0)+(_[1]||0)*(M[1]||0)+(_[2]||0)*(M[2]||0)}function f(_){if(_.length>4)return[];var M=function(I,L){return[L.x-I.x,L.y-I.y]},A=M(_[0],_[1]),b=M(_[1],_[2]);return[A,b]}function c(_,M,A){M===void 0&&(M=0),A===void 0&&(A={x:0,y:0});var b=_.x,I=_.y;return{x:(b-A.x)*Math.cos(-M)+(I-A.y)*Math.sin(-M)+A.x,y:(A.x-b)*Math.sin(-M)+(I-A.y)*Math.cos(-M)+A.y}}function h(_){var M=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}],A=_.rotation;return A?[c(M[0],A,M[0]),c(M[1],A,M[0]),c(M[2],A,M[0]),c(M[3],A,M[0])]:M}function v(_,M){if(_.length>4)return{min:0,max:0};var A=[];return _.forEach(function(b){A.push(l([b.x,b.y],M))}),{min:Math.min.apply(null,A),max:Math.max.apply(null,A)}}function g(_,M){return _.max>M.min&&_.min<M.max}function d(_){return typeof _=="number"&&!Number.isNaN(_)&&_!==1/0&&_!==-1/0}function m(_){return["x","y","width","height"].every(function(M){return d(_[M])})}function x(_,M,A){return A===void 0&&(A=0),!(M.x>_.x+_.width+A||M.x+M.width<_.x-A||M.y>_.y+_.height+A||M.y+M.height<_.y-A)}function E(_,M,A){if(A===void 0&&(A=0),!m(_)||!m(M))return!1;if(!_.rotation&&!M.rotation)return x(_,M,A);for(var b=h(_),I=h(M),L=f(b).concat(f(I)),F=0;F<L.length;F++){var $=L[F],Y=v(b,$),k=v(I,$);if(!g(Y,k))return!1}return!0}return{intersect:E}}var t=r().intersect;function n(l){for(var f=l.slice(),c=0;c<f.length;c++){var h=f[c];if(h.visible)for(var v=c+1;v<f.length;v++){var g=f[v];h!==g&&g.visible&&t(h,g)&&(g.visible=!1)}}return f}var i={"hide-overlap":n};try{var a=JSON.parse(e.data);if(!a||!a.type||!i[a.type])return;var o=a.type,s=a.items,u=i[o](s);self.postMessage(u)}catch(l){throw l}},Pst=`
   self.onmessage = `.concat(Ast.toString(),`
`),h1=function(e){for(var r=e.slice(),t=0;t<r.length;t++){var n=r[t];if(n.visible)for(var i=t+1;i<r.length;i++){var a=r[i];n!==a&&a.visible&&Sst(n,a)&&(a.visible=!1)}}return r},v1=new Map,uv=Tst(Pst);function bst(e,r,t,n){return new Promise(function(i){var a=r.map(function(u,l){return C.exports.__assign(C.exports.__assign({},cD(u,e[l],j(e[l],"background.padding"))),{visible:!0})}),o=JSON.stringify(a),s=function(u){return v1.set(o,u),V(u,function(l,f){var c=l.visible,h=r[f];c?h==null||h.show():h==null||h.hide()}),i(u)};if(v1.get(o))s(v1.get(o));else if(uv)try{uv.postMessage(JSON.stringify({type:"hide-overlap",items:a})),uv.onmessage=function(u){return s(Array.isArray(u.data)?u.data:[])},uv.onmessageerror=function(u){console.warn("[AntV G2] Web worker is not available"),s(h1(a))}}catch(u){console.error(u),s(h1(a))}else s(h1(a))})}var gP={"#5B8FF9":!0},Lst=function(e){var r=Uf.toRGB(e).toUpperCase();if(gP[r])return gP[r];var t=C.exports.__read(Uf.rgb2arr(r),3),n=t[0],i=t[1],a=t[2],o=(n*299+i*587+a*114)/1e3<128;return o};function Ost(e,r,t){if(t.length!==0){var n=t[0].get("element"),i=n.geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(u,l){var f=r[l],c=f.find(function(x){return x.get("type")==="text"}),h=Qr.fromObject(u.getBBox()),v=Qr.fromObject(c.getCanvasBBox()),g=!h.contains(v),d=u.attr("fill"),m=Lst(d);g?c.attr(i.overflowLabels.style):m?o&&c.attr("fill",o):s&&c.attr("fill",s)})}}function Ist(e,r,t){var n=e.coordinate,i=Bo(r),a=Qr.fromObject(i.getCanvasBBox()),o=Qr.fromObject(t.getBBox());return n.isTransposed?o.height>=a.height:o.width>=a.width}function Dst(e,r,t){var n=!!e.getAdjust("stack");return n||r.every(function(i,a){var o=t[a];return Ist(e,i,o)})}function Bst(e,r,t){var n=e.coordinate,i=Qr.fromObject(t.getBBox()),a=Bo(r);n.isTransposed?a.attr({x:i.minX+i.width/2,textAlign:"center"}):a.attr({y:i.minY+i.height/2,textBaseline:"middle"})}function Rst(e,r,t){var n;if(t.length!==0){var i=(n=t[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=Dst(a,r,t);o&&t.forEach(function(s,u){var l=r[u];Bst(a,l,s)})}}}function Fst(e){var r=500,t=[],n=Math.max(Math.floor(e.length/r),1);return V(e,function(i,a){a%n===0?t.push(i):i.set("visible",!1)}),t}function kst(e,r,t){var n;if(t.length!==0){var i=(n=t[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=Fst(r),s=C.exports.__read(a.getXYFields(),1),u=s[0],l=[],f=[],c=Ga(o,function(m){return m.get("data")[u]}),h=eg(Nr(o,function(m){return m.get("data")[u]})),v;o.forEach(function(m){m.set("visible",!0)});var g=function(m){m&&(m.length&&f.push(m.pop()),f.push.apply(f,C.exports.__spreadArray([],C.exports.__read(m),!1)))};for(Zr(h)>0&&(v=h.shift(),g(c[v])),Zr(h)>0&&(v=h.pop(),g(c[v])),V(h.reverse(),function(m){g(c[m])});f.length>0;){var d=f.shift();d.get("visible")&&(Ait(d,l)?d.set("visible",!1):l.push(d))}}}}function $st(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,C.exports.__spreadArray([],C.exports.__read(i),!1)),n}function HD(e,r,t){return e.some(function(n){return t(n,r)})}function Nst(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function dP(e,r){return HD(e,r,function(t,n){var i=Bo(t),a=Bo(n);return Nst(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function zst(e,r,t,n,i){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),u=s==null?void 0:s.geometry;if(!(!u||u.type!=="point")){var l=C.exports.__read(u.getXYFields(),2),f=l[0],c=l[1],h=Ga(r,function(d){return d.get("data")[f]}),v=[],g=i&&i.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;Nr(ju(h).reverse(),function(d){for(var m=$st(u,h[d]);m.length;){var x=m.shift(),E=Bo(x);if(HD(v,x,function(A,b){return A.get("data")[f]===b.get("data")[f]&&A.get("data")[c]===b.get("data")[c]})){E.set("visible",!1);continue}var _=dP(v,x),M=!1;if(_&&(E.attr("y",E.attr("y")+2*g),M=dP(v,x)),M){E.set("visible",!1);continue}v.push(x)}})}}}function Gst(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,C.exports.__spreadArray([],C.exports.__read(i),!1)),n}function XD(e,r,t){return e.some(function(n){return t(n,r)})}function Wst(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function yP(e,r){return XD(e,r,function(t,n){var i=Bo(t),a=Bo(n);return Wst(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function Yst(e,r,t,n,i){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),u=s==null?void 0:s.geometry;if(!(!u||["path","line","area"].indexOf(u.type)<0)){var l=C.exports.__read(u.getXYFields(),2),f=l[0],c=l[1],h=Ga(r,function(d){return d.get("data")[f]}),v=[],g=i&&i.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;Nr(ju(h).reverse(),function(d){for(var m=Gst(u,h[d]);m.length;){var x=m.shift(),E=Bo(x);if(XD(v,x,function(A,b){return A.get("data")[f]===b.get("data")[f]&&A.get("data")[c]===b.get("data")[c]})){E.set("visible",!1);continue}var _=yP(v,x),M=!1;if(_&&(E.attr("y",E.attr("y")+2*g),M=yP(v,x)),M){E.set("visible",!1);continue}v.push(x)}})}}}var p1;function Hst(){return p1||(p1=document.createElement("canvas").getContext("2d")),p1}var lv=ac(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=r.fontWeight,a=r.fontStyle,o=r.fontVariant,s=Hst();return s.font=[a,o,i,"".concat(t,"px"),n].join(" "),s.measureText(Nt(e)?e:"").width},function(e,r){return r===void 0&&(r={}),C.exports.__spreadArray([e],C.exports.__read(ic(r)),!1).join("")}),Xst=function(e,r,t){var n=16,i=lv("...",t),a;Nt(e)?a=e:a=Os(e);var o=r,s=[],u,l;if(lv(e,t)<=r)return e;for(;u=a.substr(0,n),l=lv(u,t),!(l+i>o&&l>o);)if(s.push(u),o-=l,a=a.substr(n),!a)return s.join("");for(;u=a.substr(0,1),l=lv(u,t),!(l+i>o);)if(s.push(u),o-=l,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function Vst(e,r,t,n,i){if(!(r.length<=0)){var a=(i==null?void 0:i.direction)||["top","right","bottom","left"],o=(i==null?void 0:i.action)||"translate",s=(i==null?void 0:i.margin)||0,u=r[0].get("coordinate");if(!!u){var l=ynt(u,s),f=l.minX,c=l.minY,h=l.maxX,v=l.maxY;V(r,function(g){var d=g.getCanvasBBox(),m=d.minX,x=d.minY,E=d.maxX,_=d.maxY,M=d.x,A=d.y,b=d.width,I=d.height,L=M,F=A;if(a.indexOf("left")>=0&&(m<f||E<f)&&(L=f),a.indexOf("top")>=0&&(x<c||_<c)&&(F=c),a.indexOf("right")>=0&&(m>h?L=h-b:E>h&&(L=L-(E-h))),a.indexOf("bottom")>=0&&(x>v?F=v-I:_>v&&(F=F-(_-v))),L!==M||F!==A){var $=L-M;if(o==="translate")ad(g,$,F-A);else if(o==="ellipsis"){var Y=g.findAll(function(k){return k.get("type")==="text"});Y.forEach(function(k){var z=ig(k.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),S=k.getCanvasBBox(),T=Xst(k.attr("text"),S.width-Math.abs($),z);k.attr("text",T)})}else g.hide()}})}}}function Ust(e,r,t){var n={fillOpacity:st(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),strokeOpacity:st(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity"),opacity:st(e.attr("opacity"))?1:e.attr("opacity")};e.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),e.animate(n,r)}function Kst(e,r,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},i=r.easing,a=r.duration,o=r.delay;e.animate(n,a,i,function(){e.remove(!0)},o)}function qst(e,r,t){var n,i=C.exports.__read(r,2),a=i[0],o=i[1];return e.applyToMatrix([a,o,1]),t==="x"?(e.setMatrix(or(e.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),n=or(e.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):t==="y"?(e.setMatrix(or(e.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),n=or(e.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):t==="xy"&&(e.setMatrix(or(e.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),n=or(e.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),n}function j2(e,r,t,n,i){var a=t.start,o=t.end,s=t.getWidth(),u=t.getHeight(),l,f;i==="y"?(l=a.x+s/2,f=n.y<a.y?n.y:a.y):i==="x"?(l=n.x>a.x?n.x:a.x,f=a.y+u/2):i==="xy"&&(t.isPolar?(l=t.getCenter().x,f=t.getCenter().y):(l=(a.x+o.x)/2,f=(a.y+o.y)/2));var c=qst(e,[l,f],i);e.animate({matrix:c},r)}function jst(e,r,t){var n=t.coordinate,i=t.minYPoint;j2(e,r,n,i,"x")}function Zst(e,r,t){var n=t.coordinate,i=t.minYPoint;j2(e,r,n,i,"y")}function Qst(e,r,t){var n=t.coordinate,i=t.minYPoint;j2(e,r,n,i,"xy")}function Jst(e,r,t){var n=e.getTotalLength();e.attr("lineDash",[n]),e.animate(function(i){return{lineDashOffset:(1-i)*n}},r)}function tut(e,r,t){var n=t.toAttrs,i=n.x,a=n.y;delete n.x,delete n.y,e.attr(n),e.animate({x:i,y:a},r)}function eut(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,a=i.points,o=a[0].y-a[1].y>0?n.maxX:n.minX,s=(n.minY+n.maxY)/2;e.applyToMatrix([o,s,1]);var u=or(e.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);e.setMatrix(u),e.animate({matrix:or(e.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function rut(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,a=(n.minX+n.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?n.maxY:n.minY;e.applyToMatrix([a,s,1]);var u=or(e.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);e.setMatrix(u),e.animate({matrix:or(e.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}function mP(e,r){var t,n=Kp(e,r),i=n.startAngle,a=n.endAngle;return!hr(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),!hr(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=C.exports.__read([a,i],2),i=t[0],a=t[1]),hr(i,Math.PI*1.5)&&(i=Math.PI*-.5),hr(a,Math.PI*-.5)&&!hr(i,a)&&(a=Math.PI*1.5),{startAngle:i,endAngle:a}}function xP(e){var r;return e[0]==="M"||e[0]==="L"?r=[e[1],e[2]]:(e[0]==="a"||e[0]==="A"||e[0]==="C")&&(r=[e[e.length-2],e[e.length-1]]),r}function wP(e){var r,t,n,i=e.filter(function(_){return _[0]==="A"||_[0]==="a"});if(i.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=e.indexOf(a),u=e.indexOf(o),l=xP(e[s-1]),f=xP(e[u-1]),c=mP(l,a),h=c.startAngle,v=c.endAngle,g=mP(f,o),d=g.startAngle,m=g.endAngle;hr(h,d)&&hr(v,m)?(t=h,n=v):(t=Math.min(h,d),n=Math.max(v,m));var x=a[1],E=i[i.length-1][1];return x<E?(r=C.exports.__read([E,x],2),x=r[0],E=r[1]):x===E&&(E=0),{startAngle:t,endAngle:n,radius:x,innerRadius:E}}function nut(e,r,t){var n=t.toAttrs,i=t.coordinate,a=n.path||[],o=a.map(function(E){return E[0]});if(!(a.length<1)){var s=wP(a),u=s.startAngle,l=s.endAngle,f=s.radius,c=s.innerRadius,h=wP(e.attr("path")),v=h.startAngle,g=h.endAngle,d=i.getCenter(),m=u-v,x=l-g;if(m===0&&x===0){e.attr("path",a);return}e.animate(function(E){var _=v+E*m,M=g+E*x;return C.exports.__assign(C.exports.__assign({},n),{path:er(o,["M","A","A","Z"])?I3(d.x,d.y,f,_,M):ws(d.x,d.y,f,_,M,c)})},C.exports.__assign(C.exports.__assign({},r),{callback:function(){e.attr("path",a)}}))}}function iut(e,r,t){var n=A2(t.coordinate,20),i=n.type,a=n.startState,o=n.endState,s=e.setClip({type:i,attrs:a});t.toAttrs&&e.attr(t.toAttrs),s.animate(o,C.exports.__assign(C.exports.__assign({},r),{callback:function(){e&&!e.get("destroyed")&&e.set("clipShape",null),s.remove(!0)}}))}function Z2(e,r,t){if(e.isGroup())V(e.getChildren(),function(s){Z2(s,r,t)});else{var n=e.getBBox(),i=(n.minX+n.maxX)/2,a=(n.minY+n.maxY)/2;if(e.applyToMatrix([i,a,1]),t==="zoomIn"){var o=or(e.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);e.setMatrix(o),e.animate({matrix:or(e.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},r)}else e.animate({matrix:or(e.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},C.exports.__assign(C.exports.__assign({},r),{callback:function(){e.remove(!0)}}))}}function aut(e,r,t){Z2(e,r,"zoomIn")}function out(e,r,t){Z2(e,r,"zoomOut")}function Na(e){return[dt.TOP,dt.BOTTOM].includes(e)?{offsetX:0,offsetY:e===dt.TOP?-8:8,style:{textAlign:"center",textBaseline:e===dt.TOP?"bottom":"top"}}:[dt.LEFT,dt.RIGHT].includes(e)?{offsetX:e===dt.LEFT?-8:8,offsetY:0,style:{textAlign:e===dt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function g1(e,r,t){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}var sut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return Et({},e.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,n){var i=.5,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*n,u=i/(1+1/Math.sin(o/2)),l=g1(a,i-u,s),f=Math.PI*5/4,c=Math.PI*1/4;return{start:g1(l,u,f),end:g1(l,u,c)}},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg,a=i.fields,o=i.type,s=C.exports.__read(a,1),u=s[0];if(!u)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,u),f=l.length,c=[];return l.forEach(function(h,v){var g=[{field:u,value:h,values:l}],d=Xn(t,n.getFacetDataFilter(g)),m={type:o,data:d,region:n.getRegion(f,v),columnValue:h,columnField:u,columnIndex:v,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(m)}),c},r.prototype.getXAxisOption=function(t,n,i,a){return i},r.prototype.getYAxisOption=function(t,n,i,a){return i},r.prototype.renderTitle=function(){var t=this;V(this.facets,function(n){var i=n.columnValue,a=n.view,o=j(t.cfg.title,"formatter"),s=Et({position:["50%","0%"],content:o?o(i):i},Na(dt.TOP),t.cfg.title);a.annotation().text(s)})},r}(al),uut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return Et({},e.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg.fields,a=this.cfg.cols,o=C.exports.__read(i,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,s),l=u.length;a=a||l;var f=this.getPageCount(l,a),c=[];return u.forEach(function(h,v){var g=n.getRowCol(v,a),d=g.row,m=g.col,x=[{field:s,value:h,values:u}],E=Xn(t,n.getFacetDataFilter(x)),_={type:n.cfg.type,data:E,region:n.getRegion(f,a,m,d),columnValue:h,rowValue:h,columnField:s,rowField:null,columnIndex:m,rowIndex:d,columnValuesLength:a,rowValuesLength:f,total:l};c.push(_)}),c},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?C.exports.__assign(C.exports.__assign({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?C.exports.__assign(C.exports.__assign({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;V(this.facets,function(n){var i=n.columnValue,a=n.view,o=j(t.cfg.title,"formatter"),s=Et({position:["50%","0%"],content:o?o(i):i},Na(dt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},r.prototype.getRowCol=function(t,n){var i=Math.floor(t/n),a=t%n;return{row:i,col:a}},r}(al),lut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return Et({},e.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:C.exports.__assign({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:C.exports.__assign({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){for(var n=this.cfg,i=n.fields,a=n.type,o=i.length,s=o,u=[],l=0;l<s;l++)for(var f=i[l],c=0;c<o;c++){var h=i[c],v={type:a,data:t,region:this.getRegion(o,s,l,c),columnValue:f,rowValue:h,columnField:f,rowField:h,columnIndex:l,rowIndex:c,columnValuesLength:s,rowValuesLength:o};u.push(v)}return u},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?C.exports.__assign(C.exports.__assign({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?C.exports.__assign(C.exports.__assign({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;V(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength;n.rowValuesLength;var u=n.columnValue,l=n.rowValue,f=n.view;if(o===0){var c=j(t.cfg.columnTitle,"formatter"),h=Et({position:["50%","0%"],content:c?c(u):u},Na(dt.TOP),t.cfg.columnTitle);f.annotation().text(h)}if(a===s-1){var c=j(t.cfg.rowTitle,"formatter"),h=Et({position:["100%","50%"],content:c?c(l):l},Na(dt.RIGHT),t.cfg.rowTitle);f.annotation().text(h)}})},r}(al),fut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return Et({},e.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!==0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.generateFacets=function(t){var n=this,i=C.exports.__read(this.cfg.fields,1),a=i[0],o=[],s=1,u=1,l=[""],f=[""],c,h;return this.cfg.transpose?(c=a,l=this.getFieldValues(t,c).slice(0,2),s=l.length):(h=a,f=this.getFieldValues(t,h).slice(0,2),u=f.length),l.forEach(function(v,g){f.forEach(function(d,m){var x=[{field:c,value:v,values:l},{field:h,value:d,values:f}],E=Xn(t,n.getFacetDataFilter(x)),_={type:n.cfg.type,data:E,region:n.getRegion(u,s,g,m),columnValue:v,rowValue:d,columnField:c,rowField:h,columnIndex:g,rowIndex:m,columnValuesLength:s,rowValuesLength:u};o.push(_)})}),o},r.prototype.getXAxisOption=function(t,n,i,a){return a.columnIndex===1||a.rowIndex===1?C.exports.__assign(C.exports.__assign({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return i},r.prototype.renderTitle=function(){var t=this;V(this.facets,function(n,i){var a=n.columnValue,o=n.rowValue,s=n.view,u=j(t.cfg.title,"formatter");if(t.cfg.transpose){var l=Et({position:["50%","0%"],content:u?u(a):a},Na(dt.TOP),t.cfg.title);s.annotation().text(l)}else{var l=Et({position:["100%","50%"],content:u?u(o):o},Na(dt.RIGHT),t.cfg.title);s.annotation().text(l)}})},r}(al),cut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.getDefaultCfg=function(){return Et({},e.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:C.exports.__assign({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:C.exports.__assign({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var n=this,i=C.exports.__read(this.cfg.fields,2),a=i[0],o=i[1],s=[],u=1,l=1,f=[""],c=[""];return a&&(f=this.getFieldValues(t,a),u=f.length),o&&(c=this.getFieldValues(t,o),l=c.length),f.forEach(function(h,v){c.forEach(function(g,d){var m=[{field:a,value:h,values:f},{field:o,value:g,values:c}],x=Xn(t,n.getFacetDataFilter(m)),E={type:n.cfg.type,data:x,region:n.getRegion(l,u,v,d),columnValue:h,rowValue:g,columnField:a,rowField:o,columnIndex:v,rowIndex:d,columnValuesLength:u,rowValuesLength:l};s.push(E)})}),s},r.prototype.renderTitle=function(){var t=this;V(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,u=n.columnValue,l=n.rowValue,f=n.view;if(o===0){var c=j(t.cfg.columnTitle,"formatter"),h=Et({position:["50%","0%"],content:c?c(u):u},Na(dt.TOP),t.cfg.columnTitle);f.annotation().text(h)}if(a===s-1){var c=j(t.cfg.rowTitle,"formatter"),h=Et({position:["100%","50%"],content:c?c(l):l},Na(dt.RIGHT),t.cfg.rowTitle);f.annotation().text(h)}})},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?C.exports.__assign(C.exports.__assign({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?C.exports.__assign(C.exports.__assign({},i),{title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?C.exports.__assign(C.exports.__assign({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?C.exports.__assign(C.exports.__assign({},i),{title:null}):i},r}(al),hut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.init=function(){e.prototype.init.call(this),this.view.on(De.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return Et({},e.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(t,1,i),this.setRegion(i),i},r.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(i){i.region=n.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},r.prototype.getRegion=function(t,n,i,a){var o=1/n,s=1/t,u={x:o*i,y:s*a},l={x:u.x+o,y:u.y+s*2/3};return{start:u,end:l}},r.prototype.forceColIndex=function(t){var n,i,a=this,o=[],s=0;t.forEach(function(g){a.isLeaf(g)&&(o.push(g),g.columnIndex=s,s++)}),o.forEach(function(g){g.columnValuesLength=o.length});for(var u=this.cfg.fields.length,l=u-1;l>=0;l--){var f=this.getFacetsByLevel(t,l);try{for(var c=(n=void 0,C.exports.__values(f)),h=c.next();!h.done;h=c.next()){var v=h.value;this.isLeaf(v)||(v.originColIndex=v.columnIndex,v.columnIndex=this.getRegionIndex(v.children),v.columnValuesLength=o.length)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},r.prototype.getFacetsByLevel=function(t,n){var i=[];return t.forEach(function(a){a.rowIndex===n&&i.push(a)}),i},r.prototype.getRegionIndex=function(t){var n=t[0],i=t[t.length-1];return(i.columnIndex-n.columnIndex)/2+n.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,n,i){var a=this,o=this.cfg.fields,s=o.length;if(!(s<n)){var u=[],l=o[n-1],f=this.getFieldValues(t,l);return f.forEach(function(c,h){var v=[{field:l,value:c,values:f}],g=t.filter(a.getFacetDataFilter(v));if(g.length){var d={type:a.cfg.type,data:g,region:null,columnValue:c,rowValue:"",columnField:l,rowField:"",columnIndex:h,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:n,children:a.getChildFacets(g,n+1,i)};u.push(d),i.push(d)}}),u}},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;V(this.facets,function(n){var i=n.columnValue,a=n.view,o=j(t.cfg.title,"formatter"),s=Et({position:["50%","0%"],content:o?o(i):i},Na(dt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var n=this;t.forEach(function(i){if(!n.isLeaf(i)){var a=i.children;n.addFacetLines(i,a)}})},r.prototype.addFacetLines=function(t,n){var i=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(u){var l=u.view.coordinateBBox,f={x:l.bl.x+(l.tr.x-l.bl.x)/2,y:l.tr.y},c={x:s.x,y:s.y+(f.y-s.y)/2},h={x:f.x,y:c.y};i.drawLine([s,c,h,f])})},r.prototype.getPath=function(t){var n=[],i=this.cfg.line.smooth;return i?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},r.prototype.drawLine=function(t){var n=this.getPath(t),i=this.cfg.line.style;this.container.addShape("path",{attrs:Te({path:n},i)})},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?C.exports.__assign(C.exports.__assign({},i),{title:null,label:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.originColIndex!==0&&a.columnIndex!==0?C.exports.__assign(C.exports.__assign({},i),{title:null,label:null}):i},r}(al);function _P(e){var r=C.exports.__spreadArray([],C.exports.__read(e),!1);r.sort(function(n,i){return n-i});var t=r.length;return t===0?0:t%2===1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}function vut(e){var r=tg(e,function(t,n){return t+=isNaN(n)||!Zt(n)?0:n},0);return e.length===0?0:r/e.length}function fv(e,r){if(!r)return null;var t;switch(e){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=r.isCategory?_P(r.values.map(function(n,i){return i})):_P(r.values);break}case"mean":{t=r.isCategory?(r.values.length-1)/2:vut(r.values);break}case"min":t=r.isCategory?0:r[e];break;case"max":t=r.isCategory?r.values.length-1:r[e];break;default:t=e;break}return r.scale(t)}var cv=["regionFilter","shape"],put=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Ve.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Ve.BG).addGroup(),n.option=[],n}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var i=new Map;V(t.option,function(a){if(Vi(cv,a.type)){var o=t.updateOrCreate(a);o&&i.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(i)});var n=new Map;V(this.option,function(i){if(!Vi(cv,i.type)){var a=t.updateOrCreate(i);a&&n.set(t.getCacheKey(i),a)}}),this.cache=this.syncCache(n)},r.prototype.clear=function(t){t===void 0&&(t=!1),e.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach(function(n){n.animateOption&&n.once(Eo.AFTER_DRAW_ANIMATE,function(){t()})}):this.view.getRootView().once(De.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var n=t.type,i=lrt[Fo(n)];if(i){var a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,a);if(!o)return null;var s=new i(o);return{component:s,layer:this.isTop(o)?Ve.FORE:Ve.BG,direction:dt.NONE,type:cr.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation(C.exports.__assign({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation(C.exports.__assign({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation(C.exports.__assign({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation(C.exports.__assign({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation(C.exports.__assign({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation(C.exports.__assign({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation(C.exports.__assign({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation(C.exports.__assign({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation(C.exports.__assign({type:"shape"},t))},r.prototype.html=function(t){this.annotation(C.exports.__assign({type:"html"},t))},r.prototype.parsePosition=function(t){var n,i,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Lt(t)?t.call(null,a,o):t,u=0,l=0;if(vt(s)){var f=C.exports.__read(s,2),c=f[0],h=f[1];if(Nt(c)&&c.indexOf("%")!==-1&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(s);u=fv(c,a),l=fv(h,Object.values(o)[0])}else if(!st(s))try{for(var v=C.exports.__values(ju(s)),g=v.next();!g.done;g=v.next()){var d=g.value,m=s[d];d===a.field&&(u=fv(m,a)),o[d]&&(l=fv(m,o[d]))}}catch(x){n={error:x}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return isNaN(u)||isNaN(l)?null:this.view.getCoordinate().convert({x:u,y:l})},r.prototype.getRegionPoints=function(t,n){var i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],u=a.field,l=this.view.getData(),f=vt(t)?t[0]:t[u],c=vt(n)?n[0]:n[u],h=[],v;return V(l,function(g,d){if(g[u]===f&&(v=d),d>=v){var m=i.parsePosition([g[u],g[s.field]]);m&&h.push(m)}if(g[u]===c)return!1}),h},r.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,i=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,u={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},l=a.getWidth()*n+u.x,f=a.getHeight()*i+u.y;return{x:l,y:f}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,i=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,n,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),u={};if(st(n))return null;var l=n.start,f=n.end,c=n.position,h=this.parsePosition(l),v=this.parsePosition(f),g=this.parsePosition(c);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!v))return null;if(["text","dataMarker","html"].includes(t)&&!g)return null;if(t==="arc"){var d=n;d.start,d.end;var m=C.exports.__rest(d,["start","end"]),x=Hu(o,h),E=Hu(o,v);x>E&&(E=Math.PI*2+E),u=C.exports.__assign(C.exports.__assign({},m),{center:o.getCenter(),radius:nd(o,h),startAngle:x,endAngle:E})}else if(t==="image"){var _=n;_.start,_.end;var m=C.exports.__rest(_,["start","end"]);u=C.exports.__assign(C.exports.__assign({},m),{start:h,end:v,src:n.src})}else if(t==="line"){var M=n;M.start,M.end;var m=C.exports.__rest(M,["start","end"]);u=C.exports.__assign(C.exports.__assign({},m),{start:h,end:v,text:j(n,"text",null)})}else if(t==="region"){var A=n;A.start,A.end;var m=C.exports.__rest(A,["start","end"]);u=C.exports.__assign(C.exports.__assign({},m),{start:h,end:v})}else if(t==="text"){var b=this.view.getData(),I=n;I.position;var L=I.content,m=C.exports.__rest(I,["position","content"]),F=L;Lt(L)&&(F=L(b)),u=C.exports.__assign(C.exports.__assign(C.exports.__assign({},g),m),{content:F})}else if(t==="dataMarker"){var $=n;$.position;var Y=$.point,k=$.line,z=$.text,S=$.autoAdjust,T=$.direction,m=C.exports.__rest($,["position","point","line","text","autoAdjust","direction"]);u=C.exports.__assign(C.exports.__assign(C.exports.__assign({},m),g),{coordinateBBox:this.getCoordinateBBox(),point:Y,line:k,text:z,autoAdjust:S,direction:T})}else if(t==="dataRegion"){var O=n,D=O.start,H=O.end,it=O.region,z=O.text,pt=O.lineLength,m=C.exports.__rest(O,["start","end","region","text","lineLength"]);u=C.exports.__assign(C.exports.__assign({},m),{points:this.getRegionPoints(D,H),region:it,text:z,lineLength:pt})}else if(t==="regionFilter"){var yt=n;yt.start,yt.end;var mt=yt.apply,Dt=yt.color,m=C.exports.__rest(yt,["start","end","apply","color"]),oe=this.view.geometries,Ot=[],Oe=function(R){!R||(R.isGroup()?R.getChildren().forEach(function(G){return Oe(G)}):Ot.push(R))};V(oe,function(R){mt?Vi(mt,R.type)&&V(R.elements,function(G){Oe(G.shape)}):V(R.elements,function(G){Oe(G.shape)})}),u=C.exports.__assign(C.exports.__assign({},m),{color:Dt,shapes:Ot,start:h,end:v})}else if(t==="shape"){var Er=n,Mr=Er.render,yr=C.exports.__rest(Er,["render"]),fa=function(Pn){if(Lt(n.render))return Mr(Pn,a.view,{parsePosition:a.parsePosition.bind(a)})};u=C.exports.__assign(C.exports.__assign({},yr),{render:fa})}else if(t==="html"){var mr=n,en=mr.html;mr.position;var yr=C.exports.__rest(mr,["html","position"]),ca=function(R){return Lt(en)?en(R,a.view):en};u=C.exports.__assign(C.exports.__assign(C.exports.__assign({},yr),g),{parent:s.get("el").parentNode,html:ca})}var Ne=Et({},i,C.exports.__assign(C.exports.__assign({},u),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(Ne.container=this.getComponentContainer(Ne)),Ne.animate=this.view.getOptions().animate&&Ne.animate&&j(n,"animate",Ne.animate),Ne.animateOption=Et({},Uu,Ne.animateOption,n.animateOption),Ne},r.prototype.isTop=function(t){return j(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return j(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var i=t.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);o&&cn(o,["container"]),n.component.update(C.exports.__assign(C.exports.__assign({},o||{}),{visible:!!o})),Vi(cv,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),Vi(cv,t.type)&&n.component.render());return n},r.prototype.syncCache=function(t){var n=this,i=new Map(this.cache);return t.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){Ji(n.option,function(s){return o===n.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},r.prototype.getCacheKey=function(t){return t},r}(ul);function EP(e,r){var t=Et({},j(e,["components","axis","common"]),j(e,["components","axis",r]));return j(t,["grid"],{})}function hv(e,r,t,n){var i=[],a=r.getTicks();return e.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,u){var l=s.value;if(n)i.push({points:[e.convert(t==="y"?{x:0,y:l}:{x:l,y:0}),e.convert(t==="y"?{x:1,y:l}:{x:l,y:1})]});else if(u){var f=o.value,c=(f+l)/2;i.push({points:[e.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),e.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),i}function d1(e,r,t,n,i){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(u,l){var f=u?u.value:l.value,c=l.value,h=(f+c)/2;return i==="x"?o.push({points:[e.convert({x:n?c:h,y:0}),e.convert({x:n?c:h,y:1})]}):o.push({points:Nr(Array(a+1),function(v,g){return e.convert({x:g/a,y:n?c:h})})}),l},s[0]),o}function MP(e,r){var t=j(r,"grid");if(t===null)return!1;var n=j(e,"grid");return!(t===void 0&&n===null)}var oo=["container"],CP=C.exports.__assign(C.exports.__assign({},Uu),{appear:null}),gut=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Ve.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Ve.FORE).addGroup(),n.axisContainer=n.view.getLayer(Ve.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Ve.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,n=this.view.getCoordinate();V(this.getComponents(),function(i){var a=i.component,o=i.direction,s=i.type,u=i.extra,l=u.dim,f=u.scale,c=u.alignTick,h;if(s===cr.AXIS)n.isPolar?l==="x"?h=n.isTransposed?Qh(n,o):s1(n):l==="y"&&(h=n.isTransposed?s1(n):Qh(n,o)):h=Qh(n,o);else if(s===cr.GRID)if(n.isPolar){var v=void 0;n.isTransposed?v=l==="x"?d1(n,t.view.getYScales()[0],f,c,l):hv(n,f,l,c):v=l==="x"?hv(n,f,l,c):d1(n,t.view.getXScale(),f,c,l),h={items:v,center:t.view.getCoordinate().getCenter()}}else h={items:hv(n,f,l,c)};a.update(h)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(i,a){t.has(a)?n.set(a,i):i.component.destroy()}),this.cache=n},r.prototype.clear=function(){e.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var i=Xp(this.option,n.field);if(i!==!1){var a=BA(i,dt.BOTTOM),o=Ve.BG,s="x",u=this.view.getCoordinate(),l=this.getId("axis",n.field),f=this.getId("grid",n.field);if(u.isRect){var c=this.cache.get(l);if(c){var h=this.getLineAxisCfg(n,i,a);cn(h,oo),c.component.update(h),t.set(l,c)}else c=this.createLineAxis(n,i,o,a,s),this.cache.set(l,c),t.set(l,c);var v=this.cache.get(f);if(v){var h=this.getLineGridCfg(n,i,a,s);cn(h,oo),v.component.update(h),t.set(f,v)}else v=this.createLineGrid(n,i,o,a,s),v&&(this.cache.set(f,v),t.set(f,v))}else if(u.isPolar){var c=this.cache.get(l);if(c){var h=u.isTransposed?this.getLineAxisCfg(n,i,dt.RADIUS):this.getCircleAxisCfg(n,i,a);cn(h,oo),c.component.update(h),t.set(l,c)}else{if(u.isTransposed){if(fs(i))return;c=this.createLineAxis(n,i,o,dt.RADIUS,s)}else c=this.createCircleAxis(n,i,o,a,s);this.cache.set(l,c),t.set(l,c)}var v=this.cache.get(f);if(v){var h=u.isTransposed?this.getCircleGridCfg(n,i,dt.RADIUS,s):this.getLineGridCfg(n,i,dt.CIRCLE,s);cn(h,oo),v.component.update(h),t.set(f,v)}else{if(u.isTransposed){if(fs(i))return;v=this.createCircleGrid(n,i,o,dt.RADIUS,s)}else v=this.createLineGrid(n,i,o,dt.CIRCLE,s);v&&(this.cache.set(f,v),t.set(f,v))}}}}},r.prototype.updateYAxes=function(t){var n=this,i=this.view.getYScales();V(i,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,u=Xp(n.option,s);if(u!==!1){var l=Ve.BG,f="y",c=n.getId("axis",s),h=n.getId("grid",s),v=n.view.getCoordinate();if(v.isRect){var g=BA(u,o===0?dt.LEFT:dt.RIGHT),d=n.cache.get(c);if(d){var m=n.getLineAxisCfg(a,u,g);cn(m,oo),d.component.update(m),t.set(c,d)}else d=n.createLineAxis(a,u,l,g,f),n.cache.set(c,d),t.set(c,d);var x=n.cache.get(h);if(x){var m=n.getLineGridCfg(a,u,g,f);cn(m,oo),x.component.update(m),t.set(h,x)}else x=n.createLineGrid(a,u,l,g,f),x&&(n.cache.set(h,x),t.set(h,x))}else if(v.isPolar){var d=n.cache.get(c);if(d){var m=v.isTransposed?n.getCircleAxisCfg(a,u,dt.CIRCLE):n.getLineAxisCfg(a,u,dt.RADIUS);cn(m,oo),d.component.update(m),t.set(c,d)}else{if(v.isTransposed){if(fs(u))return;d=n.createCircleAxis(a,u,l,dt.CIRCLE,f)}else d=n.createLineAxis(a,u,l,dt.RADIUS,f);n.cache.set(c,d),t.set(c,d)}var x=n.cache.get(h);if(x){var m=v.isTransposed?n.getLineGridCfg(a,u,dt.CIRCLE,f):n.getCircleGridCfg(a,u,dt.RADIUS,f);cn(m,oo),x.component.update(m),t.set(h,x)}else{if(v.isTransposed){if(fs(u))return;x=n.createLineGrid(a,u,l,dt.CIRCLE,f)}else x=n.createCircleGrid(a,u,l,dt.RADIUS,f);x&&(n.cache.set(h,x),t.set(h,x))}}}}})},r.prototype.createLineAxis=function(t,n,i,a,o){var s={component:new ont(this.getLineAxisCfg(t,n,a)),layer:i,direction:a===dt.RADIUS?dt.NONE:a,type:cr.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,n,i,a,o){var s=this.getLineGridCfg(t,n,a,o);if(s){var u={component:new unt(s),layer:i,direction:dt.NONE,type:cr.GRID,extra:{dim:o,scale:t,alignTick:j(s,"alignTick",!0)}};return u.component.init(),u}},r.prototype.createCircleAxis=function(t,n,i,a,o){var s={component:new snt(this.getCircleAxisCfg(t,n,a)),layer:i,direction:a,type:cr.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,n,i,a,o){var s=this.getCircleGridCfg(t,n,a,o);if(s){var u={component:new lnt(s),layer:i,direction:dt.NONE,type:cr.GRID,extra:{dim:o,scale:t,alignTick:j(s,"alignTick",!0)}};return u.component.init(),u}},r.prototype.getLineAxisCfg=function(t,n,i){var a=j(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=Qh(o,i),u=RA(t,n),l=Jh(this.view.getTheme(),i),f=j(n,["title"])?Et({title:{style:{text:u}}},{title:DA(this.view.getTheme(),i,n.title)},n):n,c=Et(C.exports.__assign(C.exports.__assign({container:a},s),{ticks:t.getTicks().map(function(_){return{id:"".concat(_.tickValue),name:_.text,value:_.value}}),verticalFactor:o.isPolar?IA(s,o.getCenter())*-1:IA(s,o.getCenter()),theme:l}),l,f),h=this.getAnimateCfg(c),v=h.animate,g=h.animateOption;c.animateOption=g,c.animate=v;var d=F3(s),m=j(c,"verticalLimitLength",d?1/3:1/2);if(m<=1){var x=this.view.getCanvas().get("width"),E=this.view.getCanvas().get("height");c.verticalLimitLength=m*(d?x:E)}return c},r.prototype.getLineGridCfg=function(t,n,i,a){if(!!MP(Jh(this.view.getTheme(),i),n)){var o=EP(this.view.getTheme(),i),s=Et({container:j(n,["top"])?this.gridForeContainer:this.gridContainer},o,j(n,"grid"),this.getAnimateCfg(n));return s.items=hv(this.view.getCoordinate(),t,a,j(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,n,i){var a=j(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(d){return{id:"".concat(d.tickValue),name:d.text,value:d.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var u=RA(t,n),l=Jh(this.view.getTheme(),dt.CIRCLE),f=j(n,["title"])?Et({title:{style:{text:u}}},{title:DA(this.view.getTheme(),i,n.title)},n):n,c=Et(C.exports.__assign(C.exports.__assign({container:a},s1(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:l}),l,f),h=this.getAnimateCfg(c),v=h.animate,g=h.animateOption;return c.animate=v,c.animateOption=g,c},r.prototype.getCircleGridCfg=function(t,n,i,a){if(!!MP(Jh(this.view.getTheme(),i),n)){var o=EP(this.view.getTheme(),dt.RADIUS),s=Et({container:j(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,j(n,"grid"),this.getAnimateCfg(n)),u=j(s,"alignTick",!0),l=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=d1(this.view.getCoordinate(),l,t,u,a),s}},r.prototype.getId=function(t,n){var i=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(i.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&j(t,"animate"),animateOption:t&&t.animateOption?Et({},CP,t.animateOption):CP}},r}(ul);function wo(e,r,t){return t===dt.TOP?[e.minX+e.width/2-r.width/2,e.minY]:t===dt.BOTTOM?[e.minX+e.width/2-r.width/2,e.maxY-r.height]:t===dt.LEFT?[e.minX,e.minY+e.height/2-r.height/2]:t===dt.RIGHT?[e.maxX-r.width,e.minY+e.height/2-r.height/2]:t===dt.TOP_LEFT||t===dt.LEFT_TOP?[e.tl.x,e.tl.y]:t===dt.TOP_RIGHT||t===dt.RIGHT_TOP?[e.tr.x-r.width,e.tr.y]:t===dt.BOTTOM_LEFT||t===dt.LEFT_BOTTOM?[e.bl.x,e.bl.y-r.height]:t===dt.BOTTOM_RIGHT||t===dt.RIGHT_BOTTOM?[e.br.x-r.width,e.br.y-r.height]:[0,0]}function SP(e,r){return bu(e)?e===!1?!1:{}:j(e,[r],e)}function vv(e){return j(e,"position",dt.BOTTOM)}var dut=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.container=n.view.getLayer(Ve.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,V(this.components,function(n){var i=n.component,a=n.direction,o=l1(a),s=i.get("maxWidthRatio"),u=i.get("maxHeightRatio"),l=t.getCategoryLegendSizeCfg(o,s,u),f=i.get("maxWidth"),c=i.get("maxHeight");i.update({maxWidth:Math.min(l.maxWidth,f||0),maxHeight:Math.min(l.maxHeight,c||0)});var h=i.get("padding"),v=i.getLayoutBBox(),g=new Qr(v.x,v.y,v.width,v.height).expand(h),d=C.exports.__read(wo(t.view.viewBBox,g,a),2),m=d[0],x=d[1],E=C.exports.__read(wo(t.layoutBBox,g,a),2),_=E[0],M=E[1],A=0,b=0;a.startsWith("top")||a.startsWith("bottom")?(A=m,b=M):(A=_,b=x),i.setLocation({x:A+h[3],y:b+h[0]}),t.layoutBBox=t.layoutBBox.cut(g,a)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},i=function(h,v,g){var d=t.getId(g.field),m=t.getComponentById(d);if(m){var x=void 0,E=SP(t.option,g.field);E!==!1&&(j(E,"custom")?x=t.getCategoryCfg(h,v,g,E,!0):g.isLinear?x=t.getContinuousCfg(h,v,g,E):g.isCategory&&(x=t.getCategoryCfg(h,v,g,E))),x&&(cn(x,["container"]),m.direction=vv(E),m.component.update(x),n[d]=!0)}else{var _=t.createFieldLegend(h,v,g);_&&(_.component.init(),t.components.push(_),n[d]=!0)}};if(j(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);cn(s,["container"]),o.component.update(s),n[a]=!0}else{var u=this.createCustomLegend(void 0,void 0,void 0,this.option);if(u){u.init();var l=Ve.FORE,f=vv(this.option);this.components.push({id:a,component:u,layer:l,direction:f,type:cr.LEGEND,extra:void 0}),n[a]=!0}}}else this.loopLegends(i);var c=[];V(this.getComponents(),function(h){n[h.id]?c.push(h):h.component.destroy()}),this.components=c},r.prototype.clear=function(){e.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var n=this,i=t.geometries;return V(t.views,function(a){i=i.concat(n.getGeometries(a))}),i},r.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(!!n){var i=this.getGeometries(this.view),a={};V(i,function(o){var s=o.getGroupAttributes();V(s,function(u){var l=u.getScale(u.type);!l||l.type==="identity"||a[l.field]||(t(o,u,l),a[l.field]=!0)})})}},r.prototype.createFieldLegend=function(t,n,i){var a,o=SP(this.option,i.field),s=Ve.FORE,u=vv(o);if(o!==!1&&(j(o,"custom")?a=this.createCustomLegend(t,n,i,o):i.isLinear?a=this.createContinuousLegend(t,n,i,o):i.isCategory&&(a=this.createCategoryLegend(t,n,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:u,type:cr.LEGEND,extra:{scale:i}}},r.prototype.createCustomLegend=function(t,n,i,a){var o=this.getCategoryCfg(t,n,i,a,!0);return new bA(o)},r.prototype.createContinuousLegend=function(t,n,i,a){var o=this.getContinuousCfg(t,n,i,cn(a,["value"]));return new fnt(o)},r.prototype.createCategoryLegend=function(t,n,i,a){var o=this.getCategoryCfg(t,n,i,a);return new bA(o)},r.prototype.getContinuousCfg=function(t,n,i,a){var o=i.getTicks(),s=Ji(o,function(d){return d.value===0}),u=Ji(o,function(d){return d.value===1}),l=o.map(function(d){var m=d.value,x=d.tickValue,E=n.mapping(i.invert(m)).join("");return{value:x,attrValue:E,color:E,scaleValue:m}});s||l.push({value:i.min,attrValue:n.mapping(i.invert(0)).join(""),color:n.mapping(i.invert(0)).join(""),scaleValue:0}),u||l.push({value:i.max,attrValue:n.mapping(i.invert(1)).join(""),color:n.mapping(i.invert(1)).join(""),scaleValue:1}),l.sort(function(d,m){return d.value-m.value});var f={min:xn(l).value,max:vr(l).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(f.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(f.colors=l.map(function(d){return d.attrValue}));var c=this.container,h=vv(a),v=l1(h),g=j(a,"title");return g&&(g=Et({text:Qf(i)},g)),f.container=c,f.layout=v,f.title=g,f.animateOption=Uu,this.mergeLegendCfg(f,a,"continuous")},r.prototype.getCategoryCfg=function(t,n,i,a,o){var s=this.container,u=j(a,"position",dt.BOTTOM),l=KA(this.view.getTheme(),u),f=j(l,["marker"]),c=j(a,"marker"),h=l1(u),v=j(l,["pageNavigator"]),g=j(a,"pageNavigator"),d=o?Dit(f,c,a.items):Iit(this.view,t,n,f,c),m=j(a,"title");m&&(m=Et({text:i?Qf(i):""},m));var x=j(a,"maxWidthRatio"),E=j(a,"maxHeightRatio"),_=this.getCategoryLegendSizeCfg(h,x,E);_.container=s,_.layout=h,_.items=d,_.title=m,_.animateOption=Uu,_.pageNavigator=Et({},v,g);var M=this.mergeLegendCfg(_,a,u);M.reversed&&M.items.reverse();var A=j(M,"maxItemWidth");return A&&A<=1&&(M.maxItemWidth=this.view.viewBBox.width*A),M},r.prototype.mergeLegendCfg=function(t,n,i){var a=i.split("-")[0],o=KA(this.view.getTheme(),a);return Et({},o,t,n)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return Ji(this.components,function(n){return n.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,n,i){n===void 0&&(n=sT),i===void 0&&(i=sT);var a=this.view.viewBBox,o=a.width,s=a.height;return t==="vertical"?{maxWidth:o*n,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},r}(ul),yut=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=Ta,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=C.exports.__read(i,2),o=a[0],s=a[1];n.start=o,n.end=s,n.changeViewData(o,s)},n.container=n.view.getLayer(Ve.FORE).addGroup(),n.onChangeFn=ag(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(De.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(De.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(De.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(De.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,i=t.end;st(this.start)&&(this.start=n,this.end=i);var a=this.view.getOptions().data;this.option&&!Di(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=C.exports.__read(i,4),o=a[0];a[1],a[2];var s=a[3],u=this.slider.component.getLayoutBBox(),l=new Qr(u.x,u.y,Math.min(u.width,n),u.height).expand(i),f=this.getMinMaxText(this.start,this.end),c=f.minText,h=f.maxText,v=C.exports.__read(wo(this.view.viewBBox,l,dt.BOTTOM),2);v[0];var g=v[1],d=C.exports.__read(wo(this.view.coordinateBBox,l,dt.BOTTOM),2),m=d[0];d[1],this.slider.component.update(C.exports.__assign(C.exports.__assign({},this.getSliderCfg()),{x:m+s,y:g+o,width:this.width,start:this.start,end:this.end,minText:c,maxText:h})),this.view.viewBBox=this.view.viewBBox.cut(l,dt.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new nnt(C.exports.__assign({container:this.container},t));return n.init(),{component:n,layer:Ve.FORE,direction:dt.BOTTOM,type:cr.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),i=n.minText,a=n.maxText;t=C.exports.__assign(C.exports.__assign({},t),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(be(this.option)){var n=C.exports.__assign({data:this.getData()},j(this.option,"trendCfg",{}));t=Et({},t,this.getThemeOptions(),this.option),t=C.exports.__assign(C.exports.__assign({},t),{trendCfg:n})}return t.start=Ge(Math.min(st(t.start)?0:t.start,st(t.end)?1:t.end),0,1),t.end=Ge(Math.max(st(t.start)?0:t.start,st(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,n=C.exports.__read(this.view.getYScales(),1),i=n[0],a=this.view.getGroupScales();if(a.length){var o=a[0],s=o.field,u=o.ticks;return t.reduce(function(l,f){return f[s]===u[0]&&l.push(f[i.field]),l},[])}return t.map(function(l){return l[i.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return j(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=na(i,a.field);a.isLinear&&(o=o.sort());var s=o,u=Zr(i);if(!a||!u)return{};var l=Zr(s),f=Math.round(t*(l-1)),c=Math.round(n*(l-1)),h=j(s,[f]),v=j(s,[c]),g=this.getSliderCfg().formatter;return g&&(h=g(h,i[f],f),v=g(v,i[c],c)),{minText:h,maxText:v}},r.prototype.changeViewData=function(t,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=Zr(i);if(!(!a||!o)){var s=na(i,a.field),u=this.view.getXScale().isLinear?s.sort(function(v,g){return Number(v)-Number(g)}):s,l=u,f=Zr(l),c=Math.round(t*(f-1)),h=Math.round(n*(f-1));this.view.filter(a.field,function(v,g){var d=l.indexOf(v);return d>-1?yu(d,c,h):!0}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(ul),pv=0,TP=8,mut=32,xut=20,wut=function(e){C.exports.__extends(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=Ta,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=i.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=Ge(a,0,1);var s=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(s)},n.container=n.view.getLayer(Ve.FORE).addGroup(),n.onChangeFn=ag(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(De.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(De.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(De.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(De.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Qr(a.x,a.y,Math.min(a.width,n),a.height).expand(i),s=this.getScrollbarComponentCfg(),u=void 0,l=void 0;if(s.isHorizontal){var f=C.exports.__read(wo(this.view.viewBBox,o,dt.BOTTOM),2);f[0];var c=f[1],h=C.exports.__read(wo(this.view.coordinateBBox,o,dt.BOTTOM),2),v=h[0];h[1],u=v,l=c}else{var g=C.exports.__read(wo(this.view.viewBBox,o,dt.RIGHT),2);g[0];var c=g[1],d=C.exports.__read(wo(this.view.viewBBox,o,dt.RIGHT),2),v=d[0];d[1],u=v,l=c}u+=i[3],l+=i[0],this.trackLen?this.scrollbar.component.update(C.exports.__assign(C.exports.__assign({},s),{x:u,y:l,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(C.exports.__assign(C.exports.__assign({},s),{x:u,y:l})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?dt.BOTTOM:dt.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return j(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var n=j(this.view.getTheme(),["components","scrollbar"]),i=t||{},a=i.thumbHighlightColor,o=C.exports.__rest(i,["thumbHighlightColor"]);return{default:Et({},j(n,["default","style"],{}),o),hover:Et({},j(n,["hover","style"],{}),{thumbColor:a})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),a=i.trackLen,o=i.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Ge(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},r.prototype.changeViewData=function(t,n){var i=this,a=C.exports.__read(t,2),o=a[0],s=a[1],u=this.getValidScrollbarCfg().type,l=u!=="vertical",f=na(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?f.sort(function(v,g){return Number(v)-Number(g)}):f,h=l?c:c.reverse();this.yScalesCfg.forEach(function(v){i.view.scale(v.field,{formatter:v.formatter,type:v.type,min:v.min,max:v.max,tickMethod:v.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(v){var g=h.indexOf(v);return g>-1?yu(g,o,s):!0}),this.view.render(!0)},r.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",i=new ant(C.exports.__assign(C.exports.__assign({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:Ve.FORE,direction:n?dt.BOTTOM:dt.RIGHT,type:cr.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?C.exports.__assign(C.exports.__assign({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):C.exports.__assign({},t);return this.scrollbar.component.update(n),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),i=n.type,a=n.categorySize,o=i!=="vertical";return Math.floor((o?t.width:t.height)/a)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),i=na(n,t.field);return Zr(i)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,i=t.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,u=a.width,l=a.height,f=a.style,c=o!=="vertical",h=C.exports.__read(s,4),v=h[0],g=h[1],d=h[2],m=h[3],x=c?{x:n.minX+m,y:i.maxY-l-d}:{x:i.maxX-u-g,y:n.minY+v},E=this.getStep(),_=this.getCnt(),M=c?n.width-m-g:n.height-v-d,A=Math.max(M*Ge(E/_,0,1),xut);return C.exports.__assign(C.exports.__assign({},this.getThemeOptions()),{x:x.x,y:x.y,size:c?l:u,isHorizontal:c,trackLen:M,thumbLen:A,thumbOffset:0,theme:this.getScrollbarTheme(f)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:mut,width:TP,height:TP,padding:[0,0,0,0],animate:!0,style:{}};return be(this.option)&&(t=C.exports.__assign(C.exports.__assign({},t),this.option)),(!be(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[pv,0,pv,0]:[0,pv,0,pv]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(i=C.exports.__spreadArray([],C.exports.__read(i),!1).reverse()),i},r}(ul),_ut={fill:"#CCD6EC",opacity:.3};function Eut(e,r,t){var n,i,a,o,s,u,l=ait(e,r,t);if(l.length){l=En(l);try{for(var f=C.exports.__values(l),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var v=(a=void 0,C.exports.__values(h)),g=v.next();!g.done;g=v.next()){var d=g.value,m=d.mappingData,x=m.x,E=m.y;d.x=vt(x)?x[x.length-1]:x,d.y=vt(E)?E[E.length-1]:E}}catch($){a={error:$}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}}catch($){n={error:$}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var _=t.shared;if(_===!1&&l.length>1){var M=l[0],A=Math.abs(r.y-M[0].y);try{for(var b=C.exports.__values(l),I=b.next();!I.done;I=b.next()){var L=I.value,F=Math.abs(r.y-L[0].y);F<=A&&(M=L,A=F)}}catch($){s={error:$}}finally{try{I&&!I.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}l=[M]}return eg(En(l))}return[]}var Mut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(t){var n=this.context.view,i=this.context.event,a=n.getController("tooltip").getTooltipCfg(),o=Eut(n,{x:i.x,y:i.y},a);if(!er(o,this.items)&&(this.items=o,o.length)){var s=n.getXScale().field,u=o[0].data[s],l=[],f=n.geometries;if(V(f,function(H){if(H.type==="interval"||H.type==="schema"){var it=H.getElementsBy(function(pt){var yt=pt.getData();return yt[s]===u});l=l.concat(it)}}),l.length){var c=n.getCoordinate(),h=l[0].shape.getCanvasBBox(),v=l[0].shape.getCanvasBBox(),g=h;V(l,function(H){var it=H.shape.getCanvasBBox();c.isTransposed?(it.minY<h.minY&&(h=it),it.maxY>v.maxY&&(v=it)):(it.minX<h.minX&&(h=it),it.maxX>v.maxX&&(v=it)),g.x=Math.min(it.minX,g.minX),g.y=Math.min(it.minY,g.minY),g.width=Math.max(it.maxX,g.maxX)-g.x,g.height=Math.max(it.maxY,g.maxY)-g.y});var d=n.backgroundGroup,m=n.coordinateBBox,x=void 0;if(c.isRect){var E=n.getXScale(),_=t||{},M=_.appendRatio,A=_.appendWidth;st(A)&&(M=st(M)?E.isLinear?0:.25:M,A=c.isTransposed?M*v.height:M*h.width);var b=void 0,I=void 0,L=void 0,F=void 0;c.isTransposed?(b=m.minX,I=Math.min(v.minY,h.minY)-A,L=m.width,F=g.height+A*2):(b=Math.min(h.minX,v.minX)-A,I=m.minY,L=g.width+A*2,F=m.height),x=[["M",b,I],["L",b+L,I],["L",b+L,I+F],["L",b,I+F],["Z"]]}else{var $=xn(l),Y=vr(l),k=Hp($.getModel(),c).startAngle,z=Hp(Y.getModel(),c).endAngle,S=c.getCenter(),T=c.getRadius(),O=c.innerRadius*T;x=ws(S.x,S.y,T,k,z,O)}if(this.regionPath)this.regionPath.attr("path",x),this.regionPath.show();else{var D=j(t,"style",_ut);this.regionPath=d.addShape({type:"path",name:"active-region",capture:!1,attrs:C.exports.__assign(C.exports.__assign({},D),{path:x})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),e.prototype.destroy.call(this)},r}(dr),VD=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,n=t.event,i=t.view,a=i.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,u=j(t.view.getOptions(),"tooltip.showDelay",16);if(s-o>u){var l=this.location,f={x:n.x,y:n.y};(!l||!er(l,f))&&this.showTooltip(i,f),this.timeStamp=s,this.location=f}}},r.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),i=this.context.event,a=i.clientX,o=i.clientY;n.isCursorEntered({x:a,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,n){t.showTooltip(n)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(dr),Cut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,n){var i=ea(t);V(i,function(a){var o=Um(t,a,n);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var n=ea(t);V(n,function(i){i.hideTooltip()})},r}(VD),Sut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,n=t.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:n.x,y:n.y};(!o||!er(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update(C.exports.__assign({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=n.getTheme(),s=j(o,["components","tooltip","domStyles"],{}),u=new rd({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:C.exports.__assign({},Et({},s,(t={},t[ka]={"max-width":"50%"},t[$a]={"word-break":"break-all"},t)))});u.init(),u.setCapture(!1),this.tooltip=u},r}(dr),Q2=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var n=this,i=X3(t,this.stateName);V(i,function(a){n.setElementState(a,!1)})},r}(dr);function AP(e){return j(e.get("delegateObject"),"item")}var J2=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,n){var i=this.ignoreListItemStates,a=i.filter(function(o){return n.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,n,i){var a=this.context.view,o=t.get("field"),s=_r(a);this.setElementsStateByItem(s,o,n,i)},r.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},r.prototype.isMathItem=function(t,n,i){var a=this.context.view,o=Vu(a,n),s=Ri(t,n);return!st(s)&&i.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,n,i,a){var o=this;V(t,function(s){o.isMathItem(s,n,i)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var n=Do(this.context);if(n)W3(this.context)&&this.setStateByElement(n,t);else{var i=Xu(this.context);if(Jf(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&AP(s.fromShape)===AP(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Do(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Q2),Tut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(J2),Aut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,n){var i=n.geometry.getAttribute("color");if(!i)return null;var a=t.getScaleByField(i.getFields()[0]);return a},r.prototype.getLinkPath=function(t,n){var i=this.context.view,a=i.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=n.shape.getCanvasBBox(),u=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return u},r.prototype.addLinkShape=function(t,n,i,a){var o={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:C.exports.__assign(C.exports.__assign({},Et({},o,Lt(a)?a(o,n):a)),{path:this.getLinkPath(n,i)})})},r.prototype.linkByElement=function(t,n){var i=this,a=this.context.view,o=this.getColorScale(a,t);if(!!o){var s=Ri(t,o.field);if(!this.cache[s]){var u=Fnt(a,o.field,s),l=this.linkGroup,f=l.addGroup();this.cache[s]=f;var c=u.length;V(u,function(h,v){if(v<c-1){var g=u[v+1];i.addLinkShape(f,h,g,n)}})}}},r.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(!!n){var i=Ri(t,n.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},r.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=Do(n);i&&this.linkByElement(i,t==null?void 0:t.style)},r.prototype.unlink=function(){var t=Do(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(dr),t_=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(tc(this.context))t=P2(this.context,10);else{var n=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!i)return;var a={minX:Math.min(n.x,i.x),minY:Math.min(n.y,i.y),maxX:Math.max(n.x,i.x),maxY:Math.max(n.y,i.y)},o=this.context.view;t=b2(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=_r(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,n):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,n){var i=this,a=this.context.view,o=ea(a),s=t.map(function(f){return f.getModel().data}),u=a.getXScale().field,l=a.getYScales()[0].field;V(o,function(f){var c=_r(f),h=c.filter(function(v){var g=v.getModel().data;return U3(s,g,u,l)});i.setElementsState(h,n,c)})},r.prototype.setSiblingsState=function(t){var n=this,i=this.context.view,a=ea(i);tc(this.context)&&V(a,function(o){var s=_r(o),u=H3(n.context,o,10);u&&u.length?n.setElementsState(u,t,s):n.clearViewState(o)})},r.prototype.setElementsState=function(t,n,i){var a=this;V(i,function(o){t.includes(o)?a.setElementState(o,n):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var i=ea(n);V(i,function(a){t.clearViewState(a)})}else this.clearViewState(n)},r}(Q2),Put=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(t_),e_=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var n=Do(this.context);if(n){if(!W3(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},r.prototype.toggle=function(){var t=Do(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Q2),but=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(e_),Af="inactive",Pf="active";function r_(e){var r=_r(e);V(r,function(t){t.hasState(Pf)&&t.setState(Pf,!1),t.hasState(Af)&&t.setState(Af,!1)})}function UD(e,r,t){V(e,function(n){r(n)?(n.hasState(Af)&&n.setState(Af,!1),n.setState(Pf,t)):(n.hasState(Pf)&&n.setState(Pf,!1),n.setState(Af,t))})}var vs=Op.INACTIVE,Ca=Op.ACTIVE,n_=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=Ca,t}return r.prototype.setElementsStateByItem=function(t,n,i,a){var o=this,s=function(u){return o.isMathItem(u,n,i)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(vs)&&t.setState(vs,!1),t.setState(Ca,!0)):t.hasState(Ca)||t.setState(vs,!0)},r.prototype.setHighlightBy=function(t,n,i){var a=this;if(i)V(t,function(u){a.setElementHighlight(u,n)});else{var o=X3(this.context.view,Ca),s=!0;V(o,function(u){if(!n(u))return s=!1,!1}),s?this.clear():V(t,function(u){n(u)&&(u.hasState(Ca)&&u.setState(Ca,!1),u.setState(vs,!0))})}},r.prototype.setElementState=function(t,n){var i=this.context.view,a=_r(i);this.setHighlightBy(a,function(o){return t===o},n)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;r_(t)},r}(J2),Lut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,n){var i=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=i.getScaleByField(a.getFields()[0]),s=Ri(t,o.field),u=_r(i),l=u.filter(function(f){return Ri(f,o.field)===s});this.setHighlightBy(u,function(f){return l.includes(f)},n)}},r}(n_),Out=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(vs)&&t.setState(vs,!1),t.setState(Ca,!0)):(t.setState(vs,!0),t.hasState(Ca)&&t.setState(Ca,!1))},r.prototype.setStateByElement=function(t,n){var i=this.context.view,a=i.getXScale(),o=Ri(t,a.field),s=_r(i),u=s.filter(function(l){return Ri(l,a.field)===o});this.setHighlightBy(s,function(l){return u.includes(l)},n)},r.prototype.toggle=function(){var t=Do(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},r}(n_),Hi;(function(e){e.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",e.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",e.BEFORE_CLEAR="element-range-highlight:beforeclear",e.AFTER_CLEAR="element-range-highlight:afterclear"})(Hi||(Hi={}));var KD=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){r_(t)},r.prototype.highlight=function(){var t=this.context,n=t.view,i=t.event,a=this.getIntersectElements(),o={view:n,event:i,highlightElements:a};n.emit(Hi.BEFORE_HIGHLIGHT,kr.fromData(n,Hi.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(Hi.AFTER_HIGHLIGHT,kr.fromData(n,Hi.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(Hi.BEFORE_CLEAR,kr.fromData(t,Hi.BEFORE_CLEAR,{})),e.prototype.clear.call(this),t.emit(Hi.AFTER_CLEAR,kr.fromData(t,Hi.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,n,i){UD(i,function(a){return t.indexOf(a)>=0},n)},r}(t_),Iut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,n){var i=this.context.view,a=_r(i);UD(a,function(o){return t===o},n)},r.prototype.clear=function(){var t=this.context.view;r_(t)},r}(e_),Dut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(t_),But=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(J2),Rut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(e_),ks=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Xu(this.context),n=null;return Jf(t)&&(n={item:t.item,list:t.component}),n},r.prototype.getAllowComponents=function(){var t=this,n=this.context.view,i=V3(n),a=[];return V(i,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();V(n,function(i){i.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(this.cfg.componentNames.indexOf(i)===-1)return!1}var a=this.context.view,o=Vu(a,n);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,n){var i=this.ignoreItemStates;if(i.length){var a=i.filter(function(o){return n.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,n,i){var a=t.get("field"),o=this.context.view,s=Vu(o,a),u=Ri(n,a),l=s.getText(u);this.setItemsState(t,l,i)},r.prototype.setStateEnable=function(t){var n=this,i=Do(this.context);if(i){var a=this.getAllowComponents();V(a,function(l){n.setStateByElement(l,i,t)})}else{var o=Xu(this.context);if(Jf(o)){var s=o.item,u=o.component;this.allowSetStateByElement(u)&&this.allowSetStateByItem(s,u)&&this.setItemState(u,s,t)}}},r.prototype.setItemsState=function(t,n,i){var a=this,o=t.getItems();V(o,function(s){s.name===n&&a.setItemState(t,s,i)})},r.prototype.setItemState=function(t,n,i){t.setItemState(n,this.stateName,i)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,a=this.hasState(n,i);this.setItemState(n,i,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(dr),Fut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(ks),PP="inactive",bP="active";function kut(e){var r=e.getItems();V(r,function(t){e.hasState(t,bP)&&e.setItemState(t,bP,!1),e.hasState(t,PP)&&e.setItemState(t,PP,!1)})}var Xl="inactive",rs="active",i_=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=rs,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,n,i){this.setHighlightBy(t,function(a){return a.name===n},i)},r.prototype.setItemState=function(t,n,i){t.getItems(),this.setHighlightBy(t,function(a){return a===n},i)},r.prototype.setHighlightBy=function(t,n,i){var a=t.getItems();if(i)V(a,function(u){n(u)?(t.hasState(u,Xl)&&t.setItemState(u,Xl,!1),t.setItemState(u,rs,!0)):t.hasState(u,rs)||t.setItemState(u,Xl,!0)});else{var o=t.getItemsByState(rs),s=!0;V(o,function(u){if(!n(u))return s=!1,!1}),s?this.clear():V(a,function(u){n(u)&&(t.hasState(u,rs)&&t.setItemState(u,rs,!1),t.setItemState(u,Xl,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)kut(t.list);else{var n=this.getAllowComponents();V(n,function(i){i.clearItemsState(rs),i.clearItemsState(Xl)})}},r}(ks),$ut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(ks),Nut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(ks),au="unchecked",gv="checked",zut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=gv,t}return r.prototype.setItemState=function(t,n,i){this.setCheckedBy(t,function(a){return a===n},i)},r.prototype.setCheckedBy=function(t,n,i){var a=t.getItems();i&&V(a,function(o){n(o)?(t.hasState(o,au)&&t.setItemState(o,au,!1),t.setItemState(o,gv,!0)):t.hasState(o,gv)||t.setItemState(o,au,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,a=!nc(n.getItems(),function(o){return n.hasState(o,au)});a||n.hasState(i,au)?this.setItemState(n,i,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();V(t,function(n){n.clearItemsState(gv),n.clearItemsState(au)})},r}(ks),ou="unchecked",Gut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.toggle=function(){var t,n,i,a,o,s,u,l,f=this.getTriggerListInfo();if(f!=null&&f.item){var c=f.list,h=f.item,v=c.getItems(),g=v.filter(function($){return!c.hasState($,ou)}),d=v.filter(function($){return c.hasState($,ou)}),m=g[0];if(v.length===g.length)try{for(var x=C.exports.__values(v),E=x.next();!E.done;E=x.next()){var _=E.value;c.setItemState(_,ou,_.id!==h.id)}}catch($){t={error:$}}finally{try{E&&!E.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}else if(v.length-d.length===1)if(m.id===h.id)try{for(var M=C.exports.__values(v),A=M.next();!A.done;A=M.next()){var _=A.value;c.setItemState(_,ou,!1)}}catch($){i={error:$}}finally{try{A&&!A.done&&(a=M.return)&&a.call(M)}finally{if(i)throw i.error}}else try{for(var b=C.exports.__values(v),I=b.next();!I.done;I=b.next()){var _=I.value;c.setItemState(_,ou,_.id!==h.id)}}catch($){o={error:$}}finally{try{I&&!I.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}else try{for(var L=C.exports.__values(v),F=L.next();!F.done;F=L.next()){var _=F.value;c.setItemState(_,ou,_.id!==h.id)}}catch($){u={error:$}}finally{try{F&&!F.done&&(l=L.return)&&l.call(L)}finally{if(u)throw u.error}}}},r}(ks),LP="showRadio",y1="legend-radio-tip",Wut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,i=t.item;n.setItemState(i,LP,!0)}},r.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,i=t.item;n.setItemState(i,LP,!1)}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var t=this.context,n=t.event,i=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-i>16&&o.get("name")==="legend-item-radio"){var s=this.location,u={x:n.x,y:n.y};this.timeStamp=a,this.location=u,(!s||!er(s,u))&&this.showTooltip(u)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,u=o.y;this.tooltip.update(C.exports.__assign(C.exports.__assign({title:a.get("tip")},t),{x:t.x+s,y:t.y+u})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=(t={},t[ka]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[$a]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(y1)&&document.body.removeChild(document.getElementById(y1));var i=new rd({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:y1});i.init(),i.setCapture(!1),this.tooltip=i},r}(ks),a_=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="mask:".concat(t),i=this.context.view,a=this.context.event;i.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),i=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:C.exports.__assign({fill:"#C5D4EB",opacity:.3},n)});return i},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,i=t.x-n.x,a=t.y-n.y,o=this.points;V(o,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var n=Et({},this.getMaskAttrs(),t);this.maskShape.attr(n)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,e.prototype.destroy.call(this)},r}(dr),Yut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,n=vr(this.points),i=0,a=0,o=0;if(t.length){var s=t[0];i=L2(s,n)/2,a=(n.x+s.x)/2,o=(n.y+s.y)/2}return{x:a,y:o,r:i}},r}(a_),qD=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:xn(t),end:vr(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,i=t.end,a=Math.min(n.x,i.x),o=Math.min(n.y,i.y),s=Math.abs(i.x-n.x),u=Math.abs(i.y-n.y);return{x:a,y:o,width:s,height:u}},r}(a_);function OP(e){e.x=Ge(e.x,0,1),e.y=Ge(e.y,0,1)}var jD=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,n=null,i=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert(xn(i)),u=o.invert(vr(i));return this.inPlot&&(OP(s),OP(u)),a==="x"?(t=o.convert({x:s.x,y:0}),n=o.convert({x:u.x,y:1})):(t=o.convert({x:0,y:s.y}),n=o.convert({x:1,y:u.y})),{start:t,end:n}},r}(qD),ZD=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,n=[];return t.length&&(V(t,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n.push(["L",t[0].x,t[0].y])),n},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(a_),Hut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Nnt(t,!0)},r}(ZD),Xut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(dr),Vut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,i){var a=this;t.getScaleByField(n)&&t.filter(n,i),t.views&&t.views.length&&V(t.views,function(o){a.filterView(o,n,i)})},r.prototype.filter=function(){var t=Xu(this.context);if(t){var n=this.context.view,i=t.component,a=i.get("field");if(Jf(t)){if(a){var o=i.getItemsByState("unchecked"),s=Vu(n,a),u=o.map(function(v){return v.name});u.length?this.filterView(n,a,function(v){var g=s.getText(v);return!u.includes(g)}):this.filterView(n,a,null),n.render(!0)}}else if(Y3(t)){var l=i.getValue(),f=C.exports.__read(l,2),c=f[0],h=f[1];this.filterView(n,a,function(v){return v>=c&&v<=h}),n.render(!0)}}},r}(dr);function IP(e,r,t,n){var i=Math.min(t[r],n[r]),a=Math.max(t[r],n[r]),o=C.exports.__read(e.range,2),s=o[0],u=o[1];if(i<s&&(i=s),a>u&&(a=u),i===u&&a===u)return null;var l=e.invert(i),f=e.invert(a);if(e.isCategory){var c=e.values.indexOf(l),h=e.values.indexOf(f),v=e.values.slice(c,h+1);return function(g){return v.includes(g)}}else return function(g){return g>=l&&g<=f}}var ii;(function(e){e.FILTER="brush-filter-processing",e.RESET="brush-filter-reset",e.BEFORE_FILTER="brush-filter:beforefilter",e.AFTER_FILTER="brush-filter:afterfilter",e.BEFORE_RESET="brush-filter:beforereset",e.AFTER_RESET="brush-filter:afterreset"})(ii||(ii={}));var sd=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,n;if(tc(this.context)){var i=this.context.event.target,a=i.getCanvasBBox();t={x:a.x,y:a.y},n={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var o=this.context,s=o.view,u=o.event,l={view:s,event:u,dims:this.dims};s.emit(ii.BEFORE_FILTER,kr.fromData(s,ii.BEFORE_FILTER,l));var f=s.getCoordinate(),c=f.invert(n),h=f.invert(t);if(this.hasDim("x")){var v=s.getXScale(),g=IP(v,"x",c,h);this.filterView(s,v.field,g)}if(this.hasDim("y")){var d=s.getYScales()[0],g=IP(d,"y",c,h);this.filterView(s,d.field,g)}this.reRender(s,{source:ii.FILTER}),s.emit(ii.AFTER_FILTER,kr.fromData(s,ii.AFTER_FILTER,l))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(ii.BEFORE_RESET,kr.fromData(t,ii.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t,{source:ii.RESET}),t.emit(ii.AFTER_RESET,kr.fromData(t,ii.AFTER_RESET,{}))},r.prototype.filterView=function(t,n,i){t.filter(n,i)},r.prototype.reRender=function(t,n){t.render(!0,n)},r}(dr),o_=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,i){var a=ea(t);V(a,function(o){o.filter(n,i)})},r.prototype.reRender=function(t){var n=ea(t);V(n,function(i){i.render(!0)})},r}(sd),Uut=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Xu(this.context),n=this.context.view,i=_r(n);if(tc(this.context)){var a=P2(this.context,10);a&&V(i,function(d){a.includes(d)?d.show():d.hide()})}else if(t){var o=t.component,s=o.get("field");if(Jf(t)){if(s){var u=o.getItemsByState("unchecked"),l=Vu(n,s),f=u.map(function(d){return d.name});V(i,function(d){var m=Ri(d,s),x=l.getText(m);f.indexOf(x)>=0?d.hide():d.show()})}}else if(Y3(t)){var c=o.getValue(),h=C.exports.__read(c,2),v=h[0],g=h[1];V(i,function(d){var m=Ri(d,s);m>=v&&m<=g?d.show():d.hide()})}}},r.prototype.clear=function(){var t=_r(this.context.view);V(t,function(n){n.show()})},r.prototype.reset=function(){this.clear()},r}(dr),QD=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){tc(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,n=P2(this.context,10);if(!!n){var i=t.getXScale().field,a=t.getYScales()[0].field,o=n.map(function(u){return u.getModel().data}),s=ea(t);V(s,function(u){var l=_r(u);V(l,function(f){var c=f.getModel().data;U3(o,c,i,a)?f.show():f.hide()})})}},r.prototype.filterByBBox=function(){var t=this,n=this.context.view,i=ea(n);V(i,function(a){var o=H3(t.context,a,10),s=_r(a);o&&V(s,function(u){o.includes(u)?u.show():u.hide()})})},r.prototype.reset=function(){var t=ea(this.context.view);V(t,function(n){var i=_r(n);V(i,function(a){a.show()})})},r}(dr),Kut=10,qut=5,jut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return Et(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),i=n.addShape({type:"text",name:"button-text",attrs:C.exports.__assign({text:t.text},t.textStyle)}),a=i.getBBox(),o=O2(t.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:C.exports.__assign({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),n.on("mouseenter",function(){s.attr(t.activeStyle)}),n.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=n},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=or(null,[["t",i.x-o.width-Kut,i.y+o.height+qut]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(dr),Zut=4,Qut=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,i=this.context.event;this.dragStart?n.emit("drag",{target:i.target,x:i.x,y:i.y}):L2(t,this.startPoint)>Zut&&(n.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},r}(dr),Jut=5,tlt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),i=L2(t,n);if(i>Jut&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=or(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(dr),DP="x",BP="y",JD=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=[DP,BP],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},r.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);n.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(DP),this.resetDim(BP);var t=this.context.view;t.render(!0)},r}(dr),elt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;V(n,function(i){var a=t.getScale(i),o=a.min,s=a.max,u=a.values;t.startCache[i]={min:o,max:s,values:u}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var n=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(n),s=i.invert(a),u=s.x-o.x,l=s.y-o.y,f=this.context.view,c=this.dims;V(c,function(h){t.translateDim(h,{x:u*-1,y:l*-1})}),f.render(!0)}},r.prototype.translateDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,n)}},r.prototype.translateLinear=function(t,n,i){var a=this.context.view,o=this.startCache[t],s=o.min,u=o.max,l=u-s,f=i[t]*l;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:s,max:u}),a.scale(n.field,{nice:!1,min:s+f,max:u+f})},r.prototype.reset=function(){e.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(JD),rlt=function(e){C.exports.__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var n=this,i=this.dims;V(i,function(a){n.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,n)}},r.prototype.zoomLinear=function(t,n,i){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,u=n.min,l=n.max,f=i*s,c=u-f,h=l+f,v=h-c,g=v/s;h>c&&g<100&&g>.01&&a.scale(n.field,{nice:!1,min:u-f,max:l+f})},r}(JD);function nlt(e){var r=e.gEvent.originalEvent;return r.deltaY>0}var ilt=1,alt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.scroll=function(t){var n=this.context,i=n.view,a=n.event;if(!!i.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||ilt,s=i.getController("scrollbar"),u=i.getXScale(),l=i.getOptions().data,f=Zr(na(l,u.field)),c=Zr(u.values),h=s.getValue(),v=Math.floor((f-c)*h),g=v+(nlt(a)?o:-o),d=o/(f-c)/1e4,m=Ge(g/(f-c)+d,0,1);s.setValue(m)}},r}(dr),olt="aixs-description-tooltip",slt=function(e){C.exports.__extends(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context,n=Xu(t).axis,i=n.cfg.title,a=i.description,o=i.text,s=i.descriptionTooltipStyle,u=t.event,l=u.x,f=u.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(ka,'" style={').concat(s,`}>
            <div class="`).concat($a,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(a,`
            </div>
          </div>
        `)},x:l,y:f}),this.tooltip.show()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=new rd({parent:i.get("el").parentNode,region:a,visible:!1,containerId:olt,domStyles:C.exports.__assign({},Et({},(t={},t[ka]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[$a]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},r}(dr);Qnt("dark",q3(Git));jO("canvas",Rat);jO("svg",Tot);la("Polygon",zot);la("Interval",Rot);la("Schema",Got);la("Path",X2);la("Point",$ot);la("Line",Fot);la("Area",Pot);la("Edge",bot);la("Heatmap",Lot);la("Violin",Yot);id("base",R2);id("interval",ast);id("pie",ost);id("polar",GD);An("overlap",wst);An("distribute",ust);An("fixed-overlap",xst);An("hide-overlap",bst);An("limit-in-shape",gst);An("limit-in-canvas",pst);An("limit-in-plot",Vst);An("pie-outer",fst);An("adjust-color",Ost);An("interval-adjust-position",Rst);An("interval-hide-overlap",kst);An("point-adjust-position",zst);An("pie-spider",vst);An("path-adjust-position",Yst);Kn("fade-in",Ust);Kn("fade-out",Kst);Kn("grow-in-x",jst);Kn("grow-in-xy",Qst);Kn("grow-in-y",Zst);Kn("scale-in-x",eut);Kn("scale-in-y",rut);Kn("wave-in",iut);Kn("zoom-in",aut);Kn("zoom-out",out);Kn("position-update",tut);Kn("sector-path-update",nut);Kn("path-in",Jst);ol("rect",cut);ol("mirror",fut);ol("list",uut);ol("matrix",lut);ol("circle",sut);ol("tree",hut);sl("axis",gut);sl("legend",dut);sl("tooltip",dit);sl("annotation",put);sl("slider",yut);sl("scrollbar",wut);Wt("tooltip",VD);Wt("sibling-tooltip",Cut);Wt("ellipsis-text",Sut);Wt("element-active",Tut);Wt("element-single-active",but);Wt("element-range-active",Put);Wt("element-highlight",n_);Wt("element-highlight-by-x",Out);Wt("element-highlight-by-color",Lut);Wt("element-single-highlight",Iut);Wt("element-range-highlight",KD);Wt("element-sibling-highlight",KD,{effectSiblings:!0,effectByRecord:!0});Wt("element-selected",But);Wt("element-single-selected",Rut);Wt("element-range-selected",Dut);Wt("element-link-by-color",Aut);Wt("active-region",Mut);Wt("list-active",Fut);Wt("list-selected",$ut);Wt("list-highlight",i_);Wt("list-unchecked",Nut);Wt("list-checked",zut);Wt("list-focus",Gut);Wt("list-radio",Wut);Wt("legend-item-highlight",i_,{componentNames:["legend"]});Wt("axis-label-highlight",i_,{componentNames:["axis"]});Wt("axis-description",slt);Wt("rect-mask",qD);Wt("x-rect-mask",jD,{dim:"x"});Wt("y-rect-mask",jD,{dim:"y"});Wt("circle-mask",Yut);Wt("path-mask",ZD);Wt("smooth-path-mask",Hut);Wt("cursor",Xut);Wt("data-filter",Vut);Wt("brush",sd);Wt("brush-x",sd,{dims:["x"]});Wt("brush-y",sd,{dims:["y"]});Wt("sibling-filter",o_);Wt("sibling-x-filter",o_);Wt("sibling-y-filter",o_);Wt("element-filter",Uut);Wt("element-sibling-filter",QD);Wt("element-sibling-filter-record",QD,{byRecord:!0});Wt("view-drag",Qut);Wt("view-move",tlt);Wt("scale-translate",elt);Wt("scale-zoom",rlt);Wt("reset-button",jut,{name:"reset-button",text:"reset"});Wt("mousewheel-scroll",alt);function Co(e){return e.isInPlot()}$e("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});$e("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});$e("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});$e("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});$e("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});$e("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});$e("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});$e("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});$e("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});$e("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});$e("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});$e("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(e){return!e.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(e){return!e.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});$e("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Co,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Co,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Co,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});$e("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});$e("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Co,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Co,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Co,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});$e("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Co,action:"path-mask:start"},{trigger:"mousedown",isEnable:Co,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});$e("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});$e("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(e){return!e.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});$e("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});$e("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});$e("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]});$e("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});$e("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function RP(e){return e.gEvent.preventDefault(),e.gEvent.originalEvent.deltaY>0}$e("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(e){return RP(e.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(e){return!RP(e.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});$e("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});$e("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});const ult=e=>{const r=jr(null);return fetch("https://gw.alipayobjects.com/os/antvdemo/assets/data/terrorism.json").then(t=>t.json()).then(t=>{const n=new EZ,i=new pit({container:e,autoFit:!0,syncViewPadding:!0});i.scale({Deaths:{sync:!0,nice:!0},death:{sync:!0,nice:!0}});const a=n.createView().source(t);a.transform({type:"map",callback:l=>(typeof l.Deaths=="string"&&(l.Deaths=l.Deaths.replace(",","")),l.Deaths=parseInt(l.Deaths,10),l.death=l.Deaths,l.year=l.Year,l)});const o=i.createView();o.data(a.rows),o.axis("Year",{subTickLine:{count:3,length:3},tickLine:{length:6}}),o.axis("Deaths",{label:{formatter:l=>l.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}}),o.line().position("Year*Deaths");const s=n.createView().source(a.rows);s.transform({type:"regression",method:"polynomial",fields:["year","death"],bandwidth:.1,as:["year","death"]});const u=i.createView();u.axis(!1),u.data(s.rows),u.line().position("year*death").style({stroke:"#969696",lineDash:[3,3]}).tooltip(!1),o.annotation().text({content:"\u8D8B\u52BF\u7EBF",position:["1970",2500],style:{fill:"#8c8c8c",fontSize:14,fontWeight:300},offsetY:-70}),i.render(),r.value=i}),r},tB=(e,r)=>{const t={x:null,y:null},n=a=>{t.x=a.x,t.y=a.y},i=a=>{t.x===null||t.y===null||Math.abs(a.x-t.x)<5&&Math.abs(a.x-t.x)<5&&r(a)};e.addEventListener("mousedown",n),e.addEventListener("mouseup",i),As(()=>{e.removeEventListener("mousedown",n),e.removeEventListener("mouseup",i)})};const llt=za({__name:"Panel",props:{panel:null},setup(e){const r=e,{panel:t}=Ke(r),n=jr(null),i=Ro(),{panels:a}=Ke(i),o=s=>{s.ctrlKey||s.metaKey?a.value.map(u=>u.id).includes(t.value.id)?i.set(a.value.filter(u=>u.id!==t.value.id)):i.set(a.value.concat(t.value)):a.value.length===1&&a.value[0].id===t.value.id?i.set([]):i.set([t.value])};return Oa(()=>{const s=n.value;!s||m8(t.value.id,s)}),Oa(()=>{const s=n.value;if(!s)return;tB(s,f=>{o(f)});const u=ult(s),l=So.exports.debounce(()=>{var f;(f=u.value)==null||f.forceFit()},200);u8(()=>[t.value.width,t.value.height],()=>{l()})}),(s,u)=>(Oi(),ra("div",{ref_key:"panelDomRef",ref:n,class:"panel",style:qu({width:`${$r(t).width}px`,height:`${$r(t).height}px`,left:`${$r(t).x}px`,top:`${$r(t).y}px`,overflow:"hidden",background:"#F8F9FC"})},null,4))}});const flt={class:"panels"},clt=za({__name:"Panels",setup(e){const r=Ls(),{panels:t}=Ke(r);return(n,i)=>(Oi(),ra("div",flt,[(Oi(!0),ra(FP,null,l8($r(t),a=>(Oi(),f8(llt,{class:"panel",key:a.id,panel:a},null,8,["panel"]))),128))]))}}),eB=()=>{const e=Ro(),{panels:r}=Ke(e);return Yn(()=>{let t=0,n=0,i=0,a=0;return r.value.forEach(o=>{(!t||o.x<t)&&(t=o.x),(!n||o.y<n)&&(n=o.y),(!i||o.x+o.width>i)&&(i=o.x+o.width),(!a||o.y+o.height>a)&&(a=o.y+o.height)}),{minX:t,minY:n,maxX:i,maxY:a}})},hlt=e=>{const r=eB(),t=Yn(()=>Math.abs(r.value.maxX-r.value.minX)),n=Yn(()=>Math.abs(r.value.maxY-r.value.minY)),i=bs(),{zoom:a}=Ke(i),o=Ls(),{panels:s}=Ke(o),u=Ro(),{panels:l}=Ke(u),f=Yn(()=>l.value.map(M=>M.id)),c=w1({x:0,y:0}),h=jr(0),v=[0,90,180,-90,-180],g=3,d=w1({x:0,y:0}),m=jr(null),x=M=>{M.preventDefault();const A=M.x,b=M.y,I=(A-c.x)/a.value,L=(b-c.y)/a.value;if(!L&&!I)return;const F=d.x,$=d.y;let Y=null,k=0,z=0,S=0,T=0;switch(m.value){case"resize-w":k=I,T=-I;break;case"resize-e":T=I;break;case"resize-n":z=L,S=-L;break;case"resize-s":S=L;break;case"resize-nw":k=I,T=-I,z=L,S=-L;break;case"resize-sw":k=I,T=-I,S=L;break;case"resize-se":T=I,S=L;break;case"resize-ne":T=I,z=L,S=-L;break;case"rotate":Y=Math.atan2($-b,F-A)*(180/Math.PI)-90,v.some(O=>{Y!==null&&Math.abs(O-Y)<g&&(Y=O)}),h.value=Y;break}if(c.x=M.clientX,c.y=M.clientY,m.value!=="rotate"){const O=T+t.value,D=S+n.value,H=O/t.value,it=D/n.value;o.set(s.value.map(pt=>{if(f.value.includes(pt.id)){const yt=(pt.x-r.value.minX)*H,mt=(pt.y-r.value.minY)*it;return{...pt,x:r.value.minX+k+yt,y:r.value.minY+z+mt,width:pt.width*H,height:pt.height*it}}return pt}))}},E=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",E)},_=M=>{M.button===0&&(M.preventDefault(),M.stopPropagation(),m.value=M.target.getAttribute("data-rangeBoxType"),c.x=M.x,c.y=M.y,window.addEventListener("mousemove",x),window.addEventListener("mouseup",E))};e.addEventListener("mousedown",_),window.addEventListener("blur",E),As(()=>{E(),e.removeEventListener("mousedown",_),window.removeEventListener("blur",E)})};const vlt=p8('<div class="selected-box-border" data-rangeBoxType="resize-w"></div><div class="selected-box-border" data-rangeBoxType="resize-n"></div><div class="selected-box-border" data-rangeBoxType="resize-e"></div><div class="selected-box-border" data-rangeBoxType="resize-s"></div><div class="resize" data-rangeBoxType="resize-nw"></div><div class="resize" data-rangeBoxType="resize-ne"></div><div class="resize" data-rangeBoxType="resize-sw"></div><div class="resize" data-rangeBoxType="resize-se"></div>',8),plt=[vlt],glt=za({__name:"SelectedBox",setup(e){c8(l=>({"1dfce886":$r(o),"113ea274":$r(s)}));const r=jr(null),t=Ro(),{panels:n}=Ke(t),i=bs(),{zoom:a}=Ke(i),o=Yn(()=>`${2/a.value<2?2:2/a.value}px`),s=Yn(()=>`${6/a.value<6?6:6/a.value}px`),u=Yn(()=>{const l=eB();return{left:`${l.value.minX-2}px`,top:`${l.value.minY-2}px`,width:`${l.value.maxX-l.value.minX+4}px`,height:`${l.value.maxY-l.value.minY+4}px`}});return Oa(()=>{const l=r.value;if(!l){console.error("range dom \u672A\u627E\u5230");return}hlt(l)}),(l,f)=>h8((Oi(),ra("div",{ref_key:"rangeBoxRef",ref:r,class:"selected-box",style:qu($r(u))},plt,4)),[[v8,$r(n).length]])}});const dlt=["id"],ylt=za({__name:"Canvas",setup(e){const r=kP(),t=Ps(),n=bs(),{zoom:i}=Ke(n),{x:a,y:o}=Ke(t),s=Yn(()=>({transform:`translate3d(${a.value}px, ${o.value}px, 0px) scale(${i.value})`}));return(u,l)=>(Oi(),ra("div",{id:$r(r),style:qu($r(s))},[ps(glt),ps(clt)],12,dlt))}}),pf=2e3,gf=2e3,mlt=e=>{const r=Ps(),{x:t,y:n}=Ke(r),i=e.value;if(!i)return;let a=null,o=null;ix(s=>{const u=l=>{if(l.ctrlKey||l.metaKey)return;a===null&&(a={x:t.value,y:n.value}),l.preventDefault();const f=l.deltaX||l.wheelDeltaX,c=l.deltaY||l.wheelDeltaY,h={x:a.x,y:a.y};h.x-=f,h.y-=c,h.x<-pf&&(h.x=-pf),h.x>pf&&(h.x=pf),h.y<-gf&&(h.y=-gf),h.y>gf&&(h.y=gf),a={...h},o&&clearTimeout(o),r.set(h),o=setTimeout(()=>{a=null},200)};i.addEventListener("wheel",u),s(()=>{i.removeEventListener("wheel",u)})})},xlt=(e,r,t,n)=>{const i=Ps(),{x:a}=Ke(i);let o=0;const s=So.exports.throttle(f=>{f.preventDefault();const c=f.clientY+o;i.set({x:a.value,y:-c*r.value}),t.value=c},15),u=So.exports.throttle(()=>{window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",s),n.value=!1},15),l=f=>{f.button===0&&(f.preventDefault(),o=t.value-f.clientY,window.addEventListener("mousemove",s),window.addEventListener("mouseup",u),n.value=!0)};e.addEventListener("mousedown",l),As(()=>{e.removeEventListener("mousedown",l),window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",s)})};const wlt=za({__name:"YThumb",setup(e){const t=Ps(),{y:n}=Ke(t),i=jr(0),a=jr(0),o=jr(!1),s=jr(null);Oa(()=>{const l=s.value;!l||(ix(()=>{const f=gf*2;a.value=f/(l.offsetHeight-20),i.value=a.value?-n.value/a.value:0}),xlt(l,a,i,o))});const u=Yn(()=>({transform:`matrix(1, 0, 0, 1, 0, ${i.value.toFixed()})`}));return(l,f)=>(Oi(),ra("div",{ref_key:"yThumbBarRef",ref:s,id:"y_thumb_bar"},[lu("div",{id:"y_thumb",style:qu($r(u))},null,4)],512))}}),_lt=(e,r,t,n)=>{const i=Ps(),{y:a}=Ke(i);let o=0;const s=So.exports.throttle(f=>{f.preventDefault();const c=f.clientX+o;i.set({y:a.value,x:-c*r.value}),t.value=c},15),u=So.exports.throttle(()=>{window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",s),n.value=!1},15),l=f=>{f.button===0&&(f.preventDefault(),o=t.value-f.clientX,window.addEventListener("mousemove",s),window.addEventListener("mouseup",u),n.value=!0)};e.addEventListener("mousedown",l),As(()=>{e.removeEventListener("mousedown",l),window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",s)})};const Elt=za({__name:"XThumb",setup(e){const t=Ps(),{x:n}=Ke(t),i=jr(0),a=jr(0),o=jr(!1),s=jr(null);Oa(()=>{const l=s.value;!l||(ix(()=>{const f=pf*2;a.value=f/(l.offsetWidth-20),i.value=a.value?-n.value/a.value:0}),_lt(l,a,i,o))});const u=Yn(()=>({transform:`matrix(1, 0, 0, 1, ${i.value.toFixed()}, 0)`}));return(l,f)=>(Oi(),ra("div",{id:"x_thumb_bar",ref_key:"xThumbBarRef",ref:s},[lu("div",{class:g8(o.value?"active":""),id:"x_thumb",style:qu($r(u))},null,6)],512))}}),Mlt=za({__name:"index",setup(e){return(r,t)=>(Oi(),ra(FP,null,[ps(wlt),ps(Elt)],64))}});class mu{constructor(r,t,n){var a;const i=this;i.r=r,i.c=t;for(let o=0;o<r;o++)i[o]=[];if(n)for(let o=0;o<i.r;o++)for(let s=0;s<i.c;s++)i[o][s]=(a=n[o][s])!=null?a:i[o][s]}multiplyD(r){const t=this;let n=new mu(t.r,r.c),i=t.c;for(let a=0;a<n.r;a++)for(let o=0;o<n.c;o++){let s=0;for(let u=0;u<i;u++)s+=t[a][u]*r[u][o];n[a][o]=s}return n}}const Clt=e=>{const r=e.value;if(!r)return;const t=Ps(),n=bs(),i=a=>{if(!a.ctrlKey&&!a.metaKey)return;a.preventDefault();const s=a.x-r.getBoundingClientRect().left,u=a.y-r.getBoundingClientRect().top,l=-(So.exports.isInteger(a.deltaY)?a.deltaY/1e3:a.deltaY/100)*2,f=n.zoom*(1+l);if(f<.2||f>5)return;const c=new mu(1,3,[[t.x,t.y,1]]),h=new mu(3,3,[[1,0,0],[0,1,0],[-s,-u,1]]),v=new mu(3,3,[[1+l,0,0],[0,1+l,0],[0,0,1]]),g=new mu(3,3,[[1,0,0],[0,1,0],[s,u,1]]),d=c.multiplyD(h).multiplyD(v).multiplyD(g),m=d[0][0],x=d[0][1];n.set(f),t.set({x:m,y:x})};r.addEventListener("wheel",i)};var dv,Slt=new Uint8Array(16);function Tlt(){if(!dv&&(dv=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dv(Slt)}var Alt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Plt(e){return typeof e=="string"&&Alt.test(e)}var Tr=[];for(var m1=0;m1<256;++m1)Tr.push((m1+256).toString(16).substr(1));function blt(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Tr[e[r+0]]+Tr[e[r+1]]+Tr[e[r+2]]+Tr[e[r+3]]+"-"+Tr[e[r+4]]+Tr[e[r+5]]+"-"+Tr[e[r+6]]+Tr[e[r+7]]+"-"+Tr[e[r+8]]+Tr[e[r+9]]+"-"+Tr[e[r+10]]+Tr[e[r+11]]+Tr[e[r+12]]+Tr[e[r+13]]+Tr[e[r+14]]+Tr[e[r+15]]).toLowerCase();if(!Plt(t))throw TypeError("Stringified UUID is invalid");return t}function Llt(e,r,t){e=e||{};var n=e.random||(e.rng||Tlt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var i=0;i<16;++i)r[t+i]=n[i];return r}return blt(n)}const Olt=()=>{const e=kP(),r=$P(),t=w1({x:0,y:0,x1:0,y1:0,visibility:!1}),n=Ls(),{panels:i}=Ke(n),a=bs(),{zoom:o}=Ke(a),s=Ro(),u=c=>{const h=c.x,v=c.y;if(Math.abs(h-t.x)<5&&Math.abs(v-t.y)<5){t.visibility=!1;return}t.visibility=!0,t.x=Math.min(t.x,h),t.y=Math.min(t.y,v),t.x1=Math.max(t.x,h),t.y1=Math.max(t.y,v)},l=()=>{if(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",l),t.visibility){t.visibility=!1;const c=document.querySelector(`#${e}`);if(!c){console.error("\u7F3A\u5C11 canvas dom");return}const h=c.getBoundingClientRect();s.set(i.value.filter(v=>Ilt(t,v,h,o.value)))}},f=c=>{if(c.ctrlKey||c.metaKey||c.button!==0)return;const h=document.querySelector(`#${e}`),v=document.querySelector(`#${r}`);c.target!==v&&c.target!==h||(window.addEventListener("mouseup",l),window.addEventListener("mousemove",u),t.x=c.x,t.y=c.y)};return Oa(()=>{window.addEventListener("mousedown",f)}),As(()=>{window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",u),window.removeEventListener("mousedown",f)}),t};function Ilt(e,r,t,n){return r.x*n+t.x>=e.x&&r.y*n+t.y>=e.y&&r.x*n+r.width*n+t.x<=e.x1&&r.y*n+r.height*n+t.y<=e.y1}const Dlt=za({__name:"MultipleSelectBox",setup(e){const r=Olt(),t=Yn(()=>({display:r.visibility?"block":"none",left:`${r.x}px`,top:`${r.y}px`,width:`${r.x1-r.x}px`,height:`${r.y1-r.y}px`}));return(n,i)=>(Oi(),ra("div",{id:"multiple_select_panels",style:qu($r(t))},null,4))}});var rB={exports:{}};(function(e){(function(r){var t,n={},i={16:!1,18:!1,17:!1,91:!1},a="all",o={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},u=function(S){return s[S]||S.toUpperCase().charCodeAt(0)},l=[];for(t=1;t<20;t++)s["f"+t]=111+t;function f(S,T){for(var O=S.length;O--;)if(S[O]===T)return O;return-1}function c(S,T){if(S.length!=T.length)return!1;for(var O=0;O<S.length;O++)if(S[O]!==T[O])return!1;return!0}var h={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function v(S){for(t in i)i[t]=S[h[t]]}function g(S){var T,O,D,H,it,pt;if(T=S.keyCode,f(l,T)==-1&&l.push(T),(T==93||T==224)&&(T=91),T in i){i[T]=!0;for(D in o)o[D]==T&&(x[D]=!0);return}if(v(S),!!x.filter.call(this,S)&&T in n){for(pt=I(),H=0;H<n[T].length;H++)if(O=n[T][H],O.scope==pt||O.scope=="all"){it=O.mods.length>0;for(D in i)(!i[D]&&f(O.mods,+D)>-1||i[D]&&f(O.mods,+D)==-1)&&(it=!1);(O.mods.length==0&&!i[16]&&!i[18]&&!i[17]&&!i[91]||it)&&O.method(S,O)===!1&&(S.preventDefault?S.preventDefault():S.returnValue=!1,S.stopPropagation&&S.stopPropagation(),S.cancelBubble&&(S.cancelBubble=!0))}}}function d(S){var T=S.keyCode,O,D=f(l,T);if(D>=0&&l.splice(D,1),(T==93||T==224)&&(T=91),T in i){i[T]=!1;for(O in o)o[O]==T&&(x[O]=!1)}}function m(){for(t in i)i[t]=!1;for(t in o)x[t]=!1}function x(S,T,O){var D,H;D=F(S),O===void 0&&(O=T,T="all");for(var it=0;it<D.length;it++)H=[],S=D[it].split("+"),S.length>1&&(H=$(S),S=[S[S.length-1]]),S=S[0],S=u(S),S in n||(n[S]=[]),n[S].push({shortcut:D[it],scope:T,method:O,key:D[it],mods:H})}function E(S,T){var O,D,H=[],it,pt,yt;for(O=F(S),pt=0;pt<O.length;pt++){if(D=O[pt].split("+"),D.length>1&&(H=$(D),S=D[D.length-1]),S=u(S),T===void 0&&(T=I()),!n[S])return;for(it=0;it<n[S].length;it++)yt=n[S][it],yt.scope===T&&c(yt.mods,H)&&(n[S][it]={})}}function _(S){return typeof S=="string"&&(S=u(S)),f(l,S)!=-1}function M(){return l.slice(0)}function A(S){var T=(S.target||S.srcElement).tagName;return!(T=="INPUT"||T=="SELECT"||T=="TEXTAREA")}for(t in o)x[t]=!1;function b(S){a=S||"all"}function I(){return a||"all"}function L(S){var T,O,D;for(T in n)for(O=n[T],D=0;D<O.length;)O[D].scope===S?O.splice(D,1):D++}function F(S){var T;return S=S.replace(/\s/g,""),T=S.split(","),T[T.length-1]==""&&(T[T.length-2]+=","),T}function $(S){for(var T=S.slice(0,S.length-1),O=0;O<T.length;O++)T[O]=o[T[O]];return T}function Y(S,T,O){S.addEventListener?S.addEventListener(T,O,!1):S.attachEvent&&S.attachEvent("on"+T,function(){O(window.event)})}Y(document,"keydown",function(S){g(S)}),Y(document,"keyup",d),Y(window,"focus",m);var k=r.key;function z(){var S=r.key;return r.key=k,S}r.key=x,r.key.setScope=b,r.key.getScope=I,r.key.deleteScope=L,r.key.filter=A,r.key.isPressed=_,r.key.getPressedKeyCodes=M,r.key.noConflict=z,r.key.unbind=E,e.exports=x})(ui)})(rB);var x1=rB.exports;const Blt=jr(3e3),yv=(e,r)=>{const t=d8();t.set({type:e,title:r}),setTimeout(()=>{t.messageList.length>0&&t.shift()},Blt.value)};class Rlt{info(r){yv("info",r)}wraning(r){yv("wraning",r)}success(r){yv("success",r)}error(r){yv("error",r)}}const Flt=new Rlt,klt=()=>{const e=Ro(),r=Ls(),{panels:t}=Ke(e);Oa(()=>{x1("delete, backspace",n=>{n.preventDefault(),r.clear(t.value.map(i=>i.id)),Flt.success("\u5220\u9664\u6210\u529F")}),As(()=>{x1.unbind("backspace"),x1.unbind("delete")})})};const $lt=["id"],Nlt={id:"zoom"},Glt=za({__name:"Dashboard",setup(e){const r=jr(null),t=$P(),n=Ro();Oa(()=>{mlt(r),Clt(r)});function i(){return Math.floor(Math.random()*500)*(Math.round(Math.random())*2-1)}const a=Ls(),o=()=>{a.set(a.panels.concat({id:Llt(),width:200,height:200,rotate:0,x:i(),y:i()}))},s=()=>{a.clear()},u=bs(),{zoom:l}=Ke(u);return Oa(()=>{const f=r.value;!f||tB(f,c=>{c.target===c.currentTarget&&n.set([])})}),klt(),(f,c)=>(Oi(),ra("div",{ref_key:"dashboardRef",ref:r,id:$r(t)},[lu("div",{class:"tools"},[lu("button",{onClick:o},"\u6DFB\u52A0\u4E00\u4E2A\u56FE\u5F62"),lu("button",{onClick:s},"\u6E05\u7A7A")]),ps(ylt),ps(Dlt),ps(Mlt),lu("div",Nlt,"\u5F53\u524D\u7F29\u653E\uFF1A"+y8($r(l).toFixed(2)),1)],8,$lt))}});export{Glt as default};
